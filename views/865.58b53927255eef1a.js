"use strict";(self.webpackChunkih_portal=self.webpackChunkih_portal||[]).push([[865],{8865:(ce,I,v)=>{v.r(I),v.d(I,{DashboardsModule:()=>le});var N=v(8692),h=v(92),S=v(4032),F=v(8968),C=v(8239),r=v(8629),e=v(4537),q=v(8171),x=v(1815);function O(a,d){if(1&a&&(e.TgZ(0,"div",23),e._UZ(1,"i",24),e.TgZ(2,"div",25),e._uU(3),e.qZA()()),2&a){const t=e.oxw();e.xp6(3),e.hij(" ",t.initMsg,"")}}function L(a,d){if(1&a&&(e.TgZ(0,"option",26),e._uU(1),e.qZA()),2&a){const t=d.$implicit,i=e.oxw();e.s9C("value",t),e.xp6(1),e.hij(" ",i.formatHostName(t)," ")}}function D(a,d){if(1&a&&(e.TgZ(0,"option",26),e._uU(1),e.qZA()),2&a){const t=d.$implicit;e.s9C("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function J(a,d){if(1&a&&(e.TgZ(0,"option",26),e._uU(1),e.qZA()),2&a){const t=d.$implicit;e.s9C("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function M(a,d){if(1&a&&(e.TgZ(0,"option",26),e._uU(1),e.qZA()),2&a){const t=d.$implicit;e.s9C("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function E(a,d){if(1&a&&(e.TgZ(0,"select",27),e.YNc(1,M,2,2,"option",12),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.chws$)}}function Y(a,d){1&a&&e._UZ(0,"select",28)}function k(a,d){if(1&a&&(e.TgZ(0,"div",15)(1,"div")(2,"div",29)(3,"h3",30),e._uU(4),e.qZA(),e.TgZ(5,"p")(6,"strong"),e._uU(7),e.qZA()()(),e.TgZ(8,"div",31),e._UZ(9,"i"),e.qZA()()()),2&a){const t=d.$implicit;e.xp6(1),e.Gre("small-box ",t.color,""),e.xp6(3),e.Oqu(t.count),e.xp6(3),e.Oqu(t.label),e.xp6(2),e.Gre("ion ",t.icon,"")}}function G(a,d){if(1&a&&(e.TgZ(0,"div",18),e._UZ(1,"i",19),e.TgZ(2,"div",20),e._uU(3),e.qZA()()),2&a){const t=e.oxw();e.xp6(3),e.hij(" ",t.initMsg,"")}}function Q(a,d){if(1&a&&(e.TgZ(0,"option",21),e._uU(1),e.qZA()),2&a){const t=d.$implicit;e.s9C("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function j(a,d){if(1&a&&(e.TgZ(0,"tr")(1,"td",34),e._uU(2),e.qZA(),e.TgZ(3,"td",34),e._uU(4),e.qZA(),e.TgZ(5,"td",35),e._uU(6),e.qZA(),e.TgZ(7,"td",35),e._uU(8),e.qZA(),e.TgZ(9,"td",36),e._uU(10),e.qZA(),e.TgZ(11,"td",36),e._uU(12),e.qZA(),e.TgZ(13,"td",35),e._uU(14),e.qZA(),e.TgZ(15,"td",35),e._uU(16),e.qZA(),e.TgZ(17,"td",36),e._uU(18),e.qZA(),e.TgZ(19,"td",36),e._uU(20),e.qZA(),e.TgZ(21,"td",37),e._uU(22),e.qZA(),e.TgZ(23,"td",37),e._uU(24),e.qZA(),e.TgZ(25,"td",38)(26,"strong"),e._uU(27),e.qZA()(),e.TgZ(28,"td"),e._uU(29),e.qZA()()),2&a){const t=d.$implicit;e.xp6(2),e.Oqu(t.Code),e.xp6(2),e.Oqu(t.Name),e.xp6(2),e.Oqu(t.Pcime),e.xp6(2),e.Oqu(t.PcimeDhis2),e.xp6(2),e.Oqu(t.MaternellePf),e.xp6(2),e.Oqu(t.MaternellePfDhis2),e.xp6(2),e.Oqu(t.Consultation),e.xp6(2),e.Oqu(t.ConsultationDhis),e.xp6(2),e.Oqu(t.Recherche),e.xp6(2),e.Oqu(t.RechercheDhis),e.xp6(2),e.Oqu(t.Total),e.xp6(2),e.Oqu(t.TotalDhis),e.xp6(3),e.Oqu(t.TotalDiff),e.xp6(1),e.Gre("bg-",t.Ratio.color,""),e.xp6(1),e.hij("",t.Ratio.value," %")}}function R(a,d){if(1&a){const t=e.EpF();e.TgZ(0,"section",22)(1,"div",23)(2,"div",5)(3,"h3",24)(4,"button",25),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.initTable())}),e._uU(5,"Generate Table"),e.qZA()()(),e.TgZ(6,"div",26)(7,"table",27)(8,"thead")(9,"tr",28)(10,"th",29),e._uU(11,"Code ASC"),e.qZA(),e.TgZ(12,"th",30),e._uU(13,"Nom ASC"),e.qZA(),e.TgZ(14,"th",31),e._uU(15,"Pcime"),e.qZA(),e.TgZ(16,"th",31),e._uU(17,"Maternel & PF"),e.qZA(),e.TgZ(18,"th",31),e._uU(19,"Consultation"),e.qZA(),e.TgZ(20,"th",31),e._uU(21,"Recherche"),e.qZA(),e.TgZ(22,"th",31),e._uU(23,"Total"),e.qZA(),e.TgZ(24,"th",29),e._uU(25,"Diff"),e.qZA(),e.TgZ(26,"th",29),e._uU(27,"Ratio"),e.qZA()(),e.TgZ(28,"tr",28)(29,"th",32),e._uU(30,"APPLI"),e.qZA(),e.TgZ(31,"th",32),e._uU(32,"DHIS2"),e.qZA(),e.TgZ(33,"th",32),e._uU(34,"APPLI"),e.qZA(),e.TgZ(35,"th",32),e._uU(36,"DHIS2"),e.qZA(),e.TgZ(37,"th",32),e._uU(38,"APPLI"),e.qZA(),e.TgZ(39,"th",32),e._uU(40,"DHIS2"),e.qZA(),e.TgZ(41,"th",32),e._uU(42,"APPLI"),e.qZA(),e.TgZ(43,"th",32),e._uU(44,"DHIS2"),e.qZA(),e.TgZ(45,"th",32),e._uU(46,"APPLI"),e.qZA(),e.TgZ(47,"th",32),e._uU(48,"DHIS2"),e.qZA()()(),e.TgZ(49,"tbody"),e.YNc(50,j,30,17,"tr",33),e.qZA()()()()()}if(2&a){const t=e.oxw();e.xp6(50),e.Q6J("ngForOf",t.bodyData)("ngForTrackBy",t.identifyBodyData)}}function H(a,d){if(1&a&&(e.TgZ(0,"div",22),e._UZ(1,"i",23),e.TgZ(2,"div",24),e._uU(3),e.qZA()()),2&a){const t=e.oxw();e.xp6(3),e.hij(" ",t.initMsg,"")}}function V(a,d){if(1&a&&(e.TgZ(0,"option",27),e._uU(1),e.qZA()),2&a){const t=d.$implicit,i=e.oxw(2);e.s9C("value",t),e.xp6(1),e.hij(" ",i.formatHostName(t)," ")}}function K(a,d){if(1&a){const t=e.EpF();e.TgZ(0,"select",25),e.NdJ("change",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.genarateSites())}),e.YNc(1,V,2,2,"option",26),e.qZA()}if(2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.sources$)}}function X(a,d){1&a&&e._UZ(0,"select",28)}function W(a,d){if(1&a&&(e.TgZ(0,"option",27),e._uU(1),e.qZA()),2&a){const t=d.$implicit;e.s9C("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function P(a,d){if(1&a){const t=e.EpF();e.TgZ(0,"select",29),e.NdJ("change",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.genarateChws())}),e.YNc(1,W,2,2,"option",26),e.qZA()}if(2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.sites$)}}function ee(a,d){1&a&&e._UZ(0,"select",28)}function te(a,d){if(1&a&&(e.TgZ(0,"option",27),e._uU(1),e.qZA()),2&a){const t=d.$implicit;e.s9C("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function ie(a,d){if(1&a&&(e.TgZ(0,"select",30),e.YNc(1,te,2,2,"option",26),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.chws$)}}function oe(a,d){1&a&&e._UZ(0,"select",28)}function ne(a,d){if(1&a&&(e.TgZ(0,"div",15)(1,"div")(2,"div",31)(3,"h3",32),e._uU(4),e.qZA(),e.TgZ(5,"p")(6,"strong"),e._uU(7),e.qZA()()(),e.TgZ(8,"div",33),e._UZ(9,"i"),e.qZA()()()),2&a){const t=d.$implicit;e.xp6(1),e.Gre("small-box ",t.color,""),e.xp6(3),e.Oqu(t.count),e.xp6(3),e.Oqu(t.label),e.xp6(2),e.Gre("ion ",t.icon,"")}}const re=[{path:"",redirectTo:"dash1",pathMatch:"full"},{path:"dash1",component:(()=>{class a{constructor(t,i){this.db=t,this.sync=i,this.allAggragateData=[],this.sources$=[],this.Chws$=[],this.Sites$=[],this.Districts$=[],this.chws$=[],this.sites$=[],this.Zones$=[],this.Patients$=[],this.Families$=[],this.chwsCount=0,this.sitesChwsCount=0,this.zonesChwsCount=0,this.patientsChwsCount=0,this.familiesChwsCount=0}createDataFilterFormGroup(){return new h.cw({sources:new h.NI(this.initSources),districts:new h.NI(this.initDistricts),sites:new h.NI(this.initSites),chws:new h.NI(this.initChws)})}identifyAggragateData(t,i){return i.label}ngOnInit(){this.isLoading=!1,this.initSources="Tonoudayo",this.initDistricts="",this.initSites="5ee14b0f-1224-47a6-abfc-5a1f47ddf934",this.aggradateDataForm=this.createDataFilterFormGroup(),this.initAllData()}initAllData(){var t=this;return(0,C.Z)(function*(){t.isLoading=!0;const i=t.ParamsToFilter();t.initMsg="Chargement des Districts ...",t.sync.getDistrictsList(i).subscribe(function(){var p=(0,C.Z)(function*(u){t.Districts$=u;for(let c=0;c<t.Districts$.length;c++){const m=t.Districts$[c].source;null!=m&&""!=m&&(t.sources$.includes(m)||t.sources$.push(m))}t.initMsg="Chargement des Sites ...",t.sync.getSitesList(i).subscribe(function(){var c=(0,C.Z)(function*(m){t.Sites$=m,t.genarateSites(),t.initMsg="Chargement des Zones ...",t.sync.getZoneList(i).subscribe(s=>{t.Zones$=s,t.initMsg="Chargement des ASC ...",t.sync.getChwsList(i).subscribe(function(){var l=(0,C.Z)(function*(w){t.Chws$=w,t.genarateChws(),t.initMsg="Chargement des Familles ...",t.sync.getFamilyList(i).subscribe(g=>{t.Families$=g,t.initMsg="Chargement des Patients ...",t.sync.getPatientsList(i).subscribe(f=>{t.Patients$=f,t.initDataFilted(i)},f=>{t.isLoading=!1,console.log(f.error)})},g=>{t.isLoading=!1,console.log(g.error)})});return function(w){return l.apply(this,arguments)}}(),l=>{t.isLoading=!1,console.log(l.error)})},s=>{t.isLoading=!1,console.log(s.error)})});return function(m){return c.apply(this,arguments)}}(),c=>{t.isLoading=!1,console.log(c.error)})});return function(u){return p.apply(this,arguments)}}(),p=>{t.isLoading=!1,console.log(p.error)})})()}formatHostName(t){return t.replace(".org","").replace("-",".").trim()}genarateSites(){const t=this.returnEmptyArrayIfNul(this.convertToArray(this.aggradateDataForm.value.sources));if(this.sites$=[],this.chws$=[],this.aggradateDataForm.value.chws=[],r.F.notNull(t))for(let i=0;i<this.Sites$.length;i++){const p=this.Sites$[i];r.F.notNull(p)&&t.includes(p.source)&&this.sites$.push(p)}else this.sites$=[]}genarateChws(){const t=this.returnEmptyArrayIfNul(this.convertToArray(this.aggradateDataForm.value.sites));if(this.chws$=[],this.aggradateDataForm.value.chws=[],r.F.notNull(t))for(let i=0;i<this.Chws$.length;i++){const p=this.Chws$[i];r.F.notNull(p)&&t.includes(p.site.id)&&this.chws$.push(p)}else this.chws$=[]}returnEmptyArrayIfNul(t){return r.F.notNull(t)?t:[]}convertToArray(t){return r.F.notNull(t)?[t]:[]}ParamsToFilter(){const t=this.returnEmptyArrayIfNul(this.convertToArray(this.aggradateDataForm.value.sources)),i=this.returnEmptyArrayIfNul(this.convertToArray(this.aggradateDataForm.value.sites));return{sources:t,chws:this.returnEmptyArrayIfNul(this.aggradateDataForm.value.chws),sites:i,districts:[]}}initDataFilted(t){this.isLoading=!0;const{chws:u,sites:c,sources:m,districts:s}=t??this.ParamsToFilter();this.initSources=m[0],this.initDistricts=s[0],this.initSites=c[0],this.initChws=u,this.sitesChwsCount=0,this.familiesChwsCount=0,this.patientsChwsCount=0,this.zonesChwsCount=0,this.chwsCount=0,this.allAggragateData=[];for(let _=0;_<this.Sites$.length;_++){const o=this.Sites$[_];r.F.notNull(m)?m?.includes(o.source)&&this.sitesChwsCount++:this.sitesChwsCount++}for(let _=0;_<this.Families$.length;_++){const o=this.Families$[_];r.F.notNull(c)&&r.F.notNull(u)?r.F.notNull(m)?c?.includes(o.site.id)&&u?.includes(o.zone.chw_id)&&m?.includes(o.site.source)&&this.familiesChwsCount++:c?.includes(o.site.id)&&u?.includes(o.zone.chw_id)&&this.familiesChwsCount++:r.F.notNull(c)&&!r.F.notNull(u)?r.F.notNull(m)?c?.includes(o.site.id)&&m?.includes(o.site.source)&&this.familiesChwsCount++:c?.includes(o.site.id)&&this.familiesChwsCount++:r.F.notNull(m)?m?.includes(o.site.source)&&this.familiesChwsCount++:this.familiesChwsCount++}for(let _=0;_<this.Patients$.length;_++){const o=this.Patients$[_];r.F.notNull(c)&&r.F.notNull(u)?r.F.notNull(m)?c?.includes(o.site.id)&&u?.includes(o.zone.chw_id)&&m?.includes(o.site.source)&&this.patientsChwsCount++:c?.includes(o.site.id)&&u?.includes(o.zone.chw_id)&&this.patientsChwsCount++:r.F.notNull(c)&&!r.F.notNull(u)?r.F.notNull(m)?c?.includes(o.site.id)&&m?.includes(o.site.source)&&this.patientsChwsCount++:c?.includes(o.site.id)&&this.patientsChwsCount++:r.F.notNull(m)?m?.includes(o.site.source)&&this.patientsChwsCount++:this.patientsChwsCount++}for(let _=0;_<this.Zones$.length;_++){const o=this.Zones$[_];r.F.notNull(c)&&r.F.notNull(u)?r.F.notNull(m)?c?.includes(o.site.id)&&u?.includes(o.chw_id)&&m?.includes(o.site.source)&&this.zonesChwsCount++:c?.includes(o.site.id)&&u?.includes(o.chw_id)&&this.zonesChwsCount++:r.F.notNull(c)&&!r.F.notNull(u)?r.F.notNull(m)?c?.includes(o.site.id)&&m?.includes(o.site.source)&&this.zonesChwsCount++:c?.includes(o.site.id)&&this.zonesChwsCount++:r.F.notNull(m)?m?.includes(o.site.source)&&this.zonesChwsCount++:this.zonesChwsCount++}for(let _=0;_<this.Chws$.length;_++){const o=this.Chws$[_];r.F.notNull(c)&&r.F.notNull(u)?r.F.notNull(m)?c?.includes(o.site.id)&&u?.includes(o.zone.chw_id)&&m?.includes(o.site.source)&&this.chwsCount++:c?.includes(o.site.id)&&u?.includes(o.zone.chw_id)&&this.chwsCount++:r.F.notNull(c)&&!r.F.notNull(u)?r.F.notNull(m)?c?.includes(o.site.id)&&m?.includes(o.site.source)&&this.chwsCount++:c?.includes(o.site.id)&&this.chwsCount++:r.F.notNull(m)?m?.includes(o.site.source)&&this.chwsCount++:this.chwsCount++}let l={label:r.F.capitaliseDataGiven("total_site_enregistre","_"," "),count:this.sitesChwsCount,icon:"ion-stats-bars",color:"bg-success",detailUrl:"/dashboards/dash1"},w={label:r.F.capitaliseDataGiven("total_ASC_enregistre","_"," "),count:this.chwsCount,icon:"ion-person-add",color:"bg-warning",detailUrl:"/dashboards/dash1"},g={label:r.F.capitaliseDataGiven("total_famille_enregistre","_"," "),count:this.familiesChwsCount,icon:"ion-pie-graph",color:"bg-danger",detailUrl:"/dashboards/dash1"},f={label:r.F.capitaliseDataGiven("total_patient_enregistre","_"," "),count:this.patientsChwsCount,icon:"ion-bag",color:"bg-primary",detailUrl:"/dashboards/dash1"},n={label:r.F.capitaliseDataGiven("total_zone_enregistre","_"," "),count:this.zonesChwsCount,icon:"ion-bag",color:"bg-success",detailUrl:"/dashboards/dash1"};this.allAggragateData.push(l),this.allAggragateData.push(w),this.allAggragateData.push(g),this.allAggragateData.push(f),this.allAggragateData.push(n),this.initMsg="",this.isLoading=!1}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(q.p),e.Y36(x._))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-dashboard-1"]],decls:45,vars:10,consts:[[1,"content"],[1,"container-fluid"],[1,"card","card-warning"],[1,"overlay-wrapper"],["class","overlay",4,"ngIf"],[1,"card-header"],["novalidate","",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-sm-2","col-6"],[1,"form-group"],["formControlName","sources",1,"form-control",3,"change","click"],["value",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","districts",1,"form-control",3,"change","click"],["formControlName","sites",1,"form-control",3,"change","click"],[1,"col-sm-3","col-6"],["class","form-control","multiple","multiple","formControlName","chws",4,"ngIf"],["class","form-control",4,"ngIf"],[1,"col-sm-1","col-6"],["type","submit",1,"btn","btn-warning","form-control",3,"disabled"],[1,"nav-icon","fas","fa-search"],[1,"row","card-body"],["class","col-sm-3 col-6",4,"ngFor","ngForOf","ngForTrackBy"],[1,"overlay"],[1,"fas","fa-3x","fa-sync-alt","fa-spin"],[1,"text-bold","pt-2"],[3,"value"],["multiple","multiple","formControlName","chws",1,"form-control"],[1,"form-control"],[1,"inner"],[2,"font-size","40px"],[1,"icon"]],template:function(t,i){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),e.YNc(4,O,4,1,"div",4),e.TgZ(5,"div",5)(6,"form",6),e.NdJ("ngSubmit",function(){return i.initAllData()}),e.TgZ(7,"div",7)(8,"div",8)(9,"div",9)(10,"label"),e._uU(11,"Source"),e.qZA(),e.TgZ(12,"select",10),e.NdJ("change",function(){return i.genarateSites()})("click",function(){return i.genarateSites()}),e._UZ(13,"option",11),e.YNc(14,L,2,2,"option",12),e.qZA()()(),e.TgZ(15,"div",8)(16,"div",9)(17,"label"),e._uU(18,"District"),e.qZA(),e.TgZ(19,"select",13),e.NdJ("change",function(){return i.genarateSites()})("click",function(){return i.genarateChws()}),e._UZ(20,"option",11),e.YNc(21,D,2,2,"option",12),e.qZA()()(),e.TgZ(22,"div",8)(23,"div",9)(24,"label"),e._uU(25,"Site"),e.qZA(),e.TgZ(26,"select",14),e.NdJ("change",function(){return i.genarateChws()})("click",function(){return i.genarateChws()}),e._UZ(27,"option",11),e.YNc(28,J,2,2,"option",12),e.qZA()()(),e.TgZ(29,"div",15)(30,"div",9)(31,"label"),e._uU(32,"ASC"),e.qZA(),e.YNc(33,E,2,1,"select",16),e.YNc(34,Y,1,0,"select",17),e.qZA()(),e.TgZ(35,"div",18)(36,"div",9)(37,"label"),e._uU(38,"."),e.qZA(),e.TgZ(39,"button",19),e._UZ(40,"i",20),e.qZA()()()()()()()(),e.TgZ(41,"div",21),e.YNc(42,k,10,8,"div",22),e.qZA(),e._UZ(43,"br")(44,"br"),e.qZA()()),2&t&&(e.xp6(4),e.Q6J("ngIf",i.isLoading),e.xp6(2),e.Q6J("formGroup",i.aggradateDataForm),e.xp6(8),e.Q6J("ngForOf",i.sources$),e.xp6(7),e.Q6J("ngForOf",i.Districts$),e.xp6(7),e.Q6J("ngForOf",i.sites$),e.xp6(5),e.Q6J("ngIf",i.chws$.length>0),e.xp6(1),e.Q6J("ngIf",0==i.chws$.length),e.xp6(5),e.Q6J("disabled",!i.aggradateDataForm.valid),e.xp6(3),e.Q6J("ngForOf",i.allAggragateData)("ngForTrackBy",i.identifyAggragateData))},dependencies:[N.sg,N.O5,h._Y,h.YN,h.Kr,h.EJ,h.K7,h.JJ,h.JL,h.sg,h.u],encapsulation:2}),a})(),canActivate:[F.a],data:{href:"dashboard1",icon:"fa fa-user",label:"Dashboard-1",title:"Dashboard-1"}},{path:"dash2",component:(()=>{class a{constructor(t){this.syncService=t,this.child_forms=["pcime_c_asc","pcime_c_referral","pcime_c_followup","malnutrition_followup","newborn_followup"],this.num_fp_forms=["pregnancy_family_planning","prenatal_followup","postnatal_followup","women_emergency_followup","fp_follow_up_renewal"],this.home_actions_forms=["pcime_c_asc","pcime_c_referral","pcime_c_followup","malnutrition_followup","pregnancy_family_planning","prenatal_followup","postnatal_followup","newborn_followup","home_visit","women_emergency_followup","fp_follow_up_renewal"],this.consultations_followup_forms=["pcime_c_asc","pregnancy_family_planning","pcime_c_followup","pcime_c_referral","malnutrition_followup","prenatal_followup","postnatal_followup","newborn_followup","women_emergency_followup","fp_follow_up_renewal"],this.bodyData=[],this.ChwsDataFromDb$=[],this.Chws$=[],this.Sites$=[]}createDataFilterFormGroup(){return new h.cw({start_date:new h.NI(this.initDate.start_date,[h.kI.required,h.kI.minLength(7)]),end_date:new h.NI(this.initDate.end_date,[h.kI.required,h.kI.minLength(7)]),sites:new h.NI(""),sources:new h.NI("")})}identifyBodyData(t,i){return i.Code}ngOnInit(){this.isLoading=!1,this.initDate=r.E.startEnd21and20Date(),this.aggradateDataForm=this.createDataFilterFormGroup(),this.initAllData()}initAllData(){var t=this;return(0,C.Z)(function*(){const i={sources:["Tonoudayo"]};t.isLoading=!0,t.initMsg="Chargement des Sites ...",t.syncService.getSitesList(i).subscribe(p=>{t.Sites$=p,t.initMsg="Chargement des ASC ...",t.syncService.getChwsList(i).subscribe(u=>{t.Chws$=u,t.initDataFilted()},u=>console.log(u.error))},p=>console.log(p.error))})()}returnEmptyArrayIfNul(t){return r.F.notNull(t)?t:[]}initDataFilted(){this.isLoading=!0;var c={start_date:this.aggradateDataForm.value.start_date,end_date:this.aggradateDataForm.value.end_date,sites:this.aggradateDataForm.value.sites,source:["Tonoudayo","dhis2"]};this.syncService.getAllData(c).subscribe(m=>{this.ChwsDataFromDb$=m,this.getAllAboutData(c)},m=>{this.isLoading=!1,console.log(m.error)})}getAllAboutData(t){const{start_date:i,end_date:p,sites:u}=t;var c={};for(let m=0;m<this.Chws$.length;m++){const s=this.Chws$[m].id;r.F.notNull(s)&&(c.hasOwnProperty(s)||(c[s]={chwId:s,app_total_child_followup:0,dhis_total_child_followup:0,app_total_num_fp_followup:0,dhis_total_num_fp_followup:0,app_total_active_research:0,dhis_total_active_research:0,app_total_consultation_followup:0,dhis_total_consultation_followup:0,app_total_home_visit:0,dhis_total_home_visit:0}))}for(let m=0;m<this.ChwsDataFromDb$.length;m++){const s=this.ChwsDataFromDb$[m];if(null!=s){const l=s.form,w=null!=s.chw&&r.F.notNull(s.chw.id)?s.chw.id:"",g=null!=s.site&&r.F.notNull(s.site.id)?s.site.id:"",f=r.F.notNull(g)&&r.F.notNull(u)&&u?.includes(g)||!r.F.notNull(u),n=!(!r.F.notNull(i)||!r.F.notNull(p))&&r.E.isBetween(`${i}`,s.reported_date,`${p}`);f&&n&&c.hasOwnProperty(w)&&("dhis2"==s.source?("PCIME"===l&&(c[w].dhis_total_child_followup+=1),("Maternelle"===l||"PF"===l)&&(c[w].dhis_total_num_fp_followup+=1),"Recherche"===l&&(c[w].dhis_total_active_research+=1),"Recherche"!==l&&(c[w].dhis_total_consultation_followup+=1),c[w].dhis_total_home_visit+=1):(this.child_forms.includes(l)&&(c[w].app_total_child_followup+=1),this.num_fp_forms.includes(l)&&(c[w].app_total_num_fp_followup+=1),"home_visit"===l&&(c[w].app_total_active_research+=1),this.consultations_followup_forms.includes(l)&&(c[w].app_total_consultation_followup+=1),this.home_actions_forms.includes(l)&&(c[w].app_total_home_visit+=1)))}}this.bodyData=[],Object.entries(c).map(([m,s])=>{const l=s;this.bodyData.push({Code:this.getChwInfos(l.chwId).external_id,Name:this.getChwInfos(l.chwId).name,Pcime:l.app_total_child_followup,PcimeDhis2:l.dhis_total_child_followup,MaternellePf:l.app_total_num_fp_followup,MaternellePfDhis2:l.dhis_total_num_fp_followup,Recherche:l.app_total_active_research,RechercheDhis:l.dhis_total_active_research,Consultation:l.app_total_consultation_followup,ConsultationDhis:l.dhis_total_consultation_followup,Total:l.app_total_home_visit,TotalDhis:l.dhis_total_home_visit,TotalDiff:this.getRatio(l.app_total_home_visit,l.dhis_total_home_visit,!1).value,Ratio:this.getRatio(l.app_total_home_visit,l.dhis_total_home_visit)})}),this.isLoading=!1}getDataValuesElements(t){for(let i=0;i<t.dataValues.length;i++){const p=t.dataValues[i];if(p.dataElement==t.dataElement&&p.value==t.value)return!0}return!1}getRatio(t,i,p=!0){var u=0,c="success",m=t-i;if(p){const s=100*(t>0?m/t:i/100);(u=+(s<0?-1*s:s).toFixed(2))>0&&u<=5&&(c="warning"),u>5&&(c="danger")}else u=+(m<0?-1*m:m).toFixed(2);return{value:u,color:c}}initTable(){initDataTable("compare_data",!1)}getChwInfos(t,i=!1){for(let u=0;u<this.Chws$.length;u++){const c=this.Chws$[u];if(r.F.notNull(c))if(1==i){if(r.F.notNull(c.external_id)&&c.external_id==t)return c}else if(r.F.notNull(c.id)&&c.id==t)return c}}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(x._))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-dashboard-2"]],decls:32,vars:5,consts:[[1,"content-header"],[1,"container-fluid"],[1,"card","card-info"],[1,"overlay-wrapper"],["class","overlay",4,"ngIf"],[1,"card-header"],["novalidate","",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-sm-2","col-6"],[1,"form-group"],["type","date","formControlName","start_date",1,"form-control"],["type","date","formControlName","end_date",1,"form-control"],["formControlName","sites",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],[1,"col-sm-1","col-6"],["type","submit",1,"btn","btn-warning","form-control",3,"disabled"],[1,"fa","fa-floppy-o","fa-right"],["class","content",4,"ngIf"],[1,"overlay"],[1,"fas","fa-3x","fa-sync-alt","fa-spin"],[1,"text-bold","pt-2"],[3,"value"],[1,"content"],[1,"card"],[1,"card-title"],["type","button",3,"click"],[1,"card-body"],["id","compare_data",1,"table","table-bordered","table-hover"],[1,"bg-primary"],["rowspan","2",2,"width","50px"],["rowspan","2",2,"width","150px"],["colspan","2",2,"width","50px"],[2,"width","50px"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"info"],[1,"warning"],[1,"primary"],[1,"final"],[1,""]],template:function(t,i){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),e.YNc(4,G,4,1,"div",4),e.TgZ(5,"div",5)(6,"form",6),e.NdJ("ngSubmit",function(){return i.initDataFilted()}),e.TgZ(7,"div",7)(8,"div",8)(9,"div",9)(10,"label"),e._uU(11,"Date D\xe9but"),e.qZA(),e._UZ(12,"input",10),e.qZA()(),e.TgZ(13,"div",8)(14,"div",9)(15,"label"),e._uU(16,"Date Fin"),e.qZA(),e._UZ(17,"input",11),e.qZA()(),e.TgZ(18,"div",8)(19,"div",9)(20,"label"),e._uU(21,"Site"),e.qZA(),e.TgZ(22,"select",12),e.YNc(23,Q,2,2,"option",13),e.qZA()()(),e.TgZ(24,"div",14)(25,"div",9)(26,"label"),e._uU(27,"."),e.qZA(),e.TgZ(28,"button",15),e._uU(29," OK "),e._UZ(30,"span",16),e.qZA()()()()()()()()()(),e.YNc(31,R,51,2,"section",17)),2&t&&(e.xp6(4),e.Q6J("ngIf",i.isLoading),e.xp6(2),e.Q6J("formGroup",i.aggradateDataForm),e.xp6(17),e.Q6J("ngForOf",i.Sites$),e.xp6(5),e.Q6J("disabled",!i.aggradateDataForm.valid),e.xp6(3),e.Q6J("ngIf",i.bodyData.length>0))},dependencies:[N.sg,N.O5,h._Y,h.YN,h.Kr,h.Fj,h.EJ,h.JJ,h.JL,h.sg,h.u],styles:[".info[_ngcontent-%COMP%]{color:#00f;font-weight:bolder}.warning[_ngcontent-%COMP%]{color:orange;font-size:large;font-weight:bolder}.primary[_ngcontent-%COMP%]{color:purple;font-size:large;font-weight:bolder}.final[_ngcontent-%COMP%]{color:green;font-size:large;font-weight:bolder}.line[_ngcontent-%COMP%]{color:#000;font-size:large;font-weight:bolder}"]}),a})(),canActivate:[F.a],data:{href:"dashboard2",icon:"fa fa-user",label:"Dashboard-2",title:"Dashboard-2"}},{path:"dash3",component:(()=>{class a{constructor(t,i){this.db=t,this.sync=i,this.allAggragateData=[],this.options={Chart:{type:"area",height:700},title:{text:"Donn\xe9es par ASC"},credits:{enabled:!1},xAxis:{categories:["ASC1","ASC2","ASC3","ASC4","ASC5","ASC6","ASC7"],tickmarkPlacement:"on",title:{enabled:!0}},yAxis:{categories:[],max:5268,min:0,tickmarkPlacement:"on",title:{enabled:!1}},series:[{name:"Recherche Active",data:[502,635,809,947,1402,3634,5268]},{name:"Pcime",data:[163,203,276,408,547,729,628]},{name:"Maternel",data:[18,31,54,156,339,818,1201]}]},this.home_actions_forms=["pcime_c_asc","pcime_c_referral","pcime_c_followup","malnutrition_followup","pregnancy_family_planning","prenatal_followup","postnatal_followup","newborn_followup","home_visit","women_emergency_followup","fp_follow_up_renewal"],this.vaccination_forms=["vaccination"],this.consultations_followup_forms=["pcime_c_asc","pregnancy_family_planning","pcime_c_followup","pcime_c_referral","malnutrition_followup","prenatal_followup","postnatal_followup","newborn_followup","women_emergency_followup","fp_follow_up_renewal"],this.consultations_forms=["pcime_c_asc","pregnancy_family_planning"],this.followup_forms=["pcime_c_followup","pcime_c_referral","malnutrition_followup","prenatal_followup","postnatal_followup","newborn_followup","women_emergency_followup","fp_follow_up_renewal"],this.all_child_forms=["pcime_c_asc","pcime_c_followup","newborn_followup","malnutrition_followup"],this.child_followup_forms=["pcime_c_followup","newborn_followup","malnutrition_followup"],this.allForms=["pcime_c_asc","vaccination_followup","pregnancy_family_planning","delivery","home_visit","newborn_followup","pcime_c_followup","malnutrition_followup","postnatal_followup","prenatal_followup","pcime_c_referral","fp_follow_up_renewal"],this.ChwsDataFromDb$=[],this.sources$=[],this.Chws$=[],this.Sites$=[],this.chws$=[],this.sites$=[],this.Zones$=[],this.Patients$=[],this.Families$=[],this.chwsCount=0,this.sitesChwsCount=0,this.zonesChwsCount=0,this.patientsChwsCount=0,this.familiesChwsCount=0}createDataFilterFormGroup(){return new h.cw({start_date:new h.NI(this.initDate.start_date,[h.kI.required,h.kI.minLength(7)]),end_date:new h.NI(this.initDate.end_date,[h.kI.required,h.kI.minLength(7)]),sites:new h.NI(""),chws:new h.NI(""),sources:new h.NI("")})}identifyAggragateData(t,i){return i.label}ngOnInit(){this.isLoading=!1,this.initDate=r.E.startEnd21and20Date(),this.aggradateDataForm=this.createDataFilterFormGroup(),this.initAllData()}initAllData(){var t=this;return(0,C.Z)(function*(){t.isLoading=!0,t.initMsg="Chargement des Sites ...",t.sync.getSitesList().subscribe(function(){var i=(0,C.Z)(function*(p){t.Sites$=p;for(let u=0;u<t.Sites$.length;u++){const c=t.Sites$[u].source;null!=c&&""!=c&&(t.sources$.includes(c)||t.sources$.push(c))}t.initMsg="Chargement des ASC ...",t.sync.getChwsList().subscribe(function(){var u=(0,C.Z)(function*(c){t.Chws$=c,t.initDataFilted()});return function(c){return u.apply(this,arguments)}}(),u=>{t.isLoading=!1,console.log(u.error)})});return function(p){return i.apply(this,arguments)}}(),i=>{t.isLoading=!1,console.log(i.error)})})()}formatHostName(t){return t.replace(".org","").replace("-",".").trim()}genarateSites(){const t=this.aggradateDataForm.value.sources;if(this.sites$=[],this.chws$=[],this.aggradateDataForm.value.sites=[],this.aggradateDataForm.value.chws=[],r.F.notNull(t))for(let i=0;i<this.Sites$.length;i++){const p=this.Sites$[i];r.F.notNull(p)&&t.includes(p.source)&&this.sites$.push(p)}else this.sites$=this.Sites$}genarateChws(){const t=this.aggradateDataForm.value.sites;if(this.chws$=[],this.aggradateDataForm.value.chws=[],r.F.notNull(t))for(let i=0;i<this.Chws$.length;i++){const p=this.Chws$[i];r.F.notNull(p)&&t.includes(p.site.id)&&this.chws$.push(p)}else this.chws$=this.Chws$}returnEmptyArrayIfNul(t){return r.F.notNull(t)?t:[]}initDataFilted(){const t=this.aggradateDataForm.value.start_date,i=this.aggradateDataForm.value.end_date,p=this.returnEmptyArrayIfNul(this.aggradateDataForm.value.chws),u=this.returnEmptyArrayIfNul(this.aggradateDataForm.value.sites);var m={start_date:t,end_date:i,sources:this.returnEmptyArrayIfNul(this.aggradateDataForm.value.sources),chws:p,sites:u,districts:[]};this.isLoading=!0,this.initDate.start_date==t&&this.initDate.end_date==i&&0!=this.ChwsDataFromDb$?.length?this.getAllAboutData(m):(this.initDate.start_date=t,this.initDate.end_date=i,this.initMsg=`Chargement des donn\xe9es du ${r.E.getDateInFormat(m.start_date,0,"fr")} au ${r.E.getDateInFormat(m.end_date,0,"fr")}`,this.sync.getAllData(m).subscribe(s=>{this.ChwsDataFromDb$=s,this.getAllAboutData(m)},s=>{this.isLoading=!1,console.log(s.error)}))}getAllAboutData(t){this.initMsg="D\xe9marrage du calcule des indicateurs ...";const{start_date:i,end_date:p,chws:u,sites:c,sources:m}=t;if(r.F.notNull(i)&&r.F.notNull(p)){var s={total_home_visit:{},total_pcime_soins:{},total_pcime_suivi:{},total_reference_pcime_suivi:{},total_reference_pcime_soins:{},total_diarrhee_pcime_soins:{},total_paludisme_pcime_soins:{},total_pneumonie_pcime_soins:{},total_malnutrition_pcime_soins:{},prompt_diarrhee_24h_pcime_soins:{},prompt_diarrhee_48h_pcime_soins:{},prompt_diarrhee_72h_pcime_soins:{},prompt_paludisme_24h_pcime_soins:{},prompt_paludisme_48h_pcime_soins:{},prompt_paludisme_72h_pcime_soins:{},prompt_pneumonie_24h_pcime_soins:{},prompt_pneumonie_48h_pcime_soins:{},prompt_pneumonie_72h_pcime_soins:{},total_pregnancy_family_planning:{},total_reference_family_planning_soins:{},total_reference_femme_enceinte_soins:{},total_vad_femme_enceinte_soins:{},total_vad_femme_enceinte_NC_soins:{},total_test_de_grossesse_domicile:{},total_newborn_suivi:{},total_reference_newborn:{},total_malnutrition_suivi:{},total_reference_malnutrition_suivi:{},total_prenatal_suivi:{},total_reference_prenatal_suivi:{},total_postnatal_suivi:{},total_reference_postnatal_suivi:{},total_vad_femme_postpartum_NC:{},total_vad_women_emergency_suivi:{},total_reference_women_emergency_suivi:{},total_femme_enceinte_women_emergency_suivi:{},total_femme_postpartum_women_emergency_suivi:{},total_family_planning_renewal_suivi:{},total_reference_family_planning_renewal_suivi:{},total_vad_family_planning_NC:{}};for(let g=0;g<this.Chws$.length;g++){const f=this.Chws$[g].id;null!=f&&""!=f&&Object.entries(s).map(([n,_])=>{const o=_;o.hasOwnProperty(f)||(o[f]={chwId:f,count:0})})}for(let g=0;g<this.ChwsDataFromDb$.length;g++){const f=this.ChwsDataFromDb$[g];if(null!=f){const n=f.form,_=f.fields,o=null!=f.chw&&null!=f.chw.id&&""!=f.chw.id?f.chw.id:"",y=null!=f.site&&null!=f.site.id&&""!=f.site.id?f.site.id:"",b=null!=f.source&&""!=f.source?f.source:"",T=r.F.notNull(o)&&r.F.notNull(u)&&u?.includes(o)||!r.F.notNull(u),$=r.F.notNull(y)&&r.F.notNull(c)&&c?.includes(y)||!r.F.notNull(c),Z=r.F.notNull(b)&&r.F.notNull(m)&&m?.includes(b)||!r.F.notNull(m),A=!(!r.F.notNull(i)||!r.F.notNull(p))&&r.E.isBetween(`${i}`,f.reported_date,`${p}`);if(T&&$&&A&&Z){if("home_visit"===n&&(s.total_home_visit[o].count+=1),"pcime_c_asc"===n&&(s.total_pcime_soins[o].count+=1,"yes"==_["group_review.s_have_you_refer_child"]&&(s.total_reference_pcime_soins[o].count+=1),"true"==_.has_diarrhea&&(s.total_diarrhee_pcime_soins[o].count+=1,"true"==_.within_24h&&(s.prompt_diarrhee_24h_pcime_soins[o].count+=1),("true"==_.within_24h||"true"==_.within_48h)&&(s.prompt_diarrhee_48h_pcime_soins[o].count+=1),("true"==_.within_24h||"true"==_.within_48h||"true"==_.within_72h)&&(s.prompt_diarrhee_72h_pcime_soins[o].count+=1)),"true"==_.fever_with_malaria&&(s.total_paludisme_pcime_soins[o].count+=1,"true"==_.within_24h&&(s.prompt_paludisme_24h_pcime_soins[o].count+=1),("true"==_.within_24h||"true"==_.within_48h)&&(s.prompt_paludisme_48h_pcime_soins[o].count+=1),("true"==_.within_24h||"true"==_.within_48h||"true"==_.within_72h)&&(s.prompt_paludisme_72h_pcime_soins[o].count+=1)),"true"==_.has_pneumonia&&(s.total_pneumonie_pcime_soins[o].count+=1,"true"==_.within_24h&&(s.prompt_pneumonie_24h_pcime_soins[o].count+=1),("true"==_.within_24h||"true"==_.within_48h)&&(s.prompt_pneumonie_48h_pcime_soins[o].count+=1),("true"==_.within_24h||"true"==_.within_48h||"true"==_.within_72h)&&(s.prompt_pneumonie_72h_pcime_soins[o].count+=1)),"true"==_.has_malnutrition&&(s.total_malnutrition_pcime_soins[o].count+=1)),"pcime_c_followup"===n&&(s.total_pcime_suivi[o].count+=1,"yes"==_["group_review.s_have_you_refer_child"]&&(s.total_reference_pcime_suivi[o].count+=1)),"newborn_followup"===n&&(s.total_newborn_suivi[o].count+=1,"yes"==_["group_summary.s_have_you_refer_child"]&&(s.total_reference_newborn[o].count+=1)),"malnutrition_followup"===n&&(s.total_malnutrition_suivi[o].count+=1,"yes"==_["results_page.s_have_you_refer_child"]&&(s.total_reference_malnutrition_suivi[o].count+=1)),"prenatal_followup"===n&&(s.total_prenatal_suivi[o].count+=1,"yes"==_["group_summary.s_have_you_refer_child"]&&(s.total_reference_prenatal_suivi[o].count+=1)),"postnatal_followup"===n&&(s.total_postnatal_suivi[o].count+=1,"yes"==_["group_summary.s_have_you_refer_child"]&&(s.total_reference_postnatal_suivi[o].count+=1),"1"==_.follow_up_count&&(s.total_vad_femme_postpartum_NC[o].count+=1)),"pregnancy_family_planning"===n){s.total_pregnancy_family_planning[o].count+=1;var l="positive"==_["s_reg_pregnancy_screen.s_reg_urine_result"],w="already_pregnant"==_["s_reg_pregnancy_screen.s_reg_why_urine_test_not_done"];"yes"==_["s_reg_pregnancy_screen.s_reg_urine_test"]&&(s.total_test_de_grossesse_domicile[o].count+=1),"yes"==_["s_summary.s_have_you_refer_child"]&&!l&&!w&&(s.total_reference_family_planning_soins[o].count+=1),(l||w)&&(s.total_vad_femme_enceinte_soins[o].count+=1,"fp_followup"!=_["s_reg_mode.s_reg_how_found"]&&(s.total_vad_femme_enceinte_NC_soins[o].count+=1),"yes"==_["s_summary.s_have_you_refer_child"]&&(s.total_reference_femme_enceinte_soins[o].count+=1)),"yes"==_["s_fam_plan_screen.agreed_to_fp"]&&(s.total_vad_family_planning_NC[o].count+=1)}"women_emergency_followup"===n&&(s.total_vad_women_emergency_suivi[o].count+=1,"yes"==_["group_summary.s_have_you_refer_child"]&&(s.total_reference_women_emergency_suivi[o].count+=1),"pregnant"==_["initial.woman_status"]&&(s.total_femme_enceinte_women_emergency_suivi[o].count+=1),"postpartum"==_["initial.woman_status"]&&(s.total_femme_postpartum_women_emergency_suivi[o].count+=1)),"fp_follow_up_renewal"===n&&(s.total_family_planning_renewal_suivi[o].count+=1,"true"==_["check$2.s_refer_for_health_state"]&&(s.total_reference_family_planning_renewal_suivi[o].count+=1))}}}this.transformData(s,t)}}transformData(t,i){const{start_date:p,end_date:u}=i;if(r.F.notNull(p)&&r.F.notNull(u)){var l={total_vad:0,total_vad_pcime_c:0,total_suivi_pcime_c:0,total_vad_femmes_enceinte:0,total_vad_femmes_postpartum:0,total_recherche_active:0,total_vad_family_planning:0,reference_femmes_pf:0,reference_pcime:0,reference_femmes_enceinte_postpartum:0,total_diarrhee_pcime_soins:0,total_paludisme_pcime_soins:0,total_pneumonie_pcime_soins:0,total_malnutrition_pcime_soins:0,prompt_diarrhee_24h_pcime_soins:0,prompt_diarrhee_48h_pcime_soins:0,prompt_diarrhee_72h_pcime_soins:0,prompt_paludisme_24h_pcime_soins:0,prompt_paludisme_48h_pcime_soins:0,prompt_paludisme_72h_pcime_soins:0,prompt_pneumonie_24h_pcime_soins:0,prompt_pneumonie_48h_pcime_soins:0,prompt_pneumonie_72h_pcime_soins:0,total_vad_femmes_enceintes_NC:0,total_vad_femme_postpartum_NC:0,total_test_de_grossesse_domicile:0};for(let g=0;g<this.Chws$.length;g++){const n=this.Chws$[g].id,_=t.total_home_visit[n].count+t.total_pcime_soins[n].count+t.total_pregnancy_family_planning[n].count+t.total_pcime_suivi[n].count+t.total_newborn_suivi[n].count+t.total_prenatal_suivi[n].count+t.total_postnatal_suivi[n].count+t.total_malnutrition_suivi[n].count+t.total_vad_women_emergency_suivi[n].count+t.total_family_planning_renewal_suivi[n].count,o=t.total_pcime_soins[n].count+t.total_pcime_suivi[n].count+t.total_newborn_suivi[n].count+t.total_malnutrition_suivi[n].count,y=t.total_pcime_suivi[n].count+t.total_newborn_suivi[n].count+t.total_malnutrition_suivi[n].count,b=t.total_reference_family_planning_soins[n].count+t.total_reference_family_planning_renewal_suivi[n].count,T=t.total_reference_pcime_soins[n].count+t.total_reference_pcime_suivi[n].count+t.total_reference_newborn[n].count+t.total_reference_malnutrition_suivi[n].count,$=t.total_reference_femme_enceinte_soins[n].count+t.total_reference_prenatal_suivi[n].count+t.total_reference_postnatal_suivi[n].count+t.total_reference_women_emergency_suivi[n].count,Z=t.total_vad_femme_enceinte_soins[n].count+t.total_prenatal_suivi[n].count+t.total_femme_enceinte_women_emergency_suivi[n].count,A=t.total_postnatal_suivi[n].count+t.total_femme_postpartum_women_emergency_suivi[n].count,U=_-(o+Z+A+t.total_home_visit[n].count);l.total_vad+=_,l.total_vad_pcime_c+=o,l.total_suivi_pcime_c+=y,l.total_vad_femmes_enceinte+=Z,l.total_vad_femmes_postpartum+=A,l.total_recherche_active+=t.total_home_visit[n].count,l.total_vad_family_planning=U,l.reference_femmes_pf+=b,l.reference_pcime+=T,l.reference_femmes_enceinte_postpartum=$,l.total_diarrhee_pcime_soins+=t.total_diarrhee_pcime_soins[n].count,l.total_paludisme_pcime_soins+=t.total_paludisme_pcime_soins[n].count,l.total_pneumonie_pcime_soins+=t.total_pneumonie_pcime_soins[n].count,l.total_malnutrition_pcime_soins+=t.total_malnutrition_pcime_soins[n].count,l.prompt_diarrhee_24h_pcime_soins+=t.prompt_diarrhee_24h_pcime_soins[n].count,l.prompt_diarrhee_48h_pcime_soins+=t.prompt_diarrhee_48h_pcime_soins[n].count,l.prompt_diarrhee_72h_pcime_soins+=t.prompt_diarrhee_72h_pcime_soins[n].count,l.prompt_paludisme_24h_pcime_soins+=t.prompt_paludisme_24h_pcime_soins[n].count,l.prompt_paludisme_48h_pcime_soins+=t.prompt_paludisme_48h_pcime_soins[n].count,l.prompt_paludisme_72h_pcime_soins+=t.prompt_paludisme_72h_pcime_soins[n].count,l.prompt_pneumonie_24h_pcime_soins+=t.prompt_pneumonie_24h_pcime_soins[n].count,l.prompt_pneumonie_48h_pcime_soins+=t.prompt_pneumonie_48h_pcime_soins[n].count,l.prompt_pneumonie_72h_pcime_soins+=t.prompt_pneumonie_72h_pcime_soins[n].count,l.total_vad_femmes_enceintes_NC+=t.total_vad_femme_enceinte_NC_soins[n].count,l.total_vad_femme_postpartum_NC+=t.total_vad_femme_postpartum_NC[n].count,l.total_test_de_grossesse_domicile+=t.total_test_de_grossesse_domicile[n].count}this.allAggragateData=[],Object.entries(l).map(([g,f])=>{let n={label:r.F.capitaliseDataGiven(g,"_"," "),count:0,icon:"ion-bag",color:"bg-info",detailUrl:"/dashboards/dash1"};return n.count=f,this.allAggragateData.push(n),""})}this.initMsg="",this.isLoading=!1}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(q.p),e.Y36(x._))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-dashboard-3"]],decls:47,vars:11,consts:[[1,"content"],[1,"container-fluid"],[1,"card","card-info"],[1,"overlay-wrapper"],["class","overlay",4,"ngIf"],[1,"card-header"],["novalidate","",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-sm-2","col-6"],[1,"form-group"],["type","date","formControlName","start_date",1,"form-control"],["type","date","formControlName","end_date",1,"form-control"],["class","form-control","multiple","multiple","formControlName","sources",3,"change",4,"ngIf"],["class","form-control",4,"ngIf"],["class","form-control","multiple","multiple","formControlName","sites",3,"change",4,"ngIf"],[1,"col-sm-3","col-6"],["class","form-control","multiple","multiple","formControlName","chws",4,"ngIf"],[1,"col-sm-1","col-6"],["type","submit",1,"btn","btn-warning","form-control",3,"disabled"],[1,"fa","fa-floppy-o","fa-right"],[1,"row","card-body"],["class","col-sm-3 col-6",4,"ngFor","ngForOf","ngForTrackBy"],[1,"overlay"],[1,"fas","fa-3x","fa-sync-alt","fa-spin"],[1,"text-bold","pt-2"],["multiple","multiple","formControlName","sources",1,"form-control",3,"change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"form-control"],["multiple","multiple","formControlName","sites",1,"form-control",3,"change"],["multiple","multiple","formControlName","chws",1,"form-control"],[1,"inner"],[2,"font-size","40px"],[1,"icon"]],template:function(t,i){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),e.YNc(4,H,4,1,"div",4),e.TgZ(5,"div",5)(6,"form",6),e.NdJ("ngSubmit",function(){return i.initDataFilted()}),e.TgZ(7,"div",7)(8,"div",8)(9,"div",9)(10,"label"),e._uU(11,"Date D\xe9but"),e.qZA(),e._UZ(12,"input",10),e.qZA()(),e.TgZ(13,"div",8)(14,"div",9)(15,"label"),e._uU(16,"Date Fin"),e.qZA(),e._UZ(17,"input",11),e.qZA()(),e.TgZ(18,"div",8)(19,"div",9)(20,"label"),e._uU(21,"Source"),e.qZA(),e.YNc(22,K,2,1,"select",12),e.YNc(23,X,1,0,"select",13),e.qZA()(),e.TgZ(24,"div",8)(25,"div",9)(26,"label"),e._uU(27,"Site"),e.qZA(),e.YNc(28,P,2,1,"select",14),e.YNc(29,ee,1,0,"select",13),e.qZA()(),e.TgZ(30,"div",15)(31,"div",9)(32,"label"),e._uU(33,"ASC"),e.qZA(),e.YNc(34,ie,2,1,"select",16),e.YNc(35,oe,1,0,"select",13),e.qZA()(),e.TgZ(36,"div",17)(37,"div",9)(38,"label"),e._uU(39,"."),e.qZA(),e.TgZ(40,"button",18),e._uU(41," OK "),e._UZ(42,"span",19),e.qZA()()()()()()()(),e.TgZ(43,"div",20),e.YNc(44,ne,10,8,"div",21),e.qZA(),e._UZ(45,"br")(46,"br"),e.qZA()()),2&t&&(e.xp6(4),e.Q6J("ngIf",i.isLoading),e.xp6(2),e.Q6J("formGroup",i.aggradateDataForm),e.xp6(16),e.Q6J("ngIf",i.sources$.length>0),e.xp6(1),e.Q6J("ngIf",0==i.sources$.length),e.xp6(5),e.Q6J("ngIf",i.sites$.length>0),e.xp6(1),e.Q6J("ngIf",0==i.sites$.length),e.xp6(5),e.Q6J("ngIf",i.chws$.length>0),e.xp6(1),e.Q6J("ngIf",0==i.chws$.length),e.xp6(5),e.Q6J("disabled",!i.aggradateDataForm.valid),e.xp6(4),e.Q6J("ngForOf",i.allAggragateData)("ngForTrackBy",i.identifyAggragateData))},dependencies:[N.sg,N.O5,h._Y,h.YN,h.Kr,h.Fj,h.K7,h.JJ,h.JL,h.sg,h.u],encapsulation:2}),a})(),canActivate:[F.a],data:{href:"dashboard3",icon:"fa fa-user",label:"Dashboard-3",title:"Dashboard-3"}},{path:"dash4",component:(()=>{class a{constructor(t,i){this.db=t,this.sync=i,this.allAggragateData=[],this.home_actions_forms=["pcime_c_asc","pcime_c_referral","pcime_c_followup","malnutrition_followup","pregnancy_family_planning","prenatal_followup","postnatal_followup","newborn_followup","home_visit","women_emergency_followup","fp_follow_up_renewal"],this.vaccination_forms=["vaccination"],this.consultations_followup_forms=["pcime_c_asc","pregnancy_family_planning","pcime_c_followup","pcime_c_referral","malnutrition_followup","prenatal_followup","postnatal_followup","newborn_followup","women_emergency_followup","fp_follow_up_renewal"],this.consultations_forms=["pcime_c_asc","pregnancy_family_planning"],this.followup_forms=["pcime_c_followup","pcime_c_referral","malnutrition_followup","prenatal_followup","postnatal_followup","newborn_followup","women_emergency_followup","fp_follow_up_renewal"],this.all_child_forms=["pcime_c_asc","pcime_c_followup","newborn_followup","malnutrition_followup"],this.child_followup_forms=["pcime_c_followup","newborn_followup","malnutrition_followup"],this.allForms=["pcime_c_asc","vaccination_followup","pregnancy_family_planning","delivery","home_visit","newborn_followup","pcime_c_followup","malnutrition_followup","postnatal_followup","prenatal_followup","pcime_c_referral","fp_follow_up_renewal"],this.ChwsDataFromDb$=[],this.sources$=[],this.Chws$=[],this.Sites$=[],this.chws$=[],this.sites$=[],this.Zones$=[],this.Patients$=[],this.Families$=[],this.chwsCount=0,this.sitesChwsCount=0,this.zonesChwsCount=0,this.patientsChwsCount=0,this.familiesChwsCount=0}createDataFilterFormGroup(){return new h.cw({start_date:new h.NI(this.initDate.start_date,[h.kI.required,h.kI.minLength(7)]),end_date:new h.NI(this.initDate.end_date,[h.kI.required,h.kI.minLength(7)]),sites:new h.NI(""),sources:new h.NI("")})}identifyAggragateData(t,i){return i.label}ngOnInit(){this.isLoading=!1,this.initDate=r.E.startEnd21and20Date(),this.aggradateDataForm=this.createDataFilterFormGroup(),this.initAllData()}initAllData(){var t=this;return(0,C.Z)(function*(){t.isLoading=!0,t.initMsg="Chargement des Sites ...",t.sync.getSitesList().subscribe(function(){var i=(0,C.Z)(function*(p){t.Sites$=p;for(let u=0;u<t.Sites$.length;u++){const c=t.Sites$[u].source;null!=c&&""!=c&&!t.sources$.includes(c)&&t.sources$.push(c)}t.initMsg="Chargement des ASC ...",t.sync.getChwsList().subscribe(function(){var u=(0,C.Z)(function*(c){t.Chws$=c,t.initDataFilted()});return function(c){return u.apply(this,arguments)}}(),u=>{t.isLoading=!1,console.log(u.error)})});return function(p){return i.apply(this,arguments)}}(),i=>{t.isLoading=!1,console.log(i.error)})})()}formatHostName(t){return t.replace(".org","").replace("-",".").trim()}genarateSites(){const t=this.aggradateDataForm.value.sources;if(this.sites$=[],this.chws$=[],this.aggradateDataForm.value.sites=[],this.aggradateDataForm.value.chws=[],r.F.notNull(t))for(let i=0;i<this.Sites$.length;i++){const p=this.Sites$[i];r.F.notNull(p)&&t.includes(p.source)&&this.sites$.push(p)}else this.sites$=this.Sites$}genarateChws(){const t=this.aggradateDataForm.value.sites;if(this.chws$=[],this.aggradateDataForm.value.chws=[],r.F.notNull(t))for(let i=0;i<this.Chws$.length;i++){const p=this.Chws$[i];r.F.notNull(p)&&t.includes(p.site.id)&&this.chws$.push(p)}else this.chws$=this.Chws$}returnEmptyArrayIfNul(t){return r.F.notNull(t)?t:[]}initDataFilted(){const t=this.aggradateDataForm.value.start_date,i=this.aggradateDataForm.value.end_date,p=this.returnEmptyArrayIfNul(this.aggradateDataForm.value.chws),u=this.returnEmptyArrayIfNul(this.aggradateDataForm.value.sites);var m={start_date:t,end_date:i,sources:this.returnEmptyArrayIfNul(this.aggradateDataForm.value.sources),chws:p,sites:u,districts:[]};this.isLoading=!0,this.initDate.start_date==t&&this.initDate.end_date==i&&0!=this.ChwsDataFromDb$?.length?this.getAllAboutData(m):(this.initDate.start_date=t,this.initDate.end_date=i,this.initMsg=`Chargement des donn\xe9es du ${r.E.getDateInFormat(m.start_date,0,"fr")} au ${r.E.getDateInFormat(m.end_date,0,"fr")}`,this.sync.getAllData(m).subscribe(s=>{this.ChwsDataFromDb$=s,this.getAllAboutData(m)},s=>{this.isLoading=!1,console.log(s.error)}))}getAllAboutData(t){this.initMsg="D\xe9marrage du calcule des indicateurs ...";const{start_date:i,end_date:p,chws:u,sites:c,sources:m}=t;if(r.F.notNull(i)&&r.F.notNull(p)){var s={total_home_visit:{},total_pcime_soins:{},total_pcime_suivi:{},total_reference_pcime_suivi:{},total_reference_pcime_soins:{},total_diarrhee_pcime_soins:{},total_paludisme_pcime_soins:{},total_pneumonie_pcime_soins:{},total_malnutrition_pcime_soins:{},prompt_diarrhee_24h_pcime_soins:{},prompt_diarrhee_48h_pcime_soins:{},prompt_diarrhee_72h_pcime_soins:{},prompt_paludisme_24h_pcime_soins:{},prompt_paludisme_48h_pcime_soins:{},prompt_paludisme_72h_pcime_soins:{},prompt_pneumonie_24h_pcime_soins:{},prompt_pneumonie_48h_pcime_soins:{},prompt_pneumonie_72h_pcime_soins:{},total_pregnancy_family_planning:{},total_reference_family_planning_soins:{},total_reference_femme_enceinte_soins:{},total_vad_femme_enceinte_soins:{},total_vad_femme_enceinte_NC_soins:{},total_test_de_grossesse_domicile:{},total_newborn_suivi:{},total_reference_newborn:{},total_malnutrition_suivi:{},total_reference_malnutrition_suivi:{},total_prenatal_suivi:{},total_reference_prenatal_suivi:{},total_postnatal_suivi:{},total_reference_postnatal_suivi:{},total_vad_femme_postpartum_NC:{},total_vad_women_emergency_suivi:{},total_reference_women_emergency_suivi:{},total_femme_enceinte_women_emergency_suivi:{},total_femme_postpartum_women_emergency_suivi:{},total_family_planning_renewal_suivi:{},total_reference_family_planning_renewal_suivi:{},total_vad_family_planning_NC:{}};for(let g=0;g<this.Chws$.length;g++){const f=this.Chws$[g].id;null!=f&&""!=f&&Object.entries(s).map(([n,_])=>{const o=_;o.hasOwnProperty(f)||(o[f]={chwId:f,count:0})})}for(let g=0;g<this.ChwsDataFromDb$.length;g++){const f=this.ChwsDataFromDb$[g];if(null!=f){const n=f.form,_=f.fields,o=null!=f.chw&&null!=f.chw.id&&""!=f.chw.id?f.chw.id:"",y=null!=f.site&&null!=f.site.id&&""!=f.site.id?f.site.id:"",b=null!=f.source&&""!=f.source?f.source:"",T=r.F.notNull(o)&&r.F.notNull(u)&&u?.includes(o)||!r.F.notNull(u),$=r.F.notNull(y)&&r.F.notNull(c)&&c?.includes(y)||!r.F.notNull(c),Z=r.F.notNull(b)&&r.F.notNull(m)&&m?.includes(b)||!r.F.notNull(m),A=!(!r.F.notNull(i)||!r.F.notNull(p))&&r.E.isBetween(`${i}`,f.reported_date,`${p}`);if(T&&$&&A&&Z){if("home_visit"===n&&(s.total_home_visit[o].count+=1),"pcime_c_asc"===n&&(s.total_pcime_soins[o].count+=1,"yes"==_["group_review.s_have_you_refer_child"]&&(s.total_reference_pcime_soins[o].count+=1),"true"==_.has_diarrhea&&(s.total_diarrhee_pcime_soins[o].count+=1,"true"==_.within_24h&&(s.prompt_diarrhee_24h_pcime_soins[o].count+=1),("true"==_.within_24h||"true"==_.within_48h)&&(s.prompt_diarrhee_48h_pcime_soins[o].count+=1),("true"==_.within_24h||"true"==_.within_48h||"true"==_.within_72h)&&(s.prompt_diarrhee_72h_pcime_soins[o].count+=1)),"true"==_.fever_with_malaria&&(s.total_paludisme_pcime_soins[o].count+=1,"true"==_.within_24h&&(s.prompt_paludisme_24h_pcime_soins[o].count+=1),("true"==_.within_24h||"true"==_.within_48h)&&(s.prompt_paludisme_48h_pcime_soins[o].count+=1),("true"==_.within_24h||"true"==_.within_48h||"true"==_.within_72h)&&(s.prompt_paludisme_72h_pcime_soins[o].count+=1)),"true"==_.has_pneumonia&&(s.total_pneumonie_pcime_soins[o].count+=1,"true"==_.within_24h&&(s.prompt_pneumonie_24h_pcime_soins[o].count+=1),("true"==_.within_24h||"true"==_.within_48h)&&(s.prompt_pneumonie_48h_pcime_soins[o].count+=1),("true"==_.within_24h||"true"==_.within_48h||"true"==_.within_72h)&&(s.prompt_pneumonie_72h_pcime_soins[o].count+=1)),"true"==_.has_malnutrition&&(s.total_malnutrition_pcime_soins[o].count+=1)),"pcime_c_followup"===n&&(s.total_pcime_suivi[o].count+=1,"yes"==_["group_review.s_have_you_refer_child"]&&(s.total_reference_pcime_suivi[o].count+=1)),"newborn_followup"===n&&(s.total_newborn_suivi[o].count+=1,"yes"==_["group_summary.s_have_you_refer_child"]&&(s.total_reference_newborn[o].count+=1)),"malnutrition_followup"===n&&(s.total_malnutrition_suivi[o].count+=1,"yes"==_["results_page.s_have_you_refer_child"]&&(s.total_reference_malnutrition_suivi[o].count+=1)),"prenatal_followup"===n&&(s.total_prenatal_suivi[o].count+=1,"yes"==_["group_summary.s_have_you_refer_child"]&&(s.total_reference_prenatal_suivi[o].count+=1)),"postnatal_followup"===n&&(s.total_postnatal_suivi[o].count+=1,"yes"==_["group_summary.s_have_you_refer_child"]&&(s.total_reference_postnatal_suivi[o].count+=1),"1"==_.follow_up_count&&(s.total_vad_femme_postpartum_NC[o].count+=1)),"pregnancy_family_planning"===n){s.total_pregnancy_family_planning[o].count+=1;var l="positive"==_["s_reg_pregnancy_screen.s_reg_urine_result"],w="already_pregnant"==_["s_reg_pregnancy_screen.s_reg_why_urine_test_not_done"];"yes"==_["s_reg_pregnancy_screen.s_reg_urine_test"]&&(s.total_test_de_grossesse_domicile[o].count+=1),"yes"==_["s_summary.s_have_you_refer_child"]&&!l&&!w&&(s.total_reference_family_planning_soins[o].count+=1),(l||w)&&(s.total_vad_femme_enceinte_soins[o].count+=1,"fp_followup"!=_["s_reg_mode.s_reg_how_found"]&&(s.total_vad_femme_enceinte_NC_soins[o].count+=1),"yes"==_["s_summary.s_have_you_refer_child"]&&(s.total_reference_femme_enceinte_soins[o].count+=1)),"yes"==_["s_fam_plan_screen.agreed_to_fp"]&&(s.total_vad_family_planning_NC[o].count+=1)}"women_emergency_followup"===n&&(s.total_vad_women_emergency_suivi[o].count+=1,"yes"==_["group_summary.s_have_you_refer_child"]&&(s.total_reference_women_emergency_suivi[o].count+=1),"pregnant"==_["initial.woman_status"]&&(s.total_femme_enceinte_women_emergency_suivi[o].count+=1),"postpartum"==_["initial.woman_status"]&&(s.total_femme_postpartum_women_emergency_suivi[o].count+=1)),"fp_follow_up_renewal"===n&&(s.total_family_planning_renewal_suivi[o].count+=1,"true"==_["check$2.s_refer_for_health_state"]&&(s.total_reference_family_planning_renewal_suivi[o].count+=1))}}}this.transformData(s,t)}}transformData(t,i){const{start_date:p,end_date:u}=i;if(r.F.notNull(p)&&r.F.notNull(u)){var l={total_vad:0,total_vad_pcime_c:0,total_suivi_pcime_c:0,total_vad_femmes_enceinte:0,total_vad_femmes_postpartum:0,total_recherche_active:0,total_vad_family_planning:0,reference_femmes_pf:0,reference_pcime:0,reference_femmes_enceinte_postpartum:0,total_diarrhee_pcime_soins:0,total_paludisme_pcime_soins:0,total_pneumonie_pcime_soins:0,total_malnutrition_pcime_soins:0,prompt_diarrhee_24h_pcime_soins:0,prompt_diarrhee_48h_pcime_soins:0,prompt_diarrhee_72h_pcime_soins:0,prompt_paludisme_24h_pcime_soins:0,prompt_paludisme_48h_pcime_soins:0,prompt_paludisme_72h_pcime_soins:0,prompt_pneumonie_24h_pcime_soins:0,prompt_pneumonie_48h_pcime_soins:0,prompt_pneumonie_72h_pcime_soins:0,total_vad_femmes_enceintes_NC:0,total_vad_femme_postpartum_NC:0,total_test_de_grossesse_domicile:0};for(let g=0;g<this.Chws$.length;g++){const n=this.Chws$[g].id,_=t.total_home_visit[n].count+t.total_pcime_soins[n].count+t.total_pregnancy_family_planning[n].count+t.total_pcime_suivi[n].count+t.total_newborn_suivi[n].count+t.total_prenatal_suivi[n].count+t.total_postnatal_suivi[n].count+t.total_malnutrition_suivi[n].count+t.total_vad_women_emergency_suivi[n].count+t.total_family_planning_renewal_suivi[n].count,o=t.total_pcime_soins[n].count+t.total_pcime_suivi[n].count+t.total_newborn_suivi[n].count+t.total_malnutrition_suivi[n].count,y=t.total_pcime_suivi[n].count+t.total_newborn_suivi[n].count+t.total_malnutrition_suivi[n].count,b=t.total_reference_family_planning_soins[n].count+t.total_reference_family_planning_renewal_suivi[n].count,T=t.total_reference_pcime_soins[n].count+t.total_reference_pcime_suivi[n].count+t.total_reference_newborn[n].count+t.total_reference_malnutrition_suivi[n].count,$=t.total_reference_femme_enceinte_soins[n].count+t.total_reference_prenatal_suivi[n].count+t.total_reference_postnatal_suivi[n].count+t.total_reference_women_emergency_suivi[n].count,Z=t.total_vad_femme_enceinte_soins[n].count+t.total_prenatal_suivi[n].count+t.total_femme_enceinte_women_emergency_suivi[n].count,A=t.total_postnatal_suivi[n].count+t.total_femme_postpartum_women_emergency_suivi[n].count,U=_-(o+Z+A+t.total_home_visit[n].count);l.total_vad+=_,l.total_vad_pcime_c+=o,l.total_suivi_pcime_c+=y,l.total_vad_femmes_enceinte+=Z,l.total_vad_femmes_postpartum+=A,l.total_recherche_active+=t.total_home_visit[n].count,l.total_vad_family_planning=U,l.reference_femmes_pf+=b,l.reference_pcime+=T,l.reference_femmes_enceinte_postpartum=$,l.total_diarrhee_pcime_soins+=t.total_diarrhee_pcime_soins[n].count,l.total_paludisme_pcime_soins+=t.total_paludisme_pcime_soins[n].count,l.total_pneumonie_pcime_soins+=t.total_pneumonie_pcime_soins[n].count,l.total_malnutrition_pcime_soins+=t.total_malnutrition_pcime_soins[n].count,l.prompt_diarrhee_24h_pcime_soins+=t.prompt_diarrhee_24h_pcime_soins[n].count,l.prompt_diarrhee_48h_pcime_soins+=t.prompt_diarrhee_48h_pcime_soins[n].count,l.prompt_diarrhee_72h_pcime_soins+=t.prompt_diarrhee_72h_pcime_soins[n].count,l.prompt_paludisme_24h_pcime_soins+=t.prompt_paludisme_24h_pcime_soins[n].count,l.prompt_paludisme_48h_pcime_soins+=t.prompt_paludisme_48h_pcime_soins[n].count,l.prompt_paludisme_72h_pcime_soins+=t.prompt_paludisme_72h_pcime_soins[n].count,l.prompt_pneumonie_24h_pcime_soins+=t.prompt_pneumonie_24h_pcime_soins[n].count,l.prompt_pneumonie_48h_pcime_soins+=t.prompt_pneumonie_48h_pcime_soins[n].count,l.prompt_pneumonie_72h_pcime_soins+=t.prompt_pneumonie_72h_pcime_soins[n].count,l.total_vad_femmes_enceintes_NC+=t.total_vad_femme_enceinte_NC_soins[n].count,l.total_vad_femme_postpartum_NC+=t.total_vad_femme_postpartum_NC[n].count,l.total_test_de_grossesse_domicile+=t.total_test_de_grossesse_domicile[n].count}this.allAggragateData=[],Object.entries(l).map(([g,f])=>{let n={label:r.F.capitaliseDataGiven(g,"_"," "),count:0,icon:"ion-bag",color:"bg-info",detailUrl:"/dashboards/dash1"};return n.count=f,this.allAggragateData.push(n),""})}this.initMsg="",this.isLoading=!1}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(q.p),e.Y36(x._))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-dashboard-4"]],decls:49,vars:0,consts:[[1,"box"],[1,"log"],[1,"content"],[1,"container-fluid"],[1,"card","card-info"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body","p-0"],[1,"table","table-sm","table-striped",2,"margin-left","auto","margin-right","auto"],[2,"width","10px"],[1,"custom-badge"],[1,"info"],[2,"text-align","center"],[1,"custom-action"],[1,"badge","bg-warning"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div")(2,"strong"),e._uU(3,"Log:"),e.qZA()(),e._UZ(4,"div",1),e.qZA(),e.TgZ(5,"section",2)(6,"div",3)(7,"div",4)(8,"div",5)(9,"div",6)(10,"h3",7),e._uU(11,"Condensed Full Width Table"),e.qZA()(),e.TgZ(12,"div",8)(13,"table",9)(14,"thead")(15,"tr")(16,"th",10),e._uU(17,"#"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Task"),e.qZA(),e.TgZ(20,"th"),e._uU(21,"Label"),e.qZA()()(),e.TgZ(22,"tbody")(23,"tr")(24,"td")(25,"span",11),e._uU(26,"1."),e.qZA()(),e.TgZ(27,"td")(28,"span",11),e._uU(29,"Update software"),e.qZA(),e._UZ(30,"br"),e.TgZ(31,"span",12),e._uU(32,"Action total: "),e.TgZ(33,"strong"),e._uU(34,"275"),e.qZA()()(),e.TgZ(35,"td",13)(36,"span",14),e._uU(37,"55"),e.qZA(),e._UZ(38,"br"),e.TgZ(39,"span",12),e._uU(40,"Actions/Jr"),e.qZA()()(),e.TgZ(41,"tr")(42,"td"),e._uU(43,"2."),e.qZA(),e.TgZ(44,"td"),e._uU(45,"Clean database"),e.qZA(),e.TgZ(46,"td")(47,"span",15),e._uU(48,"70%"),e.qZA()()()()()()()()()())},styles:[".custom-badge[_ngcontent-%COMP%]{font-size:18px;color:#000}.custom-action[_ngcontent-%COMP%]{font-size:25px;color:#000;text-align:center!important}.info[_ngcontent-%COMP%]{text-align:center!important}.box[_ngcontent-%COMP%]{width:600px;height:300px;border:1px solid black;padding:2px 4px;overflow-y:scroll;overflow-x:auto}.log[_ngcontent-%COMP%]{margin-top:8px;font-family:monospace}"]}),a})(),canActivate:[F.a],data:{href:"dashboard4",icon:"fa fa-user",label:"Dashboard-4",title:"Dashboard-4"}}];let ae=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[S.Bz.forChild(re),S.Bz]}),a})(),le=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[N.ez,h.UX,ae]}),a})()}}]);