"use strict";(self.webpackChunkih_portal=self.webpackChunkih_portal||[]).push([["src_app_modules_meeting_reports_mrs_module_ts"],{746:(Yt,v,p)=>{p.r(v),p.d(v,{IhMeetingReportModule:()=>Ht});var h=p(8692),b=p(92),R=p(3580),I=p(8968),O=p(5601),u=p(8239),a=p(8629),k=p(574),t=p(4537),N=p(1383),y=p(7556),$=p(1815),J=p(5998);let U=(()=>{class i{constructor(e){this.sanitizer=e}transform(e){return this.sanitizer.bypassSecurityTrustHtml(e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(J.H7,16))},i.\u0275pipe=t.Yjl({name:"safeHtml",type:i,pure:!0}),i})();function V(i,_){if(1&i){const e=t.EpF();t.TgZ(0,"a",19),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).$implicit,r=t.oxw();return t.KtG(r.ClickedIndex(o))})("mousedown",function(o){t.CHM(e);const r=t.oxw(2).$implicit,s=t.oxw();return t.KtG(s.onMouseDown(o,r))})("mouseup",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.onMouseUp())})("mouseleave",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.onMouseLeave())}),t.TgZ(1,"div"),t._uU(2),t.qZA()()}if(2&i){const e=t.oxw().ngIf,n=t.oxw().$implicit,o=t.oxw();t.MGl("id","custom-mr-",e,"-tab")("href","#custom-mr-",e,"",t.LSH),t.uIk("data-aria-controls","custom-mr-"+e)("data-aria-selected",e==(null==o.SelectedTeam?null:o.SelectedTeam.id)),t.xp6(1),t.Gre("",e==(null==o.SelectedTeam?null:o.SelectedTeam.id)?"active":"","  team-nav-link-active"),t.xp6(1),t.Oqu(n.name)}}function S(i,_){if(1&i){const e=t.EpF();t.TgZ(0,"span",20),t.NdJ("mousedown",function(o){t.CHM(e);const r=t.oxw(2).$implicit,s=t.oxw();return t.KtG(s.onMouseDown(o,r))})("mouseup",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.onMouseUp())})("mouseleave",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.onMouseLeave())}),t.TgZ(1,"div",21),t._uU(2),t.qZA()()}if(2&i){const e=t.oxw().ngIf,n=t.oxw().$implicit;t.MGl("id","custom-mr-span-",e,"-tab"),t.xp6(2),t.Oqu(n.name)}}function E(i,_){if(1&i&&(t.ynx(0),t.TgZ(1,"li",16),t.YNc(2,V,3,8,"a",17),t.YNc(3,S,3,2,"span",18),t.qZA(),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(2),t.Q6J("ngIf",1==e.show),t.xp6(1),t.Q6J("ngIf",0==e.show)}}function G(i,_){if(1&i&&(t.ynx(0),t.YNc(1,E,4,2,"ng-container",15),t.BQk()),2&i){const e=_.$implicit;t.xp6(1),t.Q6J("ngIf",e.id)}}function Q(i,_){1&i&&t._UZ(0,"input",22)}function q(i,_){if(1&i){const e=t.EpF();t.TgZ(0,"i",23),t.NdJ("click",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.SaveOrUpdateTeam(o))}),t.qZA()}}function H(i,_){if(1&i){const e=t.EpF();t.TgZ(0,"i",24),t.NdJ("click",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.SaveOrUpdateTeam(o))}),t.qZA()}}function Y(i,_){if(1&i){const e=t.EpF();t.TgZ(0,"i",25),t.NdJ("click",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.deleteTeam(o))}),t.qZA()}}function L(i,_){if(1&i){const e=t.EpF();t.TgZ(0,"i",26),t.NdJ("click",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.cancelTeamAction(o))}),t.qZA()}}function F(i,_){if(1&i){const e=t.EpF();t.TgZ(0,"i",27),t.NdJ("click",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.TeamAction(o))}),t.qZA()}}function K(i,_){if(1&i){const e=t.EpF();t.TgZ(0,"ul",72)(1,"li")(2,"span",73),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).ngIf,r=t.oxw(2);return t.KtG(r.excel("meeting-report-"+o))}),t._uU(3,"Excel"),t.qZA()(),t.TgZ(4,"li")(5,"span",73),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).ngIf,r=t.oxw(2);return t.KtG(r.csv("meeting-report-"+o))}),t._uU(6,"CSV"),t.qZA()(),t.TgZ(7,"li")(8,"span",73),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).ngIf,r=t.oxw(2);return t.KtG(r.json("meeting-report-"+o))}),t._uU(9,"JSON"),t.qZA()(),t.TgZ(10,"li")(11,"span",73),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).ngIf,r=t.oxw(2);return t.KtG(r.pdf("meeting-report-"+o))}),t._uU(12,"PDF"),t.qZA()(),t.TgZ(13,"li")(14,"span",73),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).ngIf,r=t.oxw(2);return t.KtG(r.print("meeting-report-"+o))}),t._uU(15,"PRINT"),t.qZA()()()}}function D(i,_){if(1&i){const e=t.EpF();t.TgZ(0,"i",74),t.NdJ("click",function(o){t.CHM(e);const r=t.oxw(2).ngIf,s=t.oxw(2);return t.KtG(s.editReport(o,r))}),t.qZA()}}function B(i,_){if(1&i){const e=t.EpF();t.TgZ(0,"i",75),t.NdJ("click",function(o){t.CHM(e);const r=t.oxw(2).ngIf,s=t.oxw(2);return t.KtG(s.deleteReport(o,r))}),t.qZA()}}function j(i,_){if(1&i){const e=t.EpF();t.TgZ(0,"i",76),t.NdJ("click",function(o){t.CHM(e);const r=t.oxw(2).ngIf,s=t.oxw(2);return t.KtG(s.cancelReportAction(o,r))}),t.qZA()}}function z(i,_){if(1&i&&(t._UZ(0,"div",77),t.ALo(1,"safeHtml")),2&i){const e=t.oxw(2).ngIf,n=t.oxw(2);t.Q6J("innerHTML",t.lcZ(1,1,n.textAreaToString(null==n.ViewedReport[e]?null:n.ViewedReport[e].title)),t.oJD)}}function W(i,_){if(1&i){const e=t.EpF();t.TgZ(0,"textarea",78),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).ngIf,r=t.oxw(2);return t.KtG(r.removeErrorClass("title-"+o))}),t._uU(1),t.qZA()}if(2&i){const e=t.oxw(2).ngIf,n=t.oxw(2);t.MGl("id","title-",e,""),t.Q6J("disabled",!n.CanUpdateReport(e)),t.xp6(1),t.Oqu(null==n.ViewedReport[e]?null:n.ViewedReport[e].title)}}function X(i,_){if(1&i&&(t._UZ(0,"div",77),t.ALo(1,"safeHtml")),2&i){const e=t.oxw(2).ngIf,n=t.oxw(2);t.Q6J("innerHTML",t.lcZ(1,1,n.textAreaToString(null==n.ViewedReport[e]?null:n.ViewedReport[e].date)),t.oJD)}}function tt(i,_){if(1&i){const e=t.EpF();t.TgZ(0,"input",79),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).ngIf,r=t.oxw(2);return t.KtG(r.removeErrorClass("date-"+o))}),t.qZA()}if(2&i){const e=t.oxw(2).ngIf,n=t.oxw(2);t.MGl("id","date-",e,""),t.s9C("value",null==n.ViewedReport[e]?null:n.ViewedReport[e].date),t.Q6J("disabled",!n.CanUpdateReport(e))}}function et(i,_){if(1&i&&(t._UZ(0,"div",77),t.ALo(1,"safeHtml")),2&i){const e=t.oxw(2).ngIf,n=t.oxw(2);t.Q6J("innerHTML",t.lcZ(1,1,n.textAreaToString(null==n.ViewedReport[e]?null:n.ViewedReport[e].start_hour)),t.oJD)}}function nt(i,_){if(1&i){const e=t.EpF();t.TgZ(0,"input",80),t.NdJ("input",function(){t.CHM(e);const o=t.oxw(2).ngIf,r=t.oxw(2);return t.KtG(r.compareTime(o))})("click",function(){t.CHM(e);const o=t.oxw(2).ngIf,r=t.oxw(2);return t.KtG(r.removeErrorClass("start-hour-"+o))}),t.qZA()}if(2&i){const e=t.oxw(2).ngIf,n=t.oxw(2);t.MGl("id","start-hour-",e,""),t.s9C("value",null==n.ViewedReport[e]?null:n.ViewedReport[e].start_hour),t.Q6J("disabled",!n.CanUpdateReport(e))}}function ot(i,_){if(1&i&&(t._UZ(0,"div",77),t.ALo(1,"safeHtml")),2&i){const e=t.oxw(2).ngIf,n=t.oxw(2);t.Q6J("innerHTML",t.lcZ(1,1,n.textAreaToString(null==n.ViewedReport[e]?null:n.ViewedReport[e].end_hour)),t.oJD)}}function it(i,_){if(1&i){const e=t.EpF();t.TgZ(0,"input",80),t.NdJ("input",function(){t.CHM(e);const o=t.oxw(2).ngIf,r=t.oxw(2);return t.KtG(r.compareTime(o))})("click",function(){t.CHM(e);const o=t.oxw(2).ngIf,r=t.oxw(2);return t.KtG(r.removeErrorClass("end-hour-"+o))}),t.qZA()}if(2&i){const e=t.oxw(2).ngIf,n=t.oxw(2);t.MGl("id","end-hour-",e,""),t.s9C("value",null==n.ViewedReport[e]?null:n.ViewedReport[e].end_hour),t.Q6J("disabled",!n.CanUpdateReport(e))}}function rt(i,_){if(1&i&&(t.TgZ(0,"div",81),t._UZ(1,"span",82),t.ALo(2,"safeHtml"),t.qZA()),2&i){const e=_.$implicit,n=_.index,o=t.oxw(2).ngIf,r=t.oxw(2);t.MGl("id","present-person-selected-",o,""),t.xp6(1),t.Q6J("innerHTML",t.lcZ(2,2,r.GetSeletedPersonName(e,o,n,r.GetSelectedPersonList(o).length)),t.oJD)}}function st(i,_){if(1&i&&(t.TgZ(0,"div",81),t._UZ(1,"span",82),t.ALo(2,"safeHtml"),t.qZA()),2&i){const e=_.$implicit,n=_.index,o=t.oxw(2).ngIf,r=t.oxw(2);t.MGl("id","absent-person-selected-",o,""),t.xp6(1),t.Q6J("innerHTML",t.lcZ(2,2,r.GetSeletedPersonName(e,o,n,r.GetSelectedPersonList(o,!0).length)),t.oJD)}}function _t(i,_){if(1&i&&(t._UZ(0,"div",77),t.ALo(1,"safeHtml")),2&i){const e=t.oxw(2).ngIf,n=t.oxw(2);t.Q6J("innerHTML",t.lcZ(1,1,n.textAreaToString(null==n.ViewedReport[e]?null:n.ViewedReport[e].other_persons)),t.oJD)}}function ct(i,_){if(1&i){const e=t.EpF();t.TgZ(0,"textarea",78),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).ngIf,r=t.oxw(2);return t.KtG(r.removeErrorClass("other_persons-"+o))}),t._uU(1),t.qZA()}if(2&i){const e=t.oxw(2).ngIf,n=t.oxw(2);t.MGl("id","other_persons-",e,""),t.Q6J("disabled",!n.CanUpdateReport(e)),t.xp6(1),t.Oqu(null==n.ViewedReport[e]?null:n.ViewedReport[e].other_persons)}}function at(i,_){if(1&i&&(t._UZ(0,"div",83),t.ALo(1,"safeHtml")),2&i){const e=t.oxw(2).ngIf,n=t.oxw(2);t.Q6J("innerHTML",t.lcZ(1,1,n.textAreaToString(null==n.ViewedReport[e]?null:n.ViewedReport[e].agenda)),t.oJD)}}function lt(i,_){if(1&i){const e=t.EpF();t.TgZ(0,"textarea",84),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).ngIf,r=t.oxw(2);return t.KtG(r.removeErrorClass("agenda-"+o))}),t._uU(1),t.qZA()}if(2&i){const e=t.oxw(2).ngIf,n=t.oxw(2);t.MGl("id","agenda-",e,""),t.Q6J("disabled",!n.CanUpdateReport(e)),t.xp6(1),t.Oqu(null==n.ViewedReport[e]?null:n.ViewedReport[e].agenda)}}function pt(i,_){if(1&i&&(t._UZ(0,"div",83),t.ALo(1,"safeHtml")),2&i){const e=t.oxw(2).ngIf,n=t.oxw(2);t.Q6J("innerHTML",t.lcZ(1,1,n.textAreaToString(null==n.ViewedReport[e]?null:n.ViewedReport[e].discussion_topics)),t.oJD)}}function dt(i,_){if(1&i){const e=t.EpF();t.TgZ(0,"textarea",85),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).ngIf,r=t.oxw(2);return t.KtG(r.removeErrorClass("discussion-topics-"+o))}),t._uU(1),t.qZA()}if(2&i){const e=t.oxw(2).ngIf,n=t.oxw(2);t.MGl("id","discussion-topics-",e,""),t.Q6J("disabled",!n.CanUpdateReport(e)),t.xp6(1),t.Oqu(null==n.ViewedReport[e]?null:n.ViewedReport[e].discussion_topics)}}function gt(i,_){if(1&i&&(t._UZ(0,"div",83),t.ALo(1,"safeHtml")),2&i){const e=t.oxw(2).ngIf,n=t.oxw(2);t.Q6J("innerHTML",t.lcZ(1,1,n.textAreaToString(null==n.ViewedReport[e]?null:n.ViewedReport[e].next_steps)),t.oJD)}}function ut(i,_){if(1&i){const e=t.EpF();t.TgZ(0,"textarea",86),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).ngIf,r=t.oxw(2);return t.KtG(r.removeErrorClass("next-steps-"+o))}),t._uU(1),t.qZA()}if(2&i){const e=t.oxw(2).ngIf,n=t.oxw(2);t.MGl("id","next-steps-",e,""),t.Q6J("disabled",!n.CanUpdateReport(e)),t.xp6(1),t.Oqu(null==n.ViewedReport[e]?null:n.ViewedReport[e].next_steps)}}function ft(i,_){if(1&i&&(t._UZ(0,"div",83),t.ALo(1,"safeHtml")),2&i){const e=t.oxw(2).ngIf,n=t.oxw(2);t.Q6J("innerHTML",t.lcZ(1,1,n.textAreaToString(null==n.ViewedReport[e]?null:n.ViewedReport[e].recommandations)),t.oJD)}}function mt(i,_){if(1&i){const e=t.EpF();t.TgZ(0,"textarea",86),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).ngIf,r=t.oxw(2);return t.KtG(r.removeErrorClass("recommandations-"+o))}),t._uU(1),t.qZA()}if(2&i){const e=t.oxw(2).ngIf,n=t.oxw(2);t.MGl("id","recommandations-",e,""),t.Q6J("disabled",!n.CanUpdateReport(e)),t.xp6(1),t.Oqu(null==n.ViewedReport[e]?null:n.ViewedReport[e].recommandations)}}function xt(i,_){if(1&i){const e=t.EpF();t.TgZ(0,"button",87),t.NdJ("click",function(o){t.CHM(e);const r=t.oxw(2).ngIf,s=t.oxw(2);return t.KtG(s.SaveOrUpdateReport(o,r,!0))}),t._uU(1),t.qZA()}if(2&i){const e=t.oxw(2).ngIf;t.MGl("id","submit-btn-",e,""),t.xp6(1),t.hij(" ","Enr\xe9gistrer et ne plus modifier"," ")}}function ht(i,_){if(1&i){const e=t.EpF();t.TgZ(0,"button",88),t.NdJ("click",function(o){t.CHM(e);const r=t.oxw(2).ngIf,s=t.oxw(2);return t.KtG(s.SaveOrUpdateReport(o,r,!1))}),t._uU(1),t.qZA()}if(2&i){const e=t.oxw(2).ngIf,n=t.oxw(2);t.Gre("btn btn-",n.SelectedReportExist(e)?"warning":"primary"," form-control"),t.MGl("id","submit-btn-",e,""),t.xp6(1),t.hij(" ",n.SelectedReportExist(e)?"Modifier":"Enr\xe9gistrer"," ")}}function wt(i,_){if(1&i){const e=t.EpF();t.TgZ(0,"i",89),t.NdJ("click",function(o){t.CHM(e);const r=t.oxw(2).ngIf,s=t.oxw(2);return t.KtG(s.SaveOrUpdatePerson(o,r))}),t.qZA()}}function Ct(i,_){if(1&i){const e=t.EpF();t.TgZ(0,"i",90),t.NdJ("click",function(o){t.CHM(e);const r=t.oxw(2).ngIf,s=t.oxw(2);return t.KtG(s.SaveOrUpdatePerson(o,r))}),t.qZA()}}function Mt(i,_){if(1&i){const e=t.EpF();t.TgZ(0,"i",91),t.NdJ("click",function(o){t.CHM(e);const r=t.oxw(2).ngIf,s=t.oxw(2);return t.KtG(s.deletePerson(o,r))}),t.qZA()}}function Tt(i,_){if(1&i){const e=t.EpF();t.TgZ(0,"i",92),t.NdJ("click",function(o){t.CHM(e);const r=t.oxw(2).ngIf,s=t.oxw(2);return t.KtG(s.cancelPersonAction(o,r))}),t.qZA()}}function vt(i,_){if(1&i){const e=t.EpF();t.TgZ(0,"span",99),t.NdJ("click",function(o){t.CHM(e);const r=t.oxw().$implicit,s=t.oxw(2).ngIf,c=t.oxw(2);return t.KtG(c.presentPerson(o,r,s))}),t._uU(1,"Pr\xe9sent"),t.qZA()}}function bt(i,_){if(1&i){const e=t.EpF();t.TgZ(0,"span",100),t.NdJ("click",function(o){t.CHM(e);const r=t.oxw().$implicit,s=t.oxw(2).ngIf,c=t.oxw(2);return t.KtG(c.absentPerson(o,r,s))}),t._uU(1,"Absent"),t.qZA()}}function Rt(i,_){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"th",93)(2,"div",94),t._uU(3),t._UZ(4,"br"),t.TgZ(5,"div",95),t.YNc(6,vt,2,0,"span",96),t.YNc(7,bt,2,0,"span",97),t.TgZ(8,"span",98),t.NdJ("click",function(o){const s=t.CHM(e).$implicit,c=t.oxw(2).ngIf,l=t.oxw(2);return t.KtG(l.selectPersonToWork(o,s,c))}),t._uU(9,"Editer"),t.qZA()()()()()}if(2&i){const e=_.$implicit,n=t.oxw(2).ngIf,o=t.oxw(2);t.xp6(2),t.Tol(o.PersonIsSelected(e,n)?"present-person-active-grp":o.PersonIsSelected(e,n,!0)?"absent-person-active-grp":"person-deactive-grp"),t.hYB("id","person-",n,"-",e.id,""),t.xp6(1),t.hij(" ",o.GetPersonName(e,n)," "),t.xp6(3),t.Q6J("ngIf",o.CanUpdateReport(n)&&o.showEdit(n)),t.xp6(1),t.Q6J("ngIf",o.CanUpdateReport(n)&&o.showEdit(n))}}function Pt(i,_){1&i&&(t.TgZ(0,"h1")(1,"strong"),t._uU(2,"Liste des rapports"),t.qZA()())}function Zt(i,_){if(1&i){const e=t.EpF();t.TgZ(0,"span",108),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().ngIf,r=t.oxw(10).ngIf,s=t.oxw(2);return t.KtG(s.SetModalReport(r,o.report))}),t._uU(1),t.qZA()}if(2&i){const e=t.oxw().ngIf,n=t.oxw(10).ngIf,o=t.oxw(2);t.Gre("toogleSpan ",o.ViewedReport[n]&&(null==o.ViewedReport[n]?null:o.ViewedReport[n].id)==e.report.id?"hourSpanSelected":"hourSpan",""),t.uIk("data-target","#modal-logout-"+n),t.xp6(1),t.hij(" ",e.hour," ")}}function At(i,_){if(1&i){const e=t.EpF();t.TgZ(0,"span",73),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().ngIf,r=t.oxw(10).ngIf,s=t.oxw(2);return t.KtG(s.ViewReport(r,o.report))}),t._uU(1),t.qZA()}if(2&i){const e=t.oxw().ngIf,n=t.oxw(10).ngIf,o=t.oxw(2);t.Gre("toogleSpan ",o.ViewedReport[n]&&(null==o.ViewedReport[n]?null:o.ViewedReport[n].id)==e.report.id?"hourSpanSelected":"hourSpan",""),t.xp6(1),t.hij(" ",e.hour," ")}}function It(i,_){if(1&i&&(t.ynx(0),t.YNc(1,Zt,2,5,"span",106),t.YNc(2,At,2,4,"span",107),t.BQk()),2&i){const e=t.oxw(10).ngIf,n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",n.AllFieldAreNotEmpty(e)),t.xp6(1),t.Q6J("ngIf",!n.AllFieldAreNotEmpty(e))}}function Ot(i,_){if(1&i&&(t.TgZ(0,"li",103),t.YNc(1,It,3,2,"ng-container",15),t.qZA()),2&i){const e=_.$implicit,n=t.oxw(2).$implicit,o=t.oxw(2).$implicit,r=t.oxw(2).$implicit,s=t.oxw(3).ngIf,c=t.oxw(2);t.xp6(1),t.Q6J("ngIf",c.Report$[s][r][o][n][e])}}function kt(i,_){if(1&i&&(t.TgZ(0,"ul",101),t.YNc(1,Ot,2,1,"li",102),t.qZA()),2&i){const e=t.oxw().$implicit,n=t.oxw(2).$implicit,o=t.oxw(2).$implicit,r=t.oxw(3).ngIf,s=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",s.ObjectKeys(s.Report$[r][o][n][e]))}}function Nt(i,_){if(1&i){const e=t.EpF();t.TgZ(0,"li",103)(1,"span",104),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw(2).$implicit,c=t.oxw(2).$implicit,l=t.oxw(5);return t.KtG(l.toggleVisibility(c,s,r))}),t._uU(2),t.qZA(),t.YNc(3,kt,2,1,"ul",105),t.qZA()}if(2&i){const e=_.$implicit,n=t.oxw(2).$implicit,o=t.oxw(2).$implicit,r=t.oxw(5);t.xp6(2),t.hij(" ",e<10?"0"+e:e," "),t.xp6(1),t.Q6J("ngIf",r.isDayVisible(o,n,e))}}function yt(i,_){if(1&i&&(t.TgZ(0,"ul",101),t.YNc(1,Nt,4,2,"li",102),t.qZA()),2&i){const e=t.oxw().$implicit,n=t.oxw(2).$implicit,o=t.oxw(3).ngIf,r=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",r.ObjectKeys(r.Report$[o][n][e]))}}function $t(i,_){if(1&i){const e=t.EpF();t.TgZ(0,"li",103)(1,"span",104),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw(2).$implicit,c=t.oxw(5);return t.KtG(c.toggleVisibility(s,r))}),t._uU(2),t.qZA(),t.YNc(3,yt,2,1,"ul",105),t.qZA()}if(2&i){const e=_.$implicit,n=t.oxw(2).$implicit,o=t.oxw(5);t.xp6(2),t.hij(" ",o.MonthName(e)," "),t.xp6(1),t.Q6J("ngIf",o.isMonthVisible(n,e))}}function Jt(i,_){if(1&i&&(t.TgZ(0,"ul",101),t.YNc(1,$t,4,2,"li",102),t.qZA()),2&i){const e=t.oxw().$implicit,n=t.oxw(3).ngIf,o=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",o.ObjectKeys(o.Report$[n][e]))}}function Ut(i,_){if(1&i){const e=t.EpF();t.TgZ(0,"li",103)(1,"span",104),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw(5);return t.KtG(s.toggleVisibility(r))}),t._uU(2),t.qZA(),t.YNc(3,Jt,2,1,"ul",105),t.qZA()}if(2&i){const e=_.$implicit,n=t.oxw(5);t.xp6(2),t.hij(" ",e," "),t.xp6(1),t.Q6J("ngIf",n.isYearVisible(e))}}function Vt(i,_){if(1&i&&(t.ynx(0),t.YNc(1,Pt,3,0,"h1",15),t.TgZ(2,"ul",101),t.YNc(3,Ut,4,2,"li",102),t.qZA(),t.BQk()),2&i){const e=_.ngIf;t.xp6(1),t.Q6J("ngIf",e.length>0),t.xp6(2),t.Q6J("ngForOf",e)}}function St(i,_){if(1&i){const e=t.EpF();t.TgZ(0,"div",36)(1,"div",37)(2,"div",38)(3,"table",39)(4,"tbody")(5,"tr")(6,"th",40)(7,"div",41),t._uU(8," RAPPORT DE REUNION "),t.qZA()()(),t.TgZ(9,"tr")(10,"th",42)(11,"b",43),t._uU(12),t.ALo(13,"uppercase"),t.YNc(14,K,16,0,"ul",44),t.qZA()(),t.TgZ(15,"td")(16,"div",45),t.YNc(17,D,1,0,"i",46),t.YNc(18,B,1,0,"i",47),t.YNc(19,j,1,0,"i",48),t.qZA()()(),t.TgZ(20,"tr")(21,"th"),t._uU(22,"Titre de la r\xe9union"),t.qZA(),t.TgZ(23,"td",42),t.YNc(24,z,2,3,"div",49),t.YNc(25,W,2,3,"textarea",50),t.qZA()(),t.TgZ(26,"tr")(27,"th"),t._uU(28,"Date/Heure d\xe9but & Fin"),t.qZA(),t.TgZ(29,"td"),t.YNc(30,X,2,3,"div",49),t.YNc(31,tt,1,3,"input",51),t.qZA(),t.TgZ(32,"td"),t.YNc(33,et,2,3,"div",49),t.YNc(34,nt,1,3,"input",52),t.qZA(),t.TgZ(35,"td"),t.YNc(36,ot,2,3,"div",49),t.YNc(37,it,1,3,"input",52),t.qZA()(),t.TgZ(38,"tr")(39,"th"),t._uU(40,"Les Participants"),t.qZA(),t.TgZ(41,"td",42)(42,"div",53),t.YNc(43,rt,3,4,"div",54),t.qZA()()(),t.TgZ(44,"tr")(45,"th"),t._uU(46,"Les Absents"),t.qZA(),t.TgZ(47,"td",42)(48,"div",53),t.YNc(49,st,3,4,"div",54),t.qZA()()(),t.TgZ(50,"tr")(51,"th"),t._uU(52,"Autres Participants"),t.qZA(),t.TgZ(53,"td",42),t.YNc(54,_t,2,3,"div",49),t.YNc(55,ct,2,3,"textarea",50),t.qZA()(),t.TgZ(56,"tr")(57,"th"),t._uU(58,"Ordre de jour"),t.qZA(),t.TgZ(59,"td",42),t.YNc(60,at,2,3,"div",55),t.YNc(61,lt,2,3,"textarea",56),t.qZA()(),t.TgZ(62,"tr")(63,"th"),t._uU(64,"Discussions"),t._UZ(65,"br"),t._uU(66,"(grandes lignes)"),t.qZA(),t.TgZ(67,"td",42),t.YNc(68,pt,2,3,"div",55),t.YNc(69,dt,2,3,"textarea",57),t.qZA()(),t.TgZ(70,"tr")(71,"th"),t._uU(72," Prochaines \xe9tapes"),t._UZ(73,"br"),t.TgZ(74,"small")(75,"i"),t._uU(76,"(D\xe9cisions collectives)"),t.qZA()()(),t.TgZ(77,"td",42),t.YNc(78,gt,2,3,"div",55),t.YNc(79,ut,2,3,"textarea",58),t.qZA()(),t.TgZ(80,"tr")(81,"th"),t._uU(82," Recommandations "),t.qZA(),t.TgZ(83,"td",42),t.YNc(84,ft,2,3,"div",55),t.YNc(85,mt,2,3,"textarea",58),t.qZA()()()(),t.YNc(86,xt,2,2,"button",59),t.YNc(87,ht,2,5,"button",60),t.qZA(),t.TgZ(88,"div",61)(89,"div",62)(90,"table",63)(91,"thead")(92,"tr")(93,"th")(94,"input",64),t.NdJ("input",function(){t.CHM(e);const o=t.oxw().ngIf,r=t.oxw(2);return t.KtG(r.personInputIsNotEmpty(o))}),t.qZA(),t.TgZ(95,"input",65),t.NdJ("input",function(){t.CHM(e);const o=t.oxw().ngIf,r=t.oxw(2);return t.KtG(r.setSearchPerson(o))}),t.qZA(),t.TgZ(96,"div",66),t.YNc(97,wt,1,0,"i",67),t.YNc(98,Ct,1,0,"i",68),t.YNc(99,Mt,1,0,"i",69),t.YNc(100,Tt,1,0,"i",70),t.qZA()()()(),t.TgZ(101,"tbody"),t.YNc(102,Rt,10,8,"tr",5),t.qZA()()(),t.TgZ(103,"div",71),t.YNc(104,Vt,4,2,"ng-container",15),t.qZA()()()()}if(2&i){const e=t.oxw().ngIf,n=t.oxw().$implicit,o=t.oxw();t.Gre("tab-pane fade ",e==(null==o.SelectedTeam?null:o.SelectedTeam.id)?"show active":"",""),t.MGl("id","custom-mr-",e,""),t.uIk("data-aria-labelledby","custom-mr-"+e+"-tab"),t.xp6(3),t.Q6J("id","meeting-report-"+e),t.xp6(9),t.hij(" ",t.lcZ(13,44,n.name)," "),t.xp6(2),t.Q6J("ngIf",o.AllFieldAreNotEmpty(e,!1)),t.xp6(3),t.Q6J("ngIf",o.SelectedReportExist(e)&&o.CanUpdateReport(e)&&o.showEdit(e,"span")),t.xp6(1),t.Q6J("ngIf",o.SelectedReportExist(e)&&o.CanUpdateReport(e)),t.xp6(1),t.Q6J("ngIf",o.SelectedReportExist(e)),t.xp6(5),t.Q6J("ngIf",o.showEdit(e,"span")),t.xp6(1),t.Q6J("ngIf",o.showEdit(e)),t.xp6(5),t.Q6J("ngIf",o.showEdit(e,"span")),t.xp6(1),t.Q6J("ngIf",o.showEdit(e)),t.xp6(2),t.Q6J("ngIf",o.showEdit(e,"span")),t.xp6(1),t.Q6J("ngIf",o.showEdit(e)),t.xp6(2),t.Q6J("ngIf",o.showEdit(e,"span")),t.xp6(1),t.Q6J("ngIf",o.showEdit(e)),t.xp6(5),t.MGl("id","present-persons-",e,""),t.xp6(1),t.Q6J("ngForOf",o.GetSelectedPersonList(e)),t.xp6(5),t.MGl("id","absent-persons-",e,""),t.xp6(1),t.Q6J("ngForOf",o.GetSelectedPersonList(e,!0)),t.xp6(5),t.Q6J("ngIf",o.showEdit(e,"span")),t.xp6(1),t.Q6J("ngIf",o.showEdit(e)),t.xp6(5),t.Q6J("ngIf",o.showEdit(e,"span")),t.xp6(1),t.Q6J("ngIf",o.showEdit(e)),t.xp6(7),t.Q6J("ngIf",o.showEdit(e,"span")),t.xp6(1),t.Q6J("ngIf",o.showEdit(e)),t.xp6(9),t.Q6J("ngIf",o.showEdit(e,"span")),t.xp6(1),t.Q6J("ngIf",o.showEdit(e)),t.xp6(5),t.Q6J("ngIf",o.showEdit(e,"span")),t.xp6(1),t.Q6J("ngIf",o.showEdit(e)),t.xp6(1),t.Q6J("ngIf",o.CanUpdateReport(e)&&o.showEdit(e)),t.xp6(1),t.Q6J("ngIf",o.CanUpdateReport(e)&&o.showEdit(e)),t.xp6(3),t.MGl("id","person-table-",e,""),t.xp6(4),t.MGl("id","person-name-",e,""),t.xp6(1),t.MGl("id","person-email-",e,""),t.xp6(2),t.Q6J("ngIf",o.personInputIsNotEmpty(e)&&!o.SelectedPerson),t.xp6(1),t.Q6J("ngIf",o.SelectedPerson),t.xp6(1),t.Q6J("ngIf",o.SelectedPerson),t.xp6(1),t.Q6J("ngIf",o.personInputIsNotEmpty(e)),t.xp6(2),t.Q6J("ngForOf",o.SearchedPerson$),t.xp6(2),t.Q6J("ngIf",o.ObjectKeys(o.Report$[e]))}}function Et(i,_){if(1&i){const e=t.EpF();t.ynx(0),t.YNc(1,St,105,46,"div",28),t.TgZ(2,"div",29)(3,"div",30)(4,"div",31)(5,"div",32)(6,"h1"),t._uU(7,"Vous avez un rapport en cours,"),t.qZA(),t.TgZ(8,"h1"),t._uU(9,"souhaitez-vous continuer?"),t.qZA()(),t.TgZ(10,"div",33)(11,"button",34),t._uU(12,"Non"),t.qZA(),t.TgZ(13,"button",35),t.NdJ("click",function(){const r=t.CHM(e).ngIf,s=t.oxw(2);return t.KtG(s.EditWithModalReport(r))}),t._uU(14,"Oui"),t.qZA()()()()(),t.BQk()}if(2&i){const e=_.ngIf,n=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",n.show),t.xp6(1),t.MGl("id","modal-logout-",e,"")}}function Gt(i,_){if(1&i&&(t.ynx(0),t.YNc(1,Et,15,2,"ng-container",15),t.BQk()),2&i){const e=_.$implicit;t.xp6(1),t.Q6J("ngIf",e.id)}}const Qt=[{path:"",redirectTo:"reports",pathMatch:"full"},{path:"reports",component:(()=>{class i{constructor(e,n,o,r,s){this.store=e,this.auth=n,this.sync=o,this.el=r,this.renderer=s,this.roles=new k.G7(this.store),this.ChwOU=null,this.visibleItems={},this.IsTeamAction=!1,this.Team$=[],this.Person$=[],this.SearchedPerson$=[],this.PresentPersonsList={},this.AbsentPersonsList={},this.modalReport={},this.AllReports$=[],this.Report$={},this.ViewedReport={},this.EditReportView={},this.roles.hasNoAccess()&&this.auth.logout(),this.roles.isReportViewer()||(location.href=this.auth.userValue()?.defaultRedirectUrl??"")}ngOnInit(){this.ChwOU=this.auth.chwsOrgUnit(),this.roles.isChws()&&(null==this.ChwOU||!(0,a.Nf)(this.ChwOU))&&(location.href="chws/select_orgunit"),this.GetPerson(),this.GetTeams(),this.GetReports()}showEdit(e,n="Input"){if(this.ViewedReport&&this.ViewedReport[e]){const o=this.EditReportView[e];return"Input"==n?1==o:1!=o}return"Input"==n}SetModalReport(e,n){this.modalReport[e]=n}EditWithModalReport(e){this.ViewReport(e,this.modalReport[e])}editReport(e,n){this.EditReportView[n]=!0,this.setPersonsData(n,this.ViewedReport&&this.ViewedReport[n])}setPersonsData(e,n){e&&n&&n.id&&(this.PresentPersonsList[e]=this.Person$.filter(o=>o.id&&n.present_persons_ids&&n.present_persons_ids.map(String).includes(`${o.id}`)&&n.team.id==e),this.AbsentPersonsList[e]=this.Person$.filter(o=>o.id&&n.absent_persons_ids&&n.absent_persons_ids.map(String).includes(`${o.id}`)&&n.team.id==e))}ViewReport(e,n){if(n){const o=n&&n.team.id;o&&e&&o==e&&n.id&&(this.ViewedReport[e]=n,this.setPersonsData(e,n))}}generateReport(){const e={},n=this.SelectedTeam&&this.SelectedTeam.id;if(n)for(let o=0;o<this.AllReports$.length;o++){const r=this.AllReports$[o];if(r.date){const s=new Date(r.date),c=s.getFullYear(),l=s.getMonth()+1,g=s.getDate();e[n]||(e[n]={}),e[n][c]||(e[n][c]={}),e[n][c][l]||(e[n][c][l]={}),e[n][c][l][g]||(e[n][c][l][g]={}),e[n][c][l][g][o+1]={report:r,hour:`${r.start_hour}  -  ${r.end_hour}`}}}this.Report$=e}GetTeams(){var e=this;this.sync.GetTeams().subscribe(function(){var n=(0,u.Z)(function*(o){200==o.status&&(e.Team$=o.data.sort((r,s)=>r.name.localeCompare(s.name)))});return function(o){return n.apply(this,arguments)}}(),n=>{})}GetPerson(){var e=this;this.sync.GetPersons().subscribe(function(){var n=(0,u.Z)(function*(o){200==o.status&&(e.Person$=o.data.sort((r,s)=>r.name.localeCompare(s.name)),e.SearchedPerson$=e.Person$)});return function(o){return n.apply(this,arguments)}}(),n=>{})}GetReports(){var e=this;this.SelectedTeam&&this.SelectedTeam.id&&this.sync.GetReports({team:this.SelectedTeam.id}).subscribe(function(){var n=(0,u.Z)(function*(o){200==o.status&&(e.AllReports$=o.data,e.generateReport())});return function(o){return n.apply(this,arguments)}}(),n=>{})}getPresentPersonsIds(){return Object.values(this.PresentPersonsList).flat().filter(n=>"number"==typeof n.id).map(n=>n.id)}getAbsentPersonsIds(){return Object.values(this.AbsentPersonsList).flat().filter(n=>"number"==typeof n.id).map(n=>n.id)}AllFieldAreNotEmpty(e,n=!0){const o=this.getPresentPersonsIds(),r=this.getAbsentPersonsIds(),s=this.getValue(`title-${e}`),c=this.getValue(`date-${e}`),l=this.getValue(`start-hour-${e}`),g=this.getValue(`end-hour-${e}`),m=this.getValue(`agenda-${e}`),f=this.getValue(`other_persons-${e}`),w=this.getValue(`discussion-topics-${e}`),M=this.getValue(`next-steps-${e}`),C=this.getValue(`recommandations-${e}`),x=(0,a.Nf)(s)||(0,a.Nf)(c)||(0,a.Nf)(l)||(0,a.Nf)(g)||(0,a.Nf)(o)||(0,a.Nf)(r)||(0,a.Nf)(f)||(0,a.Nf)(f)||(0,a.Nf)(m)||(0,a.Nf)(C)||(0,a.Nf)(w)||(0,a.Nf)(M);return n?!(!this.CanUpdateReport(e)||!this.showEdit(e))&&x:x}SaveOrUpdateReport(e,n,o){var r=this;e.preventDefault();const s=this.getPresentPersonsIds(),c=this.getAbsentPersonsIds(),l=this.getValue(`title-${n}`),g=this.getValue(`date-${n}`),m=this.getValue(`start-hour-${n}`),f=this.getValue(`end-hour-${n}`),w=this.getValue(`agenda-${n}`),M=this.getValue(`other_persons-${n}`),C=this.getValue(`discussion-topics-${n}`),x=this.getValue(`next-steps-${n}`),P=this.getValue(`recommandations-${n}`);var d=1;if((0,a.Nf)(l)||(d-=1,this.AddOrRemoveClassById(`title-${n}`,"custom-border")),(0,a.Nf)(g)||(d-=1,this.AddOrRemoveClassById(`date-${n}`,"custom-border")),(0,a.Nf)(m)||(d-=1,this.AddOrRemoveClassById(`start-hour-${n}`,"custom-border")),(0,a.Nf)(f)||(d-=1,this.AddOrRemoveClassById(`end-hour-${n}`,"custom-border")),a.ED.compareTimes(m,f)<=0||(d-=1,this.AddOrRemoveClassById(`start-hour-${n}`,"custom-border"),this.AddOrRemoveClassById(`end-hour-${n}`,"custom-border")),(0,a.Nf)(s)||(d-=1,this.AddOrRemoveClassById(`present-persons-${n}`,"custom-border")),(0,a.Nf)(w)||(d-=1,this.AddOrRemoveClassById(`agenda-${n}`,"custom-border")),(0,a.Nf)(C)||(d-=1,this.AddOrRemoveClassById(`discussion-topics-${n}`,"custom-border")),(0,a.Nf)(x)||(d-=1,this.AddOrRemoveClassById(`next-steps-${n}`,"custom-border")),(0,a.Nf)(P)||(d-=1,this.AddOrRemoveClassById(`recommandations-${n}`,"custom-border")),1==d){const Z={id:this.ViewedReport[n]?.id,title:l,date:g,start_hour:m,end_hour:f,team:n,present_persons_ids:s,absent_persons_ids:c,other_persons:M,agenda:w,discussion_topics:C,next_steps:x,recommandations:P,doNotUpdate:o};Z&&this.sync.SaveOrUpdateReport(Z).subscribe(function(){var A=(0,u.Z)(function*(T){200==T.status&&(r.AllReports$=T.data,r.generateReport(),r.cancelReportAction(e,n))});return function(T){return A.apply(this,arguments)}}(),A=>{})}}compareTime(e){const n=this.getValue(`start-hour-${e}`),o=this.getValue(`end-hour-${e}`);if((0,a.Nf)(n)&&(0,a.Nf)(o)){const r=a.ED.compareTimes(n,o)<=0;this.AddOrRemoveClassById(`start-hour-${e}`,"custom-border",r),this.AddOrRemoveClassById(`end-hour-${e}`,"custom-border",r)}}removeErrorClass(e){this.AddOrRemoveClassById(e,"custom-border",!0)}deleteReport(e,n){var o=this;e.preventDefault(),this.ViewedReport&&this.ViewedReport[n]?.id&&this.sync.DeleteReport({dataId:this.ViewedReport[n]?.id}).subscribe(function(){var r=(0,u.Z)(function*(s){200==s.status&&(o.AllReports$=o.AllReports$.filter(c=>c.id!==o.ViewedReport[n]?.id),o.generateReport(),o.cancelReportAction(e,n))});return function(s){return r.apply(this,arguments)}}(),r=>{})}cancelReportAction(e,n){this.setValue(`title-${n}`,""),this.setValue(`date-${n}`,""),this.setValue(`start-hour-${n}`,""),this.setValue(`end-hour-${n}`,""),this.setValue(`agenda-${n}`,""),this.setValue(`other_persons-${n}`,""),this.setValue(`discussion-topics-${n}`,""),this.setValue(`next-steps-${n}`,""),this.setValue(`recommandations-${n}`,""),this.PresentPersonsList[n]=[],this.AbsentPersonsList[n]=[],this.ViewedReport[n]=void 0,this.EditReportView[n]=void 0}TeamAction(e){e.preventDefault(),this.IsTeamAction=!this.IsTeamAction}MonthName(e,n="fr"){const o=a.FI.monthByArg(e);return"fr"==n?o.labelFR:o.labelEN}SaveOrUpdatePerson(e,n){e.preventDefault();const o={id:this.SelectedPerson?.id,name:this.getValue(`person-name-${n}`),email:this.getValue(`person-email-${n}`)};this.sync.SaveOrUpdatePerson(o).subscribe(r=>{200==r.status&&(this.Person$.push(r.data),this.Person$=this.Person$.sort((s,c)=>s.name.localeCompare(c.name)),this.cancelPersonAction(e,n))},r=>{})}SaveOrUpdateTeam(e){e.preventDefault();const n={id:this.TeamToUpdateId,name:this.getValue("team-name"),show:!0};this.sync.SaveOrUpdateTeam(n).subscribe(o=>{if(200==o.status){const r=o.data;if(this.TeamToUpdateId){const s=this.Team$.filter((c,l)=>c.id!=this.TeamToUpdateId);this.Team$=[...s,r].sort((c,l)=>c.name.localeCompare(l.name))}else this.Team$.push(r),this.Team$=this.Team$.sort((s,c)=>s.name.localeCompare(c.name));this.SelectedTeam.show=!0,this.cancelTeamAction(e)}},o=>{})}getNextKey(e){const n=this.Person$.map(o=>o.id).filter(o=>void 0!==o);return n.length>0?Math.max(...n)+1:1}selectPersonToWork(e,n,o){e.preventDefault(),n&&(this.SelectedPerson=n,this.setValue(`person-name-${o}`,n.name??""),this.setValue(`person-email-${o}`,n.email??""))}deletePerson(e,n){var o=this;e.preventDefault(),this.SelectedPerson&&this.SelectedPerson.id&&this.sync.DeletePerson({dataId:this.SelectedPerson.id}).subscribe(function(){var r=(0,u.Z)(function*(s){200==s.status&&(o.Person$=o.Person$.filter(c=>c.id!==o.SelectedPerson.id),o.cancelPersonAction(e,n))});return function(s){return r.apply(this,arguments)}}(),r=>{})}deleteTeam(e){var n=this;e.preventDefault(),this.SelectedTeam&&this.SelectedTeam.id&&this.sync.DeleteTeam({dataId:this.SelectedTeam.id}).subscribe(function(){var o=(0,u.Z)(function*(r){200==r.status&&(n.SelectedTeam.show=!1,n.cancelTeamAction(e))});return function(r){return o.apply(this,arguments)}}(),o=>{})}personInputIsNotEmpty(e){return this.setSearchPerson(e),(0,a.Nf)(this.getValue(`person-name-${e}`))}setSearchPerson(e){const n=this.getValue(`person-name-${e}`),o=this.getValue(`person-email-${e}`);this.SearchedPerson$=(0,a.Nf)(n)||(0,a.Nf)(o)?this.Person$.filter(r=>(0,a.Nf)(n)&&r.name.includes(n)||r.email&&(0,a.Nf)(o)&&r.email.includes(o)):this.Person$}cancelPersonAction(e,n){e.preventDefault(),this.SelectedPerson=void 0,this.setValue(`person-name-${n}`,""),this.setValue(`person-email-${n}`,""),this.setSearchPerson(n)}cancelTeamAction(e){e.preventDefault(),this.setValue("team-name",""),this.IsTeamAction=!1,this.TeamToUpdateId=void 0}getValue(e){const n=document.getElementById(e);return n?n.value:void 0}setValue(e,n){const o=document.getElementById(e);o&&(o.value=n)}presentPerson(e,n,o){if(e.preventDefault(),this.CanUpdateReport(o)){this.PersonIsSelected(n,o,!0)&&(this.AbsentPersonsList[o]=this.AbsentPersonsList[o].filter(s=>s.id!==n.id));var r=this.PresentPersonsList[o];this.PresentPersonsList[o]=this.PersonIsSelected(n,o)?r&&r.filter(s=>s.id!==n.id):r&&r.length>0?[...r,n]:[n]}}absentPerson(e,n,o){if(e.preventDefault(),this.CanUpdateReport(o)){this.PersonIsSelected(n,o)&&(this.PresentPersonsList[o]=this.PresentPersonsList[o].filter(s=>s.id!==n.id));var r=this.AbsentPersonsList[o];this.AbsentPersonsList[o]=this.PersonIsSelected(n,o,!0)?r&&r.filter(s=>s.id!==n.id):r&&r.length>0?[...r,n]:[n]}}PersonIsSelected(e,n,o=!1){const r=(o?this.AbsentPersonsList:this.PresentPersonsList)[n];return!!r&&r.some(s=>s.id===e.id)}ClickedIndex(e){this.SelectedTeam=e,this.IsTeamAction&&this.TeamToUpdateId&&this.SelectedTeam&&this.SelectedTeam.id&&this.SelectedTeam.id!==this.TeamToUpdateId&&(this.setValue("team-name",""),this.IsTeamAction=!1,this.TeamToUpdateId=void 0),this.GetReports()}textAreaToString(e){return e?e.replace(/\n/g,"<br>"):""}GetSeletedPersonName(e,n,o,r){return e?`${e.name}${o!=r-1?"&nbsp;&nbsp;|&nbsp;&nbsp;":""}`:""}GetPersonName(e,n){return e?`${e.name}`:""}onMouseDown(e,n){this.pressTimer=setTimeout(()=>{this.onLongPress(n)},800)}onMouseUp(){clearTimeout(this.pressTimer)}onMouseLeave(){clearTimeout(this.pressTimer)}onLongPress(e){this.IsTeamAction=!0,this.TeamToUpdateId=e.id,setTimeout(()=>{this.setValue("team-name",e.name)},10)}ObjectKeys(e,n="desc"){return e&&(0,a.Nf)(e)?Object.keys(e).map(Number).sort((o,r)=>"asc"===n?o-r:r-o):[]}toggleVisibility(e,n,o,r){var s=`${e}`;n&&(s+=`-${n}`),o&&(s+=`-${o}`),r&&(s+=`-${r}`),this.visibleItems[s]=!this.visibleItems[s]}isYearVisible(e){return this.visibleItems[`${e}`]??!1}isMonthVisible(e,n){return this.visibleItems[`${e}-${n}`]??!1}isDayVisible(e,n,o){return this.visibleItems[`${e}-${n}-${o}`]??!1}isHourVisible(e,n,o,r){return!0}AddOrRemoveClassById(e,n,o=!1){const r=this.el.nativeElement.querySelector(`#${e}`);r&&!o&&this.renderer.addClass(r,n),r&&o&&this.renderer.removeClass(r,n)}GetSelectedPersonList(e,n=!1){const o=(n?this.AbsentPersonsList:this.PresentPersonsList)[e];return o&&o.length>0?o:[]}SelectedReportExist(e){return this.ViewedReport[e]&&this.ViewedReport[e]?.id}CanUpdateReport(e){return!this.ViewedReport[e]||0==this.ViewedReport[e]?.doNotUpdate}csv(e){table2csv("data2csv",",",e)}excel(e){table2excel("data2excel",e)}pdf(e){table2pdf("data2pdf","l",e)}json(e){table2json("data2json",e)}print(e){printTable("data2print",e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(N.u),t.Y36(y.e),t.Y36($._),t.Y36(t.SBq),t.Y36(t.Qsj))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-meeting-report"]],decls:16,vars:8,consts:[[1,"page-content-wrap"],[1,"col-12","col-sm-12"],[1,"card","card-primary","card-tabs-head"],["id","navigation-tab",1,"card-header","p-0","pt-1"],["id","custom-tabs-head","role","tablist",1,"nav"],[4,"ngFor","ngForOf"],["id","team-utils"],["id","team-name","type","text","required","","class","team-name form-control","placeholder","Team Name","autocomplete","off",4,"ngIf"],["id","team-name-btn"],["class","fas fa-save t-1",3,"click",4,"ngIf"],["class","fas fa-edit t-2",3,"click",4,"ngIf"],["class","fas fa-trash t-3",3,"click",4,"ngIf"],["class","fas fa-times t-4",3,"click",4,"ngIf"],["class","fas fa-pen t-5",3,"click",4,"ngIf"],["id","custom-tabs-body",1,"tab-content"],[4,"ngIf"],[1,"team-nav"],["data-toggle","pill","role","tab",3,"id","href","click","mousedown","mouseup","mouseleave",4,"ngIf"],[3,"id","mousedown","mouseup","mouseleave",4,"ngIf"],["data-toggle","pill","role","tab",3,"id","href","click","mousedown","mouseup","mouseleave"],[3,"id","mousedown","mouseup","mouseleave"],[1,"team-nav-link-desactive"],["id","team-name","type","text","required","","placeholder","Team Name","autocomplete","off",1,"team-name","form-control"],[1,"fas","fa-save","t-1",3,"click"],[1,"fas","fa-edit","t-2",3,"click"],[1,"fas","fa-trash","t-3",3,"click"],[1,"fas","fa-times","t-4",3,"click"],[1,"fas","fa-pen","t-5",3,"click"],["role","tabpanel",3,"class","id",4,"ngIf"],[1,"modal","fade",3,"id"],[1,"modal-dialog"],[1,"modal-content","bg-secondary"],[1,"modal-body"],[1,"modal-footer","justify-content-between"],["type","button","data-dismiss","modal",1,"btn","btn-default"],["type","button","data-dismiss","modal",1,"btn","btn-danger","swalDefaultSuccess",3,"click"],["role","tabpanel",3,"id"],[1,"card-body","custom-tabs-body-chid"],[1,"custom-tab-body-left"],[1,"table","table-bordered","meeting_report",3,"id"],["colspan","4",2,"background-color","white","border","1px solid white"],[1,"report-title"],["colspan","3"],[2,"font-size","25px","color","rgb(206, 32, 32)","margin","10px"],["class","download noExl",4,"ngIf"],[1,"td-container","noExl"],["class","fas fa-edit editReport",3,"click",4,"ngIf"],["class","fas fa-trash deleteReport",3,"click",4,"ngIf"],["class","fas fa-times cancelReport",3,"click",4,"ngIf"],["class","editReportSpan",3,"innerHTML",4,"ngIf"],["class","form-control textarea","rows","1",3,"id","disabled","click",4,"ngIf"],["type","date","class","form-control",3,"id","disabled","value","click",4,"ngIf"],["type","time","step","3600","class","form-control",3,"id","disabled","value","input","click",4,"ngIf"],[1,"person-container","editReportSpan",3,"id"],["class","person-box",3,"id",4,"ngFor","ngForOf"],["class","editReportSpan2",3,"innerHTML",4,"ngIf"],["class","form-control textarea","rows","3",3,"id","disabled","click",4,"ngIf"],["class","form-control textarea","rows","4",3,"id","disabled","click",4,"ngIf"],["class","form-control textarea","rows","2",3,"id","disabled","click",4,"ngIf"],["style","width: 230px; float:right; margin:10px 0px 0px 10px; padding:0px;","class","submit","type","submit","class","btn btn-success form-control",3,"id","click",4,"ngIf"],["style","width: 110px; float:right; margin-top:10px; padding:0px;","class","submit","type","submit",3,"id","class","click",4,"ngIf"],[1,"custom-tab-body-right"],["id","person-list"],[1,"person-table","table-bordered",3,"id"],["type","text","required","","placeholder","Person Name","autocomplete","off",1,"form-control","person-name",3,"id","input"],["type","text","placeholder","Person Email","autocomplete","off",1,"form-control","person-email",3,"id","input"],[1,"personsActions",2,"margin","8px 0px 10px 0px"],["style","color: green;","class","fas fa-save i-1",3,"click",4,"ngIf"],["style","color: orange;","class","fas fa-edit i-2",3,"click",4,"ngIf"],["style","color: red;","class","fas fa-trash i-3",3,"click",4,"ngIf"],["style","color: black;","class","fas fa-times i-4",3,"click",4,"ngIf"],["id","report-list"],[1,"download","noExl"],[3,"click"],[1,"fas","fa-edit","editReport",3,"click"],[1,"fas","fa-trash","deleteReport",3,"click"],[1,"fas","fa-times","cancelReport",3,"click"],[1,"editReportSpan",3,"innerHTML"],["rows","1",1,"form-control","textarea",3,"id","disabled","click"],["type","date",1,"form-control",3,"id","disabled","value","click"],["type","time","step","3600",1,"form-control",3,"id","disabled","value","input","click"],[1,"person-box",3,"id"],[2,"font-size","14px",3,"innerHTML"],[1,"editReportSpan2",3,"innerHTML"],["rows","3",1,"form-control","textarea",3,"id","disabled","click"],["rows","4",1,"form-control","textarea",3,"id","disabled","click"],["rows","2",1,"form-control","textarea",3,"id","disabled","click"],["type","submit",1,"btn","btn-success","form-control",2,"width","230px","float","right","margin","10px 0px 0px 10px","padding","0px",3,"id","click"],["type","submit",1,"submit",2,"width","110px","float","right","margin-top","10px","padding","0px",3,"id","click"],[1,"fas","fa-save","i-1",2,"color","green",3,"click"],[1,"fas","fa-edit","i-2",2,"color","orange",3,"click"],[1,"fas","fa-trash","i-3",2,"color","red",3,"click"],[1,"fas","fa-times","i-4",2,"color","black",3,"click"],[2,"padding","0px","margin","0px"],[2,"padding","2px","margin","0px 0px 5px 0px",3,"id"],[1,"selectPersonActions"],["style","color:green;",3,"click",4,"ngIf"],["style","color:maroon;",3,"click",4,"ngIf"],[2,"color","orange",3,"click"],[2,"color","green",3,"click"],[2,"color","maroon",3,"click"],[1,"toogleUl"],["class","toogleLi",4,"ngFor","ngForOf"],[1,"toogleLi"],[1,"toogleSpan",3,"click"],["class","toogleUl",4,"ngIf"],["data-toggle","modal",3,"class","click",4,"ngIf"],[3,"class","click",4,"ngIf"],["data-toggle","modal",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"ul",4),t.YNc(5,G,2,1,"ng-container",5),t.qZA(),t.TgZ(6,"div",6),t.YNc(7,Q,1,0,"input",7),t.TgZ(8,"div",8),t.YNc(9,q,1,0,"i",9),t.YNc(10,H,1,0,"i",10),t.YNc(11,Y,1,0,"i",11),t.YNc(12,L,1,0,"i",12),t.YNc(13,F,1,0,"i",13),t.qZA()()(),t.TgZ(14,"div",14),t.YNc(15,Gt,2,1,"ng-container",5),t.qZA()()()()),2&e&&(t.xp6(5),t.Q6J("ngForOf",n.Team$),t.xp6(2),t.Q6J("ngIf",n.IsTeamAction),t.xp6(2),t.Q6J("ngIf",n.IsTeamAction&&!n.TeamToUpdateId),t.xp6(1),t.Q6J("ngIf",n.IsTeamAction&&n.TeamToUpdateId),t.xp6(1),t.Q6J("ngIf",n.IsTeamAction&&n.TeamToUpdateId),t.xp6(1),t.Q6J("ngIf",n.IsTeamAction),t.xp6(1),t.Q6J("ngIf",!n.IsTeamAction),t.xp6(2),t.Q6J("ngForOf",n.Team$))},dependencies:[h.sg,h.O5,h.gd,U],styles:['#navigation-tab[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;width:100%;background-color:#343a40;border-bottom:1px solid white;padding:2px 0 0!important;color:#fff!important}.team-nav[_ngcontent-%COMP%]{min-width:150px;height:35px;margin-right:5px;text-align:center}.team-nav[_ngcontent-%COMP%]{border-top:2px solid white;border-left:2px solid white;border-right:2px solid white;border-radius:15px 3px 0 0}.team-nav-link-active[_ngcontent-%COMP%], .team-nav-link-desactive[_ngcontent-%COMP%]{width:100%;height:100%;font-size:20px;cursor:pointer;padding-top:6px;color:#fff!important;border-radius:12px 1px 0 0}.team-nav-link-active[_ngcontent-%COMP%]:hover{background-color:brown!important}.team-nav-link-desactive[_ngcontent-%COMP%]:hover{background-color:#535353!important}.active.team-nav-link-active[_ngcontent-%COMP%]{font-weight:700;font-size:20px;color:brown!important;border-radius:12px 1px 0 0;background-color:#fff!important}.meeting_report[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .meeting_report[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{width:200px!important;border:1px solid #ddd;padding:8px;text-align:left}.meeting_report[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd), .meeting_report[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#ddd}.barrer[_ngcontent-%COMP%]{text-decoration:line-through}.textarea[_ngcontent-%COMP%]{width:100%}.person-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.custom-border[_ngcontent-%COMP%]{border:2px red solid!important}.person-grp[_ngcontent-%COMP%]{padding:0 5px;border-radius:5px;height:21px;margin-bottom:10px;margin-right:20px}.person-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.person-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .person-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0;margin:0;border:1px solid #ffffff!important}.present-person-active-grp[_ngcontent-%COMP%], .absent-person-active-grp[_ngcontent-%COMP%]{color:#000;width:100%;padding:5px 2px}.present-person-active-grp[_ngcontent-%COMP%]{background-color:#cffaec}.absent-person-active-grp[_ngcontent-%COMP%]{background-color:#fed5d5}.person-deactive-grp[_ngcontent-%COMP%]{background-color:#f1f1f1;color:#262525;width:100%;padding:5px 2px}.person-deactive-grp[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-decoration:line-through}.person-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .person-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1px 2px!important}.personsActions[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:25%;box-sizing:border-box;text-align:center;display:inline-block;vertical-align:top;cursor:pointer}.selectPersonActions[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:30%;box-sizing:border-box;text-align:center;display:inline-block;vertical-align:top;font-size:13px;cursor:pointer;font-weight:400!important}#team-utils[_ngcontent-%COMP%]{float:right;display:flex;align-items:center}#team-name[_ngcontent-%COMP%]{width:200px}#team-name-btn[_ngcontent-%COMP%]{white-space:nowrap}#team-name-btn[_ngcontent-%COMP%]   .t-1[_ngcontent-%COMP%]{font-size:20px;margin:0 5px;color:green}#team-name-btn[_ngcontent-%COMP%]   .t-2[_ngcontent-%COMP%]{font-size:20px;margin:0 5px;color:orange}#team-name-btn[_ngcontent-%COMP%]   .t-3[_ngcontent-%COMP%]{font-size:20px;margin:0 5px;color:red}#team-name-btn[_ngcontent-%COMP%]   .t-4[_ngcontent-%COMP%]{font-size:20px;margin:0 5px;color:#fff}#team-name-btn[_ngcontent-%COMP%]   .t-5[_ngcontent-%COMP%]{font-size:20px;margin:0 10px 0 5px;color:#ff4500}.person-name[_ngcontent-%COMP%]{width:100%;margin:0 0 2px;height:30px}.person-email[_ngcontent-%COMP%]{height:30px;margin:0}.doNotUpdate[_ngcontent-%COMP%]{color:#888;cursor:not-allowed;opacity:.7}.doNotUpdate[_ngcontent-%COMP%]:hover{text-decoration:none}.report-title[_ngcontent-%COMP%]{font-size:20px;background-color:#d0f4b6;color:#050505;border:2px solid rgb(153,233,96);border-radius:15px;padding:15px;width:300px;margin:auto auto 10px;align-items:center;text-align:center;font-size:x-large;font-weight:700}.deleteReport[_ngcontent-%COMP%]{color:red;font-size:20px;cursor:pointer}.cancelReport[_ngcontent-%COMP%]{color:#000;font-size:20px;cursor:pointer}.editReport[_ngcontent-%COMP%]{color:orange;font-size:20px;cursor:pointer}.editReportSpan[_ngcontent-%COMP%]{padding:10px;background-color:#fff;border:1px solid white;border-radius:3px;width:100%;min-height:37px}.editReportSpan2[_ngcontent-%COMP%]{padding:10px;background-color:#fff;border:1px solid white;border-radius:3px;width:100%;min-height:60px}.editReportSpan3[_ngcontent-%COMP%]{padding:10px;background-color:#fff;border:1px solid white;border-radius:3px;width:100%;min-height:85px}.td-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:95%}.download[_ngcontent-%COMP%]{list-style-type:none!important;margin:0;padding:0;overflow:hidden;float:right}.download[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{float:left;background-color:#000}.download[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;color:#fff;text-align:center;padding:3px 6px;text-decoration:none;font-size:14px;cursor:pointer}.download[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{background-color:#444}#custom-tabs-body[_ngcontent-%COMP%]{margin:0 auto;padding:0 auto}.custom-tabs-body-chid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.custom-tab-body-left[_ngcontent-%COMP%]{margin-right:30px}.custom-tab-body-right[_ngcontent-%COMP%]{margin-top:40px;display:flex;flex-wrap:wrap}#person-list[_ngcontent-%COMP%]{margin-right:30px}#report-list[_ngcontent-%COMP%]{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;min-width:300px}.toogleUl[_ngcontent-%COMP%]{list-style-type:none;padding-left:20px}.toogleLi[_ngcontent-%COMP%]{position:relative;margin-bottom:8px!important;border-left:1px dashed #bbb;&:after{content:"";position:absolute;bottom:0;left:0;border-bottom:1px dashed #bbb;width:22%;height:1px}}.toogleSpan[_ngcontent-%COMP%]{cursor:pointer;padding:2px 15px;border:1px solid #0099ff;border-radius:5px;display:inline-block;color:#000;transition:background-color .3s ease,color .3s ease;height:25px}.toogleSpan[_ngcontent-%COMP%]:hover{color:#09f;font-weight:700}.toogleUl[_ngcontent-%COMP%]   .toogleUl[_ngcontent-%COMP%]{margin-left:25px}.toogleUl[_ngcontent-%COMP%]   .toogleUl[_ngcontent-%COMP%]   .hourSpan[_ngcontent-%COMP%]{border-color:#087d0c;color:#087d0c;font-weight:900}.toogleUl[_ngcontent-%COMP%]   .toogleUl[_ngcontent-%COMP%]   .hourSpanSelected[_ngcontent-%COMP%]{border-color:#ff6a00!important;color:#ff6a00!important;font-weight:900}.custom-tab-body-right[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{zoom:1.5;margin-top:2.5px}']}),i})(),canActivate:[I.a,O.p],data:{href:"reports",icon:"fa fa-user",label:"reports",title:"RAPPORT DE REUNION"}}];let qt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[R.Bz.forChild(Qt),R.Bz]}),i})(),Ht=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[h.ez,b.UX,b.u5,qt]}),i})()}}]);