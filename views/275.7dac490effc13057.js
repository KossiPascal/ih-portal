"use strict";(self.webpackChunkih_portal=self.webpackChunkih_portal||[]).push([[275],{7275:(Se,Z,c)=>{c.r(Z),c.d(Z,{SyncsModule:()=>xe});var m=c(8692),h=c(4032),b=c(8968),i=c(92),u=c(8629),e=c(4537),T=c(1815),y=c(5732),k=c(7556);function A(a,s){if(1&a&&(e.TgZ(0,"div",49),e._UZ(1,"i",50),e.TgZ(2,"div",51),e._uU(3),e.qZA()()),2&a){const t=e.oxw(2);e.xp6(3),e.Oqu(t.LoadingMsg)}}function U(a,s){1&a&&(e.TgZ(0,"div",12)(1,"div",20)(2,"div",21)(3,"label"),e._uU(4,"Tableau Username"),e.qZA(),e._UZ(5,"input",52),e.qZA()(),e.TgZ(6,"div",20)(7,"div",21)(8,"label"),e._uU(9,"Tableau Password"),e.qZA(),e._UZ(10,"input",53),e.qZA()()())}function w(a,s){1&a&&(e.TgZ(0,"div",12)(1,"div",20)(2,"div",21)(3,"label"),e._uU(4,"Tableau Token User"),e.qZA(),e._UZ(5,"input",54),e.qZA()(),e.TgZ(6,"div",20)(7,"div",21)(8,"label"),e._uU(9,"Tableau Token"),e.qZA(),e._UZ(10,"input",55),e.qZA()()())}function x(a,s){1&a&&(e.TgZ(0,"div",20)(1,"div",21)(2,"label"),e._uU(3,"DHIS2 HOST"),e.qZA(),e._UZ(4,"input",56),e.qZA()())}function S(a,s){1&a&&(e.TgZ(0,"div",12)(1,"div",20)(2,"div",21)(3,"label"),e._uU(4,"DHIS2 USERNAME"),e.qZA(),e._UZ(5,"input",57),e.qZA()(),e.TgZ(6,"div",20)(7,"div",21)(8,"label"),e._uU(9,"DHIS2 PASSWORD"),e.qZA(),e._UZ(10,"input",58),e.qZA()()())}function D(a,s){if(1&a&&(e.TgZ(0,"div"),e._uU(1),e._UZ(2,"br"),e.qZA()),2&a){const t=s.$implicit;e.xp6(1),e.AsE(" ",t.key,":",t.value," ")}}function q(a,s){if(1&a&&(e.TgZ(0,"div"),e._uU(1),e._UZ(2,"br"),e.qZA()),2&a){const t=s.$implicit;e.xp6(1),e.AsE(" ",t.key,":",t.value," ")}}function C(a,s){if(1&a&&(e.TgZ(0,"div"),e._uU(1),e._UZ(2,"br"),e.qZA()),2&a){const t=s.$implicit;e.xp6(1),e.hij(" Error Found: ",t,"")}}function I(a,s){1&a&&(e.TgZ(0,"div"),e._uU(1," Pas d'erreur rencontr\xe9 lors de la r\xe9cup\xe9ration des donn\xe9es sur le serveur! "),e.qZA())}function N(a,s){if(1&a&&(e.TgZ(0,"th"),e._uU(1),e.qZA()),2&a){const t=s.$implicit,n=e.oxw(2);e.xp6(1),e.hij(" ",n.capitaliseData(t,"_")," ")}}function F(a,s){if(1&a&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&a){const t=s.$implicit;e.xp6(1),e.hij(" ",t," ")}}function O(a,s){if(1&a&&(e.TgZ(0,"tr"),e.YNc(1,F,2,1,"td",35),e.qZA()),2&a){const t=s.$implicit,n=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",n.getItemAsArray(t))}}function M(a,s){if(1&a&&(e.TgZ(0,"div",49),e._UZ(1,"i",50),e.TgZ(2,"div",51),e._uU(3),e.qZA()()),2&a){const t=e.oxw(2);e.xp6(3),e.Oqu(t.LoadingMsg)}}function E(a,s){if(1&a&&(e.TgZ(0,"option",59),e._uU(1),e.qZA()),2&a){const t=s.$implicit;e.s9C("value",t.key),e.xp6(1),e.hij(" ",t.key," ")}}function J(a,s){1&a&&(e.TgZ(0,"div",20)(1,"div",21)(2,"label"),e._uU(3,"Medic Username"),e.qZA(),e._UZ(4,"input",61),e.qZA()())}function Q(a,s){if(1&a&&(e.TgZ(0,"div",12),e.YNc(1,J,5,0,"div",30),e.TgZ(2,"div",20)(3,"div",21)(4,"label"),e._uU(5,"Medic Password"),e.qZA(),e._UZ(6,"input",60),e.qZA()()()),2&a){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!t.medicToDhis2Form.value.useToken)}}function Y(a,s){1&a&&(e.TgZ(0,"div",20)(1,"div",21)(2,"label"),e._uU(3,"DHIS2 HOST"),e.qZA(),e._UZ(4,"input",56),e.qZA()())}function G(a,s){1&a&&(e.TgZ(0,"div",12)(1,"div",20)(2,"div",21)(3,"label"),e._uU(4,"DHIS2 USERNAME"),e.qZA(),e._UZ(5,"input",57),e.qZA()(),e.TgZ(6,"div",20)(7,"div",21)(8,"label"),e._uU(9,"DHIS2 PASSWORD"),e.qZA(),e._UZ(10,"input",58),e.qZA()()())}function L(a,s){if(1&a&&(e.TgZ(0,"div"),e._uU(1),e._UZ(2,"br"),e.qZA()),2&a){const t=s.$implicit;e.xp6(1),e.AsE(" ",t.key,":",t.value," ")}}function $(a,s){if(1&a&&(e.TgZ(0,"div"),e._uU(1),e._UZ(2,"br"),e.qZA()),2&a){const t=s.$implicit;e.xp6(1),e.AsE(" ",t.key,":",t.value," ")}}function P(a,s){if(1&a&&(e.TgZ(0,"div"),e._uU(1),e._UZ(2,"br"),e.qZA()),2&a){const t=s.$implicit;e.xp6(1),e.hij(" Error Found: ",t,"")}}function H(a,s){1&a&&(e.TgZ(0,"div"),e._uU(1," Pas d'erreur rencontr\xe9 lors de la r\xe9cup\xe9ration des donn\xe9es sur le serveur! "),e.qZA())}function W(a,s){if(1&a&&(e.TgZ(0,"th"),e._uU(1),e.qZA()),2&a){const t=s.$implicit,n=e.oxw(3);e.xp6(1),e.hij(" ",n.capitaliseData(t,"_")," ")}}function j(a,s){if(1&a&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&a){const t=s.$implicit;e.xp6(1),e.hij(" ",t," ")}}function K(a,s){if(1&a&&(e.TgZ(0,"tr"),e.YNc(1,j,2,1,"td",35),e.qZA()),2&a){const t=s.$implicit,n=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",n.getItemAsArray(t))}}function V(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",38)(1,"div",17)(2,"h3",18),e._uU(3,"DataTable with default features"),e.qZA(),e.TgZ(4,"button",39),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.initTable("medic_datatable"))}),e._uU(5,"Generate Table"),e.qZA()(),e.TgZ(6,"div",9)(7,"table",62)(8,"thead")(9,"tr"),e.YNc(10,W,2,1,"th",35),e.qZA()(),e.TgZ(11,"tbody"),e.YNc(12,K,2,1,"tr",35),e.ALo(13,"keyvalue"),e.qZA()()()()}if(2&a){const t=e.oxw(2);e.xp6(10),e.Q6J("ngForOf",null==t.tab2_messages||null==t.tab2_messages.dataToSend||null==t.tab2_messages.dataToSend.Data?null:t.tab2_messages.dataToSend.Data.head),e.xp6(2),e.Q6J("ngForOf",e.lcZ(13,2,null==t.tab2_messages||null==t.tab2_messages.dataToSend||null==t.tab2_messages.dataToSend.Data?null:t.tab2_messages.dataToSend.Data.body))}}function R(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",3)(1,"div",4)(2,"ul",5)(3,"li",6)(4,"a",7),e._uU(5,"ThinkMd To DHIS2 "),e.qZA()(),e.TgZ(6,"li",6)(7,"a",8),e._uU(8,"Medic To DHIS2 "),e.qZA()()()(),e.TgZ(9,"div",9)(10,"div",10)(11,"div",11)(12,"div",12)(13,"div",13)(14,"div",14),e.YNc(15,A,4,1,"div",15),e.TgZ(16,"div",16)(17,"div",17)(18,"h3",18),e._uU(19,"Get ThinkMd Aggragate Data From Tableau"),e.qZA()(),e.TgZ(20,"form",19),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.runThinkmdToDhis2())}),e.TgZ(21,"div",9)(22,"div",12)(23,"div",20)(24,"div",21)(25,"label"),e._uU(26,"Date de fin"),e.qZA(),e.TgZ(27,"input",22),e.NdJ("change",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.cleanError())}),e.qZA()()(),e.TgZ(28,"div",20)(29,"div",21)(30,"label"),e._uU(31,"Tableau Host"),e.qZA(),e._UZ(32,"input",23),e.qZA()()(),e.TgZ(33,"div",12)(34,"div",20)(35,"div",21)(36,"label"),e._uU(37,"Tableau Site"),e.qZA(),e._UZ(38,"input",24),e.qZA()(),e.TgZ(39,"div",20)(40,"div",21)(41,"label"),e._uU(42,"Tableau Token"),e.qZA(),e.TgZ(43,"div",25),e._UZ(44,"input",26),e.TgZ(45,"label",27),e._uU(46,"Use Token"),e.qZA()()()()(),e.YNc(47,U,11,0,"div",28),e.YNc(48,w,11,0,"div",28),e.TgZ(49,"div",12)(50,"div",20)(51,"div",21)(52,"label"),e._uU(53,"Use Dhis2"),e.qZA(),e.TgZ(54,"div",25),e._UZ(55,"input",29),e.TgZ(56,"label",27),e._uU(57,"Insert Into Dhis2"),e.qZA()()()(),e.YNc(58,x,5,0,"div",30),e.qZA(),e.YNc(59,S,11,0,"div",28),e.qZA(),e.TgZ(60,"div",31)(61,"button",32),e._uU(62," Save Changes "),e._UZ(63,"span",33),e.qZA()()()()()(),e.TgZ(64,"div",34),e.YNc(65,D,3,2,"div",35),e.ALo(66,"keyvalue"),e.YNc(67,q,3,2,"div",35),e.ALo(68,"keyvalue"),e._uU(69),e._UZ(70,"br"),e.YNc(71,C,3,1,"div",35),e.YNc(72,I,2,0,"div",36),e.qZA()(),e.TgZ(73,"div",12)(74,"div",37)(75,"div",38)(76,"div",17)(77,"h3",18),e._uU(78,"DataTable with default features"),e.qZA(),e.TgZ(79,"button",39),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.initTable("thinkmd_datatable"))}),e._uU(80,"Generate Table"),e.qZA()(),e.TgZ(81,"div",9)(82,"table",40)(83,"thead")(84,"tr"),e.YNc(85,N,2,1,"th",35),e.qZA()(),e.TgZ(86,"tbody"),e.YNc(87,O,2,1,"tr",35),e.ALo(88,"keyvalue"),e.qZA()()()()()()(),e.TgZ(89,"div",41)(90,"div",12)(91,"div",13)(92,"div",14),e.YNc(93,M,4,1,"div",15),e.TgZ(94,"div",42)(95,"div",17)(96,"h3",18),e._uU(97,"Get Aggregate Data From Medic mebile"),e.qZA()(),e.TgZ(98,"form",19),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.runMedicToDhis2())}),e.TgZ(99,"div",9)(100,"div",12)(101,"div",20)(102,"div",21)(103,"label"),e._uU(104,"Date de d\xe9but"),e.qZA(),e.TgZ(105,"input",43),e.NdJ("change",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.cleanError())}),e.qZA()()(),e.TgZ(106,"div",20)(107,"div",21)(108,"label"),e._uU(109,"Date de fin"),e.qZA(),e.TgZ(110,"input",22),e.NdJ("change",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.cleanError())}),e.qZA()()()(),e.TgZ(111,"div",12)(112,"div",20)(113,"div",21)(114,"label"),e._uU(115,"Host Name"),e.qZA(),e.TgZ(116,"select",44),e.YNc(117,E,2,2,"option",45),e.ALo(118,"keyvalue"),e.qZA()()(),e.TgZ(119,"div",20)(120,"div",21)(121,"label"),e._uU(122,"Medic Database"),e.qZA(),e._UZ(123,"input",46),e.qZA()()(),e.YNc(124,Q,7,1,"div",28),e.TgZ(125,"div",12)(126,"div",20)(127,"div",21)(128,"label"),e._uU(129,"Use Dhis2"),e.qZA(),e.TgZ(130,"div",25),e._UZ(131,"input",29),e.TgZ(132,"label",27),e._uU(133,"Insert Into Dhis2"),e.qZA()()()(),e.YNc(134,Y,5,0,"div",30),e.qZA(),e.YNc(135,G,11,0,"div",28),e.qZA(),e.TgZ(136,"div",31)(137,"button",47),e._uU(138," Save Changes "),e._UZ(139,"span",33),e.qZA()()()()()(),e.TgZ(140,"div",34),e.YNc(141,L,3,2,"div",35),e.ALo(142,"keyvalue"),e.YNc(143,$,3,2,"div",35),e.ALo(144,"keyvalue"),e._uU(145),e._UZ(146,"br"),e.YNc(147,P,3,1,"div",35),e.YNc(148,H,2,0,"div",36),e.qZA()(),e.TgZ(149,"div",12)(150,"div",37),e.YNc(151,V,14,4,"div",48),e.qZA()()()()()()}if(2&a){const t=e.oxw();e.xp6(15),e.Q6J("ngIf",t.loading1),e.xp6(5),e.Q6J("formGroup",t.thinkmdToDhis2Form),e.xp6(7),e.Gre("form-control ",t.endDateError(),""),e.xp6(20),e.Q6J("ngIf",!t.thinkmdToDhis2Form.value.useToken),e.xp6(1),e.Q6J("ngIf",t.thinkmdToDhis2Form.value.useToken),e.xp6(10),e.Q6J("ngIf",t.thinkmdToDhis2Form.value.InsertIntoDhis2),e.xp6(1),e.Q6J("ngIf",t.thinkmdToDhis2Form.value.InsertIntoDhis2),e.xp6(2),e.Q6J("disabled",!t.thinkmdToDhis2Form.valid),e.xp6(4),e.Q6J("ngForOf",e.lcZ(66,36,null==t.tab1_messages||null==t.tab1_messages.dataToSend?null:t.tab1_messages.dataToSend.Dhis2Import)),e.xp6(2),e.Q6J("ngForOf",e.lcZ(68,38,null==t.tab1_messages||null==t.tab1_messages.dataToSend?null:t.tab1_messages.dataToSend.ErrorMsg)),e.xp6(2),e.hij(" ",null==t.tab1_messages||null==t.tab1_messages.errorToSend?null:t.tab1_messages.errorToSend.ConsoleError,""),e.xp6(2),e.Q6J("ngForOf",null==t.tab1_messages||null==t.tab1_messages.errorToSend?null:t.tab1_messages.errorToSend.ErrorData),e.xp6(1),e.Q6J("ngIf","true"==(null==t.tab1_messages||null==t.tab1_messages.dataToSend?null:t.tab1_messages.dataToSend.success)),e.xp6(13),e.Q6J("ngForOf",null==t.tab1_messages||null==t.tab1_messages.dataToSend||null==t.tab1_messages.dataToSend.Data?null:t.tab1_messages.dataToSend.Data.head),e.xp6(2),e.Q6J("ngForOf",e.lcZ(88,40,null==t.tab1_messages||null==t.tab1_messages.dataToSend||null==t.tab1_messages.dataToSend.Data?null:t.tab1_messages.dataToSend.Data.body)),e.xp6(6),e.Q6J("ngIf",t.loading2),e.xp6(5),e.Q6J("formGroup",t.medicToDhis2Form),e.xp6(7),e.Gre("form-control ",t.startDateError(),""),e.xp6(5),e.Gre("form-control ",t.endDateError(),""),e.xp6(7),e.Q6J("ngForOf",e.lcZ(118,42,t.medicUrl$)),e.xp6(7),e.Q6J("ngIf",!t.medicToDhis2Form.value.useToken),e.xp6(10),e.Q6J("ngIf",t.medicToDhis2Form.value.InsertIntoDhis2),e.xp6(1),e.Q6J("ngIf",t.medicToDhis2Form.value.InsertIntoDhis2),e.xp6(2),e.Q6J("disabled",!t.medicToDhis2Form.valid),e.xp6(4),e.Q6J("ngForOf",e.lcZ(142,44,null==t.tab2_messages||null==t.tab2_messages.dataToSend?null:t.tab2_messages.dataToSend.Dhis2Import)),e.xp6(2),e.Q6J("ngForOf",e.lcZ(144,46,null==t.tab2_messages||null==t.tab2_messages.dataToSend?null:t.tab2_messages.dataToSend.ErrorMsg)),e.xp6(2),e.hij(" ",null==t.tab2_messages||null==t.tab2_messages.errorToSend?null:t.tab2_messages.errorToSend.ConsoleError,""),e.xp6(2),e.Q6J("ngForOf",null==t.tab2_messages||null==t.tab2_messages.errorToSend?null:t.tab2_messages.errorToSend.ErrorData),e.xp6(1),e.Q6J("ngIf","true"==(null==t.tab2_messages||null==t.tab2_messages.dataToSend?null:t.tab2_messages.dataToSend.success)),e.xp6(3),e.Q6J("ngIf",null!=(null==t.tab2_messages||null==t.tab2_messages.dataToSend?null:t.tab2_messages.dataToSend.Data)&&null!=(null==t.tab2_messages||null==t.tab2_messages.dataToSend?null:t.tab2_messages.dataToSend.Data))}}function z(a,s){if(1&a&&(e.TgZ(0,"div",49),e._UZ(1,"i",50),e.TgZ(2,"div",51),e._uU(3),e.qZA()()),2&a){const t=e.oxw(2);e.xp6(3),e.Oqu(t.LoadingMsg)}}function B(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",71),e.NdJ("click",function(){const o=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.removeWeekDate(o))}),e.TgZ(1,"div",21)(2,"strong"),e._uU(3),e.qZA()()()}if(2&a){const t=s.$implicit;e.xp6(3),e.hij(" ",t," ")}}function X(a,s){if(1&a&&(e.TgZ(0,"div",72)(1,"strong"),e._uU(2),e.qZA()()),2&a){const t=e.oxw(2);e.xp6(2),e.Oqu(t.weekly_date_error_Msg)}}function ee(a,s){1&a&&(e.TgZ(0,"div",12)(1,"div",20)(2,"div",21)(3,"label"),e._uU(4,"Tableau Username"),e.qZA(),e._UZ(5,"input",52),e.qZA()(),e.TgZ(6,"div",20)(7,"div",21)(8,"label"),e._uU(9,"Tableau Password"),e.qZA(),e._UZ(10,"input",53),e.qZA()()())}function te(a,s){1&a&&(e.TgZ(0,"div",12)(1,"div",20)(2,"div",21)(3,"label"),e._uU(4,"Tableau Token User"),e.qZA(),e._UZ(5,"input",54),e.qZA()(),e.TgZ(6,"div",20)(7,"div",21)(8,"label"),e._uU(9,"Tableau Token"),e.qZA(),e._UZ(10,"input",55),e.qZA()()())}function ae(a,s){if(1&a&&(e.TgZ(0,"option",59),e._uU(1),e.qZA()),2&a){const t=s.$implicit;e.s9C("value",t.key),e.xp6(1),e.hij(" ",t.key," ")}}function ne(a,s){if(1&a&&(e.TgZ(0,"div"),e._uU(1),e._UZ(2,"br"),e.qZA()),2&a){const t=s.$implicit;e.xp6(1),e.AsE(" ",t.key,":",t.value," ")}}function ie(a,s){if(1&a&&(e.TgZ(0,"div"),e._uU(1),e._UZ(2,"br"),e.qZA()),2&a){const t=s.$implicit;e.xp6(1),e.AsE(" ",t.key,":",t.value," ")}}function se(a,s){if(1&a&&(e.TgZ(0,"div"),e._uU(1),e._UZ(2,"br"),e.qZA()),2&a){const t=s.$implicit;e.xp6(1),e.hij(" Error Found: ",t,"")}}function re(a,s){1&a&&(e.TgZ(0,"div"),e._uU(1," Pas d'erreur rencontr\xe9 lors de la r\xe9cup\xe9ration des donn\xe9es sur le serveur! "),e.qZA())}function oe(a,s){if(1&a&&(e.TgZ(0,"th"),e._uU(1),e.qZA()),2&a){const t=s.$implicit,n=e.oxw(2);e.xp6(1),e.hij(" ",n.capitaliseData(t,"_")," ")}}function de(a,s){if(1&a&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&a){const t=s.$implicit,n=e.oxw(3);e.Tol(n.genarateColor(t)),e.xp6(1),e.hij(" ",t," ")}}function le(a,s){if(1&a&&(e.TgZ(0,"tr"),e.YNc(1,de,2,4,"td",73),e.qZA()),2&a){const t=s.$implicit,n=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",n.getItemAsArray(t))}}function _e(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",3)(1,"div",4)(2,"ul",5)(3,"li",6)(4,"a",63),e._uU(5,"Chws Week Data "),e.qZA()()()(),e.TgZ(6,"div",9)(7,"div",10)(8,"div",64)(9,"div",12)(10,"div",13)(11,"div",14),e.YNc(12,z,4,1,"div",15),e.TgZ(13,"div",65)(14,"div",17)(15,"h3",18),e._uU(16,"Get Chws Weekly Data from ThinkMd and Medic"),e.qZA()(),e.TgZ(17,"form",19),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.runMedicThinkMdWeekly())}),e.TgZ(18,"div",9)(19,"div",12),e.YNc(20,B,4,1,"div",66),e.qZA(),e.YNc(21,X,3,1,"div",67),e.TgZ(22,"div",12)(23,"div",20)(24,"div",21)(25,"label"),e._uU(26,"Date de d\xe9but"),e.qZA(),e.TgZ(27,"input",68),e.NdJ("change",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.addToDateList())}),e.qZA()()()(),e.TgZ(28,"div",12)(29,"div",20)(30,"div",21)(31,"label"),e._uU(32,"Tableau Host"),e.qZA(),e._UZ(33,"input",23),e.qZA()(),e.TgZ(34,"div",20)(35,"div",21)(36,"label"),e._uU(37,"Tableau Site"),e.qZA(),e._UZ(38,"input",24),e.qZA()()(),e.TgZ(39,"div",12)(40,"div",20)(41,"div",21)(42,"div",25),e._UZ(43,"input",26),e.TgZ(44,"label",27),e._uU(45,"Use Tableau Token"),e.qZA()()()()(),e.YNc(46,ee,11,0,"div",28),e.YNc(47,te,11,0,"div",28),e.TgZ(48,"div",12)(49,"div",20)(50,"div",21)(51,"label"),e._uU(52,"Medic Hostname"),e.qZA(),e.TgZ(53,"select",44),e.YNc(54,ae,2,2,"option",45),e.ALo(55,"keyvalue"),e.qZA()()(),e.TgZ(56,"div",20)(57,"div",21)(58,"label"),e._uU(59,"Medic Username"),e.qZA(),e._UZ(60,"input",61),e.qZA()()(),e.TgZ(61,"div",12)(62,"div",20)(63,"div",21)(64,"label"),e._uU(65,"Medic Password"),e.qZA(),e._UZ(66,"input",60),e.qZA()(),e.TgZ(67,"div",20)(68,"div",21)(69,"label"),e._uU(70,"Medic Database"),e.qZA(),e._UZ(71,"input",46),e.qZA()()(),e.TgZ(72,"div",12)(73,"div",20)(74,"div",21)(75,"label"),e._uU(76,"DHIS2 HOST"),e.qZA(),e._UZ(77,"input",56),e.qZA()()(),e.TgZ(78,"div",12)(79,"div",20)(80,"div",21)(81,"label"),e._uU(82,"DHIS2 USERNAME"),e.qZA(),e._UZ(83,"input",57),e.qZA()(),e.TgZ(84,"div",20)(85,"div",21)(86,"label"),e._uU(87,"DHIS2 PASSWORD"),e.qZA(),e._UZ(88,"input",58),e.qZA()()()(),e.TgZ(89,"div",31)(90,"button",69),e._uU(91," Save Changes "),e._UZ(92,"span",33),e.qZA()()()()()(),e.TgZ(93,"div",34),e.YNc(94,ne,3,2,"div",35),e.ALo(95,"keyvalue"),e.YNc(96,ie,3,2,"div",35),e.ALo(97,"keyvalue"),e._uU(98),e._UZ(99,"br"),e.YNc(100,se,3,1,"div",35),e.YNc(101,re,2,0,"div",36),e.qZA(),e.TgZ(102,"div",37)(103,"div",38)(104,"div",17)(105,"h3",18),e._uU(106,"DataTable with default features"),e.qZA(),e.TgZ(107,"button",39),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.initTable("medic_thinkMd_datatable"))}),e._uU(108,"Generate Table"),e.qZA()(),e.TgZ(109,"div",9)(110,"table",70)(111,"thead")(112,"tr"),e.YNc(113,oe,2,1,"th",35),e.qZA()(),e.TgZ(114,"tbody"),e.YNc(115,le,2,1,"tr",35),e.ALo(116,"keyvalue"),e.qZA()()()()()()()()()()}if(2&a){const t=e.oxw();e.xp6(12),e.Q6J("ngIf",t.loading3),e.xp6(5),e.Q6J("formGroup",t.medicThinkMdWeeklyForm),e.xp6(3),e.Q6J("ngForOf",t.weekly_Choosen_Dates),e.xp6(1),e.Q6J("ngIf",t.is_weekly_date_error),e.xp6(25),e.Q6J("ngIf",!t.medicThinkMdWeeklyForm.value.useToken),e.xp6(1),e.Q6J("ngIf",t.medicThinkMdWeeklyForm.value.useToken),e.xp6(7),e.Q6J("ngForOf",e.lcZ(55,15,t.medicUrl$)),e.xp6(36),e.Q6J("disabled",!t.medicThinkMdWeeklyForm.valid),e.xp6(4),e.Q6J("ngForOf",e.lcZ(95,17,null==t.tab3_messages||null==t.tab3_messages.dataToSend?null:t.tab3_messages.dataToSend.Dhis2Import)),e.xp6(2),e.Q6J("ngForOf",e.lcZ(97,19,null==t.tab3_messages||null==t.tab3_messages.dataToSend?null:t.tab3_messages.dataToSend.ErrorMsg)),e.xp6(2),e.hij(" ",null==t.tab3_messages||null==t.tab3_messages.errorToSend?null:t.tab3_messages.errorToSend.ConsoleError,""),e.xp6(2),e.Q6J("ngForOf",null==t.tab3_messages||null==t.tab3_messages.errorToSend?null:t.tab3_messages.errorToSend.ErrorData),e.xp6(1),e.Q6J("ngIf","true"==(null==t.tab3_messages||null==t.tab3_messages.dataToSend?null:t.tab3_messages.dataToSend.success)),e.xp6(12),e.Q6J("ngForOf",null==t.tab3_messages||null==t.tab3_messages.dataToSend||null==t.tab3_messages.dataToSend.Data?null:t.tab3_messages.dataToSend.Data.head),e.xp6(2),e.Q6J("ngForOf",e.lcZ(116,21,null==t.tab3_messages||null==t.tab3_messages.dataToSend||null==t.tab3_messages.dataToSend.Data?null:t.tab3_messages.dataToSend.Data.body))}}function ue(a,s){if(1&a&&(e.TgZ(0,"div",40),e._UZ(1,"i",41),e.TgZ(2,"div",42),e._uU(3),e.qZA()()),2&a){const t=e.oxw();e.xp6(3),e.Oqu(t.LoadingMsg)}}function me(a,s){if(1&a&&(e.TgZ(0,"option",43),e._uU(1),e.qZA()),2&a){const t=s.$implicit;e.s9C("value",t.key),e.xp6(1),e.hij(" ",t.key," ")}}function ge(a,s){if(1&a&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",46),e._uU(4),e.qZA(),e.TgZ(5,"td",47),e._uU(6),e.qZA()()),2&a){const t=s.$implicit;e.xp6(2),e.Oqu(t.key),e.xp6(2),e.Oqu(t.value.success),e.xp6(2),e.Oqu(t.value.error)}}function he(a,s){if(1&a&&(e.TgZ(0,"div",9)(1,"table",44)(2,"thead")(3,"tr")(4,"th"),e._uU(5,"El\xe9ment "),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Success"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Errors"),e.qZA()()(),e.TgZ(10,"tbody"),e.YNc(11,ge,7,3,"tr",45),e.ALo(12,"keyvalue"),e.qZA()()()),2&a){const t=e.oxw();e.xp6(11),e.Q6J("ngForOf",e.lcZ(12,1,t.tab4_messages))}}function pe(a,s){if(1&a&&(e.TgZ(0,"div",40),e._UZ(1,"i",41),e.TgZ(2,"div",42),e._uU(3),e.qZA()()),2&a){const t=e.oxw();e.xp6(3),e.Oqu(t.LoadingMsg)}}function ve(a,s){if(1&a&&(e.TgZ(0,"option",43),e._uU(1),e.qZA()),2&a){const t=s.$implicit;e.s9C("value",t.key),e.xp6(1),e.hij(" ",t.key," ")}}function fe(a,s){if(1&a&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",46),e._uU(4),e.qZA(),e.TgZ(5,"td",47),e._uU(6),e.qZA()()),2&a){const t=s.$implicit;e.xp6(2),e.Oqu(t.key),e.xp6(2),e.Oqu(t.value.success),e.xp6(2),e.Oqu(t.value.error)}}function Ze(a,s){if(1&a&&(e.TgZ(0,"div",9)(1,"table",44)(2,"thead")(3,"tr")(4,"th"),e._uU(5,"El\xe9ment "),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Success"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Errors"),e.qZA()()(),e.TgZ(10,"tbody"),e.YNc(11,fe,7,3,"tr",45),e.ALo(12,"keyvalue"),e.qZA()()()),2&a){const t=e.oxw();e.xp6(11),e.Q6J("ngForOf",e.lcZ(12,1,t.tab5_messages))}}function be(a,s){if(1&a&&(e.TgZ(0,"div",40),e._UZ(1,"i",41),e.TgZ(2,"div",42),e._uU(3),e.qZA()()),2&a){const t=e.oxw();e.xp6(3),e.Oqu(t.LoadingMsg)}}function Te(a,s){if(1&a&&(e.TgZ(0,"option",43),e._uU(1),e.qZA()),2&a){const t=s.$implicit;e.s9C("value",t.external_id),e.xp6(1),e.hij(" ",t.name," ")}}function ye(a,s){if(1&a&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",46),e._uU(4),e.qZA(),e.TgZ(5,"td",47),e._uU(6),e.qZA()()),2&a){const t=s.$implicit;e.xp6(2),e.Oqu(t.key),e.xp6(2),e.Oqu(t.value.success),e.xp6(2),e.Oqu(t.value.error)}}function ke(a,s){if(1&a&&(e.TgZ(0,"div",9)(1,"table",44)(2,"thead")(3,"tr")(4,"th"),e._uU(5,"El\xe9ment "),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Success"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Errors"),e.qZA()()(),e.TgZ(10,"tbody"),e.YNc(11,ye,7,3,"tr",45),e.ALo(12,"keyvalue"),e.qZA()()()),2&a){const t=e.oxw();e.xp6(11),e.Q6J("ngForOf",e.lcZ(12,1,t.tab6_messages))}}const Ue=[{path:"",redirectTo:"data",pathMatch:"full"},{path:"data/:cible",component:(()=>{class a{constructor(t,n,r,o){this.route=t,this.syncService=n,this.http=r,this.authService=o,this.tab1_messages=null,this.tab2_messages=null,this.tab3_messages=null,this.dates=[],this.weekly_Choosen_Dates=[],this.is_weekly_date_error=!1,this.weekly_date_error_Msg="",this.activePage="",this.start_date_error=!1,this.end_date_error=!1,this.LoadingMsg="Loading...",this.medicUrl$={"hth-togo.app.medicmobile.org":443,"portal-integratehealth.org":444},this.dhisUrl$={"dhis2.integratehealth.org/dhis":443},this.sitesList=[],this.isSelected=d=>this.dates.find(l=>l.isSame(d))?"selected":"notSelected"}ngOnInit(){this.route.params.subscribe(t=>{this.activePage=t.cible}),this.syncService.getSitesList().subscribe(t=>{this.sitesList=t},t=>console.log(t.error)),this.loading1=!1,this.loading2=!1,this.loading3=!1,this.thinkmdToDhis2Form=this.createThinkmdFormGroup(),this.medicToDhis2Form=this.createMedicFormGroup(),this.medicThinkMdWeeklyForm=this.createMedicThinkmdFormGroup()}createFormGroup(t){return new i.cw({start_date:new i.NI("","medic"===t||"allChwsData"===t||"medic_thinkMd"===t?[i.kI.required,i.kI.minLength(7)]:[]),end_date:new i.NI("","medic"===t||"thinkMd"===t||"allChwsData"===t?[i.kI.required,i.kI.minLength(7)]:[]),weekly_Choosen_Dates:new i.NI(""),thinkmd_host:new i.NI("10az.online.tableau.com","thinkMd"===t||"medic_thinkMd"===t?[i.kI.required]:[]),thinkmd_site:new i.NI("datasincbeta","thinkMd"===t||"medic_thinkMd"===t?[i.kI.required]:[]),useToken:new i.NI(!1),thinkmd_token_username:new i.NI(""),thinkmd_token:new i.NI(""),thinkmd_username:new i.NI("seaq@santeintegree.org"),thinkmd_password:new i.NI(""),medic_host:new i.NI("","medic"===t||"allChwsData"===t||"allOrgUnit"===t||"medic_thinkMd"===t?[i.kI.required,i.kI.minLength(3)]:[]),medic_username:new i.NI("admin","medic"===t||"allChwsData"===t||"allOrgUnit"===t||"medic_thinkMd"===t?[i.kI.required]:[]),medic_password:new i.NI(""),medic_database:new i.NI("medic","medic"===t||"medic_thinkMd"===t?[i.kI.required]:[]),InsertIntoDhis2:new i.NI(!1,[]),dhis2_host:new i.NI("dhis2.integratehealth.org/dhis"),dhis2_username:new i.NI("admin"),dhis2_password:new i.NI(""),ssl_verification:new i.NI(!1,"allChwsData"===t||"allOrgUnit"===t?[i.kI.required]:[])})}createChwsDataFormGroup(){return this.createFormGroup("allChwsData")}createDhis2ChwsDataFormGroup(){return new i.cw({start_date:new i.NI("",[i.kI.required,i.kI.minLength(7)]),end_date:new i.NI("",[i.kI.required,i.kI.minLength(7)]),sites:new i.NI("")})}createOrgUnitAndPersonFormGroup(){return this.createFormGroup("allOrgUnit")}createThinkmdFormGroup(){return this.createFormGroup("thinkMd")}createMedicFormGroup(){return this.createFormGroup("medic")}createMedicThinkmdFormGroup(){return this.createFormGroup("medic_thinkMd")}isValidParams(t,n){if(null!=t){const r=t.value;if(null!=r){const o=r.start_date,d=r.end_date,l=u.E.isDayInDate(o,21),_=u.E.isDayInDate(d,20),g=u.E.daysDiff(o,d);if(1==r.InsertIntoDhis2&&"medic"==n)return g>31?(this.start_date_error=!0,this.end_date_error=!0):(this.start_date_error=!l,this.end_date_error=!_),l&&_&&g<=31;if("thinkMd"==n)return this.end_date_error=!_,_}}return!0}startDateError(){return this.start_date_error?"borderError":""}endDateError(){return this.end_date_error?"borderError":""}cleanError(){this.start_date_error=!1,this.end_date_error=!1}cleanWeeklyDateError(){this.is_weekly_date_error=!1,this.weekly_date_error_Msg=""}WeeklyDateIsValid(){var t=0;for(let n=0;n<this.weekly_Choosen_Dates.length;n++){const r=this.weekly_Choosen_Dates[n];u.E.getMondays(r).includes(r)||t++}return 0==t}genarateColor(t){if(u.F.isNumber(t)){const n=parseInt(t);return n<=5?"danger":n>5&&n<=30?"warning":n>30&&n<40?"infos":"good"}return""}removeWeekDate(t){const n=this.weekly_Choosen_Dates.indexOf(t);this.weekly_Choosen_Dates.splice(n,1)}runThinkmdToDhis2(){this.isValidParams(this.thinkmdToDhis2Form,"thinkMd")&&(this.start_date_error=!1,this.loading1=!0,this.tab1_messages=null,this.syncService.thinkmdToDhis2Script(this.thinkmdToDhis2Form.value).subscribe(t=>{this.loading1=!1,this.tab1_messages=JSON.parse(t)},t=>{this.loading1=!1,this.tab1_messages=t.message,console.log(t.error)}))}runMedicToDhis2(){this.isValidParams(this.medicToDhis2Form,"medic")&&(this.start_date_error=!1,this.end_date_error=!1,this.loading2=!0,this.tab2_messages=null,this.syncService.medicToDhis2Script(this.medicToDhis2Form.value).subscribe(t=>{this.loading2=!1,this.tab2_messages=JSON.parse(t)},t=>{this.loading2=!1,this.tab2_messages=t.message,console.log(t.error)}))}runMedicThinkMdWeekly(){this.addToDateList(),this.weekly_Choosen_Dates.length>1&&this.WeeklyDateIsValid()?(this.is_weekly_date_error=!1,this.weekly_date_error_Msg="",this.loading3=!0,this.tab3_messages=null,this.syncService.syncWeeklyChwsData(this.medicThinkMdWeeklyForm.value).subscribe(t=>{this.loading3=!1,this.tab3_messages=JSON.parse(t)},t=>{this.loading3=!1,this.tab3_messages=t.message,console.log(t.error)})):(this.is_weekly_date_error=!0,this.weekly_Choosen_Dates.length<=1?this.weekly_date_error_Msg="Vous devez choisir au moins 2 dates":this.WeeklyDateIsValid()||(this.weekly_date_error_Msg="Toutes les dates doivent \xeatre un Lundi de la semaine"))}remove(t,n){for(var r=t.indexOf(n);-1!==r;)t.splice(r,1),r=t.indexOf(n);return t}getValue(t,n){return t[n.pop()]}addToDateList(){const t=this.medicThinkMdWeeklyForm.value.start_date;!this.weekly_Choosen_Dates.includes(t)&&null!=t&&""!=t&&this.weekly_Choosen_Dates.push(t),this.medicThinkMdWeeklyForm.value.start_date="",this.medicThinkMdWeeklyForm.value.end_date="",this.medicThinkMdWeeklyForm.value.weekly_Choosen_Dates=this.weekly_Choosen_Dates,this.cleanWeeklyDateError()}renameKeyIfFoundInObject(t,n,r){try{Object.keys(t).includes(n)&&(t[r]=t[n],delete t[n])}catch{}return t}getKeyPath(t,n){return""!=t?t+"."+n:n}listatts(t,n){var r=[];if(!("object"!=typeof(n=this.renameKeyIfFoundInObject(n,"length","_length"))||null==n||n.length>0)){for(var o in n){const l=this.getKeyPath(t,o);if(Object.prototype.hasOwnProperty.call(n,o)){let _=this.listatts(l,n[o]);if(null!=_&&_.length>0)r=[...r,..._];else{let g=l.split("."),p=this.getValue(n,g);if(Array.isArray(p)){var d=[];p.forEach(v=>{if("string"==typeof v)d.push(`"${v}"`);else{let f=this.listatts(l,v);null!=f&&f.length>0&&(r=[...r,...f])}}),d.length>0&&r.push(`"${l}" : [${d}]`)}else r.push(`"${l}" : "${p}"`)}}}return r}}writeContents(t,n,r){var o=document.createElement("a"),d=new Blob([t],{type:r});o.href=URL.createObjectURL(d),o.download=n,o.click()}isObject(t){return null!=t&&t.constructor==Object}testJson(){const r=this.listatts("",{_id:"d1a1ab15-d49f-4dbd-902f-7a9439e39f9f",_rev:"2-8db714ee4d3c9aba5dcb8015d62caa91",form:"pcime_c_asc",from:"00228 93 22 32 66",type:"data_record",fields:{MAM:"false",meta:{instanceID:"uuid:0f9f00e8-ea59-4dce-91fe-53ad5ea9b681"},inputs:{meta:{location:{lat:"",long:"",error:"",message:""},deprecatedID:""},source:"contact",contact:{_id:"412133d8-88fa-4fca-af79-c4ba264d9ebf",sex:"male",name:"Kezeri abourasakou",date_of_birth:"2018-05-25"},source_id:""},s_fever:{n_congrats:"",n_conduct_mrdt:"",s_frequent_fever:"yes",s_fever_warm_body:"yes",s_fever_child_since:"3",n_fever_evaluation_note:"",s_fever_child_sleep_net:"yes",s_fever_child_TDR_result:"positive"},referral:"true",has_fever:"true",beyond_72h:"false",high_fever:"false",next_visit:"30856607",patient_id:"412133d8-88fa-4fca-af79-c4ba264d9ebf",s_constant:{s_use_scale:"",s_constant_child_weight:"15",s_note_child_temparature:"",s_constant_child_temperature:"39.4",s_constant_child_brachial_perimeter:"172"},s_diarrhea:{s_diarrhea_child_has:"no",n_diarrhea_evaluation_note:""},within_24h:"false",within_48h:"true",within_72h:"false",group_review:{fever:{r_fever:"",r_uncomplicated_give_advices:""},submit:"",followup:"",r_summary:"",r_symptoms:"",r_refer_USP:"",r_patient_id:"",r_danger_signs:"",r_malaria_sign:"",r_patient_info:"",r_accompany_USP:"",r_malaria_fever:"",r_no_malnutrition:"",r_diagnosis_treatment:"",s_have_you_refer_child:"yes",r_pre_tranfer_treatement:{r_drink_water:"",r_continue_suckle:"",r_lumartemcoartem:"",r_dose_paracetamol:"",r_no_oral_ingestion:"",r_refer_USP_immediatly:"",r_pre_tranfer_treatement_1:""},r_refer_USP_danger_signs:"",r_paludial_fever_treatment:{r_paludial_paracetamol:"",r_paludial_paracetamol_one:"",r_paludial_fever_treatment_1:"",r_paludial_fever_treatment_lumartem_coartem:"",r_paludial_fever_treatment_lumartem_coartem_2:""},r_accompany_USP_danger_signs:"",r_danger_signs_child_throwup:"",r_danger_signs_urine_cocacola:"",r_danger_signs_child_cannot_drink:"",r_followup_next_visit_any_referral:""},has_diarrhea:"false",patient_name:"Kezeri abourasakou",s_cough_cold:{s_cough_cold_has_cough_cold:"no",n_cough_cold_evaluation_note:""},accompaniment:"true",has_pneumonia:"false",has_cough_cold:"false",patient_sex_en:"Male",patient_sex_fr:"Homme",referral_fever:"true",referral_mucus:"false",s_danger_signs:{has_danger_sign:"true",s_danger_signs_note:{s_danger_signs_note_child:"",s_danger_signs_blood_stools:"no",s_danger_signs_child_throwup:"yes",s_danger_signs_urine_cocacola:"yes",s_danger_signs_child_convulsion:"no",s_danger_signs_child_often_sick:"no",s_danger_signs_diarrhea_more_14:"no",s_danger_signs_child_cannot_drink:"yes"},has_accompaniment_ds:"true",s_danger_signs_observe:{n_danger_signs_exist:"",s_danger_signs_child_anemia:"no",s_danger_signs_child_slimming:"no",s_danger_signs_child_convulsing:"no",s_danger_signs_child_unconscious:"no",s_danger_signs_child_difficulty_breathing:"no"},s_danger_signs_child_research:{s_danger_signs_edema:"no",s_danger_signs_rashes:"no",s_danger_signs_fontanelle:"no",s_danger_signs_dehydration:"no",n_danger_signs_child_present:"",s_danger_signs_neck_stiffness:"no"},s_danger_signs_continue_survey:"yes"},MAS_complicated:"false",assessment_time:{s_assessment_time:"c_assessment_time_1"},no_malnutrition:"true",has_malnutrition:"false",show_car_advices:"true",MAS_uncomplicated:"false",beginning_illness:{s_begining_illness:"morning_day_before_yesterday"},non_malaria_fever:"false",referral_diarrhea:"false",s_vaccinal_status:{s_one_day:{s_vaccinal_status_BCG:"yes",s_vaccinal_status_VPO_0:"yes"},s_six_weeks:{s_vaccinal_status_VPO_1:"yes",s_vaccinal_status_DTC_B1:"yes",s_vaccinal_status_rota_1:"yes",s_vaccinal_status_pneumo_1:"yes"},s_ten_weeks:{s_vaccinal_status_VPO_2:"yes",s_vaccinal_status_DTC_B2:"yes",s_vaccinal_status_rota_2:"yes",s_vaccinal_status_pneumo_2:"yes"},s_nine_months:{s_vaccinal_status_VAA:"yes",s_vaccinal_status_VAR:"yes",s_vaccinal_status_vit_A:"yes"},s_forteen_weeks:{s_vaccinal_status_VPO_3:"yes",s_vaccinal_status_DTC_B3:"yes",s_vaccinal_status_rota_3:"yes",s_vaccinal_status_pneumo_3:"yes"},s_health_issues:{s_other_health_issues:"no"}},fever_with_malaria:"true",has_simple_malaria:"true",fever_with_diarrhea:"false",patient_age_display:"4 years and 1 month old",patient_age_in_days:"1507",referral_cough_cold:"false",s_drug_administered:{s_para:"paracetamol_500",other_drug:"",s_lumartem:"yes",n_drug_administered_tablet_type:""},s_nutritional_state:{n_nutritional_state_branchial_perimeter:""},patient_age_in_years:"4",diarrhea_with_malaria:"false",patient_age_in_months:"49",referral_danger_signs:"true",patient_age_display_fr:"4 ans et 1 mois",referral_missed_vaccine:"false",referral_MAS_complicated:"false",show_nutritional_advices:"true"},contact:{_id:"4e6fb542-a057-489d-86da-b19f062e0da3",parent:{_id:"60867fb9-1202-4c43-9a44-a314ac1009a1",parent:{_id:"5827654a-1c65-4aa3-a917-c83f294d965e"}}},sent_by:"Skon Toba",geolocation:{speed:.7175227999687195,heading:167,accuracy:6.699999809265137,altitude:232.07999959647987,latitude:9.6057433,longitude:1.0205783,altitudeAccuracy:null},_attachments:{content:{stub:!0,digest:"md5-q/AHW2DGudmdiQlHXlPdSw==",length:10945,revpos:1,content_type:"application/xml"}},content_type:"xml",hidden_fields:["meta","nano","mobo",{toto:{tttttttttttt:"ttttttttttttt"}}],reported_date:1657434950915,geolocation_log:[{recording:{speed:.7175227999687195,heading:167,accuracy:6.699999809265137,altitude:232.07999959647987,latitude:9.6057433,longitude:1.0205783,altitudeAccuracy:null},timestamp:1657434953883}]});for(const[o,d]of Object.entries(JSON.parse(`{${r}}`)))console.log(`${o}: ${d}`);this.writeContents(`[{${r}}]`,"./result.json","json")}genarateDataAsTable(t){return null!=t&&null!=t&&(Object.keys(t),Object.values(t),console.log(t)),""}capitaliseData(t,n=" ",r=" "){return u.F.capitaliseDataGiven(t,n,r)}getItemAsArray(t){return t.value}initTable(t){initDataTable(t)}select(t,n){const r=this.dates.findIndex(o=>o.isSame(t));r<0?this.dates.push(t):this.dates.splice(r,1),n.updateTodaysDate()}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(h.gz),e.Y36(T._),e.Y36(y.eN),e.Y36(k.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-sync"]],decls:4,vars:2,consts:[[1,"page-content-wrap"],[1,"col-12","col-sm-12"],["class","card card-warning card-tabs",4,"ngIf"],[1,"card","card-warning","card-tabs"],[1,"card-header","p-0","pt-1"],["id","custom-tabs-one-tab","role","tablist",1,"nav","nav-tabs"],[1,"nav-item"],["id","custom-tabs-one-thinkmd-tab","data-toggle","pill","href","#custom-tabs-one-thinkmd","role","tab","aria-controls","custom-tabs-one-thinkmd","aria-selected","true",1,"nav-link","active"],["id","custom-tabs-one-medic-tab","data-toggle","pill","href","#custom-tabs-one-medic","role","tab","aria-controls","custom-tabs-one-medic","aria-selected","false",1,"nav-link"],[1,"card-body"],["id","custom-tabs-one-tabContent",1,"tab-content"],["id","custom-tabs-one-thinkmd","role","tabpanel","aria-labelledby","custom-tabs-one-thinkmd-tab",1,"tab-pane","fade","show","active"],[1,"row"],[1,"col-sm-7"],[1,"overlay-wrapper"],["class","overlay",4,"ngIf"],[1,"card","card-success"],[1,"card-header"],[1,"card-title"],["novalidate","",3,"formGroup","ngSubmit"],[1,"col-sm-6"],[1,"form-group"],["type","date","formControlName","end_date",3,"change"],["type","text","formControlName","thinkmd_host",1,"form-control"],["type","text","formControlName","thinkmd_site",1,"form-control"],[1,"form-check"],["type","checkbox","formControlName","useToken",1,"form-check-input"],[1,"form-check-label"],["class","row",4,"ngIf"],["type","checkbox","formControlName","InsertIntoDhis2",1,"form-check-input"],["class","col-sm-6",4,"ngIf"],[1,"card-footer"],["type","submit",1,"btn","btn-success","float-right",3,"disabled"],[1,"fa","fa-floppy-o","fa-right"],[1,"col-sm-5"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-sm-12"],[1,"card"],["type","button",3,"click"],["id","thinkmd_datatable",1,"table","table-bordered","table-striped"],["id","custom-tabs-one-medic","role","tabpanel","aria-labelledby","custom-tabs-one-medic-tab",1,"tab-pane","fade"],[1,"card","card-info"],["type","date","formControlName","start_date",3,"change"],["formControlName","medic_host",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","medic_database",1,"form-control"],["type","submit",1,"btn","btn-info","float-right",3,"disabled"],["class","card",4,"ngIf"],[1,"overlay"],[1,"fas","fa-3x","fa-sync-alt","fa-spin"],[1,"text-bold","pt-2"],["type","text","formControlName","thinkmd_username",1,"form-control"],["type","password","formControlName","thinkmd_password",1,"form-control"],["type","text","formControlName","thinkmd_token_username",1,"form-control"],["type","password","formControlName","thinkmd_token",1,"form-control"],["type","text","formControlName","dhis2_host",1,"form-control"],["type","text","formControlName","dhis2_username",1,"form-control"],["type","password","formControlName","dhis2_password",1,"form-control"],[3,"value"],["type","password","formControlName","medic_password",1,"form-control"],["type","text","formControlName","medic_username",1,"form-control"],["id","medic_datatable",1,"table","table-bordered","table-striped"],["id","custom-tabs-chws-week-data-tab","data-toggle","pill","href","#custom-tabs-chws-week-data","role","tab","aria-controls","custom-tabs-chws-week-data","aria-selected","true",1,"nav-link","active"],["id","custom-tabs-chws-week-data","role","tabpanel","aria-labelledby","custom-tabs-chws-week-data-tab",1,"tab-pane","fade","show","active"],[1,"card","card-primary"],["class","col-sm-3",3,"click",4,"ngFor","ngForOf"],["style","color:red;",4,"ngIf"],["type","date","formControlName","start_date",1,"form-control",3,"change"],["type","submit",1,"btn","btn-primary","float-right",3,"disabled"],["id","medic_thinkMd_datatable",1,"table","table-bordered","table-striped"],[1,"col-sm-3",3,"click"],[2,"color","red"],[3,"class",4,"ngFor","ngForOf"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,R,152,48,"div",2),e.YNc(3,_e,117,23,"div",2),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("ngIf","dataToDhis2"===n.activePage),e.xp6(1),e.Q6J("ngIf","weeklyData"===n.activePage))},dependencies:[m.sg,m.O5,i._Y,i.YN,i.Kr,i.Fj,i.Wl,i.EJ,i.JJ,i.JL,i.sg,i.u,m.Nd],styles:["input[type=checkbox]:checked{filter:invert(90%) hue-rotate(45deg) brightness(1.7);height:18px;width:18px;transform:rotate(-45deg)}input[type=checkbox]{border-color:#f000;height:18px;width:18px}.mat-calendar-body-cell.notSelected{background-color:#4682b4;border-radius:100%;width:50px;height:50px}.mat-calendar-body-cell.selected{background-color:red!important;border-radius:100%;width:50px;height:50px}.results{background-color:#ffebcd;min-height:100px;width:500px}.org-unit-success{padding-left:10px;color:green}.org-unit-error{padding-left:20px;color:red}.borderError{border:solid red 2px}.danger{color:red;font-weight:700}.warning{color:orange;font-weight:700}.infos{color:#8a2be2;font-weight:700}.good{font-weight:700}\n"],encapsulation:2}),a})(),canActivate:[b.a],data:{title:"Sync Data"}},{path:"sync",component:(()=>{class a{constructor(t,n,r){this.syncService=t,this.http=n,this.authService=r,this.tab4_messages=null,this.tab5_messages=null,this.tab6_messages=null,this.dates=[],this.weekly_Choosen_Dates=[],this.is_weekly_date_error=!1,this.weekly_date_error_Msg="",this.start_date_error=!1,this.end_date_error=!1,this.LoadingMsg="Loading...",this.medicUrl$={"hth-togo.app.medicmobile.org":443,"portal-integratehealth.org":444},this.dhisUrl$={"dhis2.integratehealth.org/dhis":443},this.sitesList=[]}ngOnInit(){this.syncService.getSitesList().subscribe(t=>{this.sitesList=t},t=>console.log(t.error)),this.loading4=!1,this.loading5=!1,this.loading6=!1,this.chwsDataForm=this.createChwsDataFormGroup(),this.dhis2ChwsDataForm=this.createDhis2ChwsDataFormGroup(),this.orgUnitAndPersonForm=this.createOrgUnitAndPersonFormGroup()}createFormGroup(t){return new i.cw({start_date:new i.NI("","medic"===t||"allChwsData"===t||"medic_thinkMd"===t?[i.kI.required,i.kI.minLength(7)]:[]),end_date:new i.NI("","medic"===t||"thinkMd"===t||"allChwsData"===t?[i.kI.required,i.kI.minLength(7)]:[]),weekly_Choosen_Dates:new i.NI(""),thinkmd_host:new i.NI("10az.online.tableau.com","thinkMd"===t||"medic_thinkMd"===t?[i.kI.required]:[]),thinkmd_site:new i.NI("datasincbeta","thinkMd"===t||"medic_thinkMd"===t?[i.kI.required]:[]),useToken:new i.NI(!1),thinkmd_token_username:new i.NI(""),thinkmd_token:new i.NI(""),thinkmd_username:new i.NI("seaq@santeintegree.org"),thinkmd_password:new i.NI(""),medic_host:new i.NI("","medic"===t||"allChwsData"===t||"allOrgUnit"===t||"medic_thinkMd"===t?[i.kI.required,i.kI.minLength(3)]:[]),medic_username:new i.NI("admin","medic"===t||"allChwsData"===t||"allOrgUnit"===t||"medic_thinkMd"===t?[i.kI.required]:[]),medic_password:new i.NI(""),medic_database:new i.NI("medic","medic"===t||"medic_thinkMd"===t?[i.kI.required]:[]),InsertIntoDhis2:new i.NI(!1,[]),dhis2_host:new i.NI("dhis2.integratehealth.org/dhis"),dhis2_username:new i.NI("admin"),dhis2_password:new i.NI(""),ssl_verification:new i.NI(!1,"allChwsData"===t||"allOrgUnit"===t?[i.kI.required]:[])})}createChwsDataFormGroup(){return this.createFormGroup("allChwsData")}createDhis2ChwsDataFormGroup(){return new i.cw({start_date:new i.NI("",[i.kI.required,i.kI.minLength(7)]),end_date:new i.NI("",[i.kI.required,i.kI.minLength(7)]),sites:new i.NI("")})}createOrgUnitAndPersonFormGroup(){return this.createFormGroup("allOrgUnit")}createThinkmdFormGroup(){return this.createFormGroup("thinkMd")}createMedicFormGroup(){return this.createFormGroup("medic")}createMedicThinkmdFormGroup(){return this.createFormGroup("medic_thinkMd")}isValidParams(t,n){if(null!=t){const r=t.value;if(null!=r){const o=r.start_date,d=r.end_date,l=u.E.isDayInDate(o,21),_=u.E.isDayInDate(d,20),g=u.E.daysDiff(o,d);if(1==r.InsertIntoDhis2&&"medic"==n)return g>31?(this.start_date_error=!0,this.end_date_error=!0):(this.start_date_error=!l,this.end_date_error=!_),l&&_&&g<=31;if("thinkMd"==n)return this.end_date_error=!_,_}}return!0}startDateError(){return this.start_date_error?"borderError":""}endDateError(){return this.end_date_error?"borderError":""}cleanError(){this.start_date_error=!1,this.end_date_error=!1}cleanWeeklyDateError(){this.is_weekly_date_error=!1,this.weekly_date_error_Msg=""}WeeklyDateIsValid(){var t=0;for(let n=0;n<this.weekly_Choosen_Dates.length;n++){const r=this.weekly_Choosen_Dates[n];u.E.getMondays(r).includes(r)||t++}return 0==t}genarateColor(t){if(u.F.isNumber(t)){const n=parseInt(t);return n<=5?"danger":n>5&&n<=30?"warning":n>30&&n<40?"infos":"good"}return""}removeWeekDate(t){const n=this.weekly_Choosen_Dates.indexOf(t);this.weekly_Choosen_Dates.splice(n,1)}syncAllSiteZoneFamilyPersonFromDb(){this.loading4=!0,this.tab4_messages=null;const t=this.medicUrl$[this.orgUnitAndPersonForm.value.medic_host];this.orgUnitAndPersonForm.value.port=t,this.orgUnitAndPersonForm.value.ssl_verification="444"==`${t}`,this.syncService.syncSiteZoneFamilyPerson(this.orgUnitAndPersonForm.value).subscribe(n=>{this.loading4=!1,this.tab4_messages=n},n=>{this.loading4=!1,this.tab4_messages=n.error})}syncAllChwsDataFromDb(){this.loading5=!0,this.tab5_messages=null;const t=this.medicUrl$[this.chwsDataForm.value.medic_host];this.chwsDataForm.value.port=t,this.chwsDataForm.value.ssl_verification="444"==`${t}`,this.syncService.syncChwsData(this.chwsDataForm.value).subscribe(n=>{this.loading5=!1,this.tab5_messages=n},n=>{this.loading5=!1,this.tab5_messages=n.error})}syncAllChwsDataFromDhis2(){this.loading6=!0,this.tab6_messages=null,this.syncService.syncDhis2ChwsData({orgUnitFilter:this.dhis2ChwsDataForm.value.sites,filter:[`RlquY86kI66:GE:${this.dhis2ChwsDataForm.value.start_date}:LE:${this.dhis2ChwsDataForm.value.end_date}`],fields:["event","orgUnit","orgUnitName","dataValues[dataElement,value]"]}).subscribe(d=>{this.loading6=!1,this.tab6_messages=d},d=>{this.loading6=!1,this.tab6_messages=d.error})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(T._),e.Y36(y.eN),e.Y36(k.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-sync"]],decls:136,vars:19,consts:[[1,"page-content-wrap"],[1,"col-12","col-sm-12"],[1,"card","card-primary","card-tabs"],[1,"card-header","p-0","pt-1"],["id","custom-tabs-one-tab","role","tablist",1,"nav","nav-tabs"],[1,"nav-item"],["id","custom-tabs-one-sync-orgunits-tab","data-toggle","pill","href","#custom-tabs-one-sync-orgunits","role","tab","aria-controls","custom-tabs-one-sync-orgunits","aria-selected","true",1,"nav-link","active"],["id","custom-tabs-one-sync-chws-tab","data-toggle","pill","href","#custom-tabs-one-sync-chws","role","tab","aria-controls","custom-tabs-one-sync-chws","aria-selected","false",1,"nav-link"],["id","custom-tabs-one-sync-dhis2-chws-tab","data-toggle","pill","href","#custom-tabs-one-sync-dhis2-chws","role","tab","aria-controls","custom-tabs-one-sync-dhis2-chws","aria-selected","false",1,"nav-link"],[1,"card-body"],["id","custom-tabs-one-tabContent",1,"tab-content"],["id","custom-tabs-one-sync-orgunits","role","tabpanel","aria-labelledby","custom-tabs-one-sync-orgunits-tab",1,"tab-pane","fade","show","active"],[1,"row"],[1,"col-sm-7"],[1,"overlay-wrapper"],["class","overlay",4,"ngIf"],[1,"card","card-danger"],[1,"card-header"],[1,"card-title"],["novalidate","",3,"formGroup","ngSubmit"],[1,"col-sm-6"],[1,"form-group"],["formControlName","medic_host",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","medic_username",1,"form-control"],["type","password","formControlName","medic_password",1,"form-control"],[1,"card-footer"],["type","submit",1,"btn","btn-danger","float-right",3,"disabled"],[1,"fa","fa-floppy-o","fa-right"],[1,"col-sm-5"],["class","card-body",4,"ngIf"],["id","custom-tabs-one-sync-chws","role","tabpanel","aria-labelledby","custom-tabs-one-sync-chws-tab",1,"tab-pane","fade"],[1,"card","card-warning"],["type","date","formControlName","start_date",1,"form-control"],["type","date","formControlName","end_date",1,"form-control"],["type","submit",1,"btn","btn-warning","float-right",3,"disabled"],["id","custom-tabs-one-sync-dhis2-chws","role","tabpanel","aria-labelledby","custom-tabs-one-sync-dhis2-chws-tab",1,"tab-pane","fade"],[1,"card","card-success"],["formControlName","sites",1,"form-control"],["value",""],[1,"overlay"],[1,"fas","fa-3x","fa-sync-alt","fa-spin"],[1,"text-bold","pt-2"],[3,"value"],["id","sync_chws_datatable",1,"table","table-bordered","table-striped"],[4,"ngFor","ngForOf"],[1,"org-unit-success"],[1,"org-unit-error"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"ul",4)(5,"li",5)(6,"a",6),e._uU(7,"Sync OrgUnit "),e.qZA()(),e.TgZ(8,"li",5)(9,"a",7),e._uU(10,"Sync Chws Data "),e.qZA()(),e.TgZ(11,"li",5)(12,"a",8),e._uU(13,"Sync DHIS2 Chws Data "),e.qZA()()()(),e.TgZ(14,"div",9)(15,"div",10)(16,"div",11)(17,"div",12)(18,"div",13)(19,"div",14),e.YNc(20,ue,4,1,"div",15),e.TgZ(21,"div",16)(22,"div",17)(23,"h3",18),e._uU(24,"Synchroniser OrgUnit && Personnes"),e.qZA()(),e.TgZ(25,"form",19),e.NdJ("ngSubmit",function(){return n.syncAllSiteZoneFamilyPersonFromDb()}),e.TgZ(26,"div",9)(27,"div",12)(28,"div",20)(29,"div",21)(30,"label"),e._uU(31,"Hostname"),e.qZA(),e.TgZ(32,"select",22),e.YNc(33,me,2,2,"option",23),e.ALo(34,"keyvalue"),e.qZA()()()(),e.TgZ(35,"div",12)(36,"div",20)(37,"div",21)(38,"label"),e._uU(39,"Username"),e.qZA(),e._UZ(40,"input",24),e.qZA()(),e.TgZ(41,"div",20)(42,"div",21)(43,"label"),e._uU(44,"Password"),e.qZA(),e._UZ(45,"input",25),e.qZA()()()(),e.TgZ(46,"div",26)(47,"button",27),e._uU(48," Save Changes "),e._UZ(49,"span",28),e.qZA()()()()()(),e.TgZ(50,"div",29),e.YNc(51,he,13,3,"div",30),e.qZA()()(),e.TgZ(52,"div",31)(53,"div",12)(54,"div",13)(55,"div",14),e.YNc(56,pe,4,1,"div",15),e.TgZ(57,"div",32)(58,"div",17)(59,"h3",18),e._uU(60,"Syncroniser les donn\xe9es de tous les ASC"),e.qZA()(),e.TgZ(61,"form",19),e.NdJ("ngSubmit",function(){return n.syncAllChwsDataFromDb()}),e.TgZ(62,"div",9)(63,"div",12)(64,"div",20)(65,"div",21)(66,"label"),e._uU(67,"Hostname"),e.qZA(),e.TgZ(68,"select",22),e.YNc(69,ve,2,2,"option",23),e.ALo(70,"keyvalue"),e.qZA()()()(),e.TgZ(71,"div",12)(72,"div",20)(73,"div",21)(74,"label"),e._uU(75,"Username"),e.qZA(),e._UZ(76,"input",24),e.qZA()(),e.TgZ(77,"div",20)(78,"div",21)(79,"label"),e._uU(80,"Password"),e.qZA(),e._UZ(81,"input",25),e.qZA()()(),e.TgZ(82,"div",12)(83,"div",20)(84,"div",21)(85,"label"),e._uU(86,"Date de d\xe9but"),e.qZA(),e._UZ(87,"input",33),e.qZA()(),e.TgZ(88,"div",20)(89,"div",21)(90,"label"),e._uU(91,"Date de fin"),e.qZA(),e._UZ(92,"input",34),e.qZA()()()(),e.TgZ(93,"div",26)(94,"button",35),e._uU(95," Save Changes "),e._UZ(96,"span",28),e.qZA()()()()()(),e.TgZ(97,"div",29),e.YNc(98,Ze,13,3,"div",30),e.qZA()()(),e.TgZ(99,"div",36)(100,"div",12)(101,"div",13)(102,"div",14),e.YNc(103,be,4,1,"div",15),e.TgZ(104,"div",37)(105,"div",17)(106,"h3",18),e._uU(107,"Syncroniser les donn\xe9es de tous les ASC"),e.qZA()(),e.TgZ(108,"form",19),e.NdJ("ngSubmit",function(){return n.syncAllChwsDataFromDhis2()}),e.TgZ(109,"div",9)(110,"div",12)(111,"div",20)(112,"div",21)(113,"label"),e._uU(114,"Date de d\xe9but"),e.qZA(),e._UZ(115,"input",33),e.qZA()(),e.TgZ(116,"div",20)(117,"div",21)(118,"label"),e._uU(119,"Date de fin"),e.qZA(),e._UZ(120,"input",34),e.qZA()()(),e.TgZ(121,"div",12)(122,"div",20)(123,"div",21)(124,"label"),e._uU(125,"Site"),e.qZA(),e.TgZ(126,"select",38)(127,"option",39),e._uU(128,"Select All"),e.qZA(),e.YNc(129,Te,2,2,"option",23),e.qZA()()()()(),e.TgZ(130,"div",26)(131,"button",35),e._uU(132," Save Changes "),e._UZ(133,"span",28),e.qZA()()()()()(),e.TgZ(134,"div",29),e.YNc(135,ke,13,3,"div",30),e.qZA()()()()()()()()),2&t&&(e.xp6(20),e.Q6J("ngIf",n.loading4),e.xp6(5),e.Q6J("formGroup",n.orgUnitAndPersonForm),e.xp6(8),e.Q6J("ngForOf",e.lcZ(34,15,n.medicUrl$)),e.xp6(14),e.Q6J("disabled",!n.orgUnitAndPersonForm.valid),e.xp6(4),e.Q6J("ngIf",null!=n.tab4_messages),e.xp6(5),e.Q6J("ngIf",n.loading5),e.xp6(5),e.Q6J("formGroup",n.chwsDataForm),e.xp6(8),e.Q6J("ngForOf",e.lcZ(70,17,n.medicUrl$)),e.xp6(25),e.Q6J("disabled",!n.chwsDataForm.valid),e.xp6(4),e.Q6J("ngIf",null!=n.tab5_messages),e.xp6(5),e.Q6J("ngIf",n.loading6),e.xp6(5),e.Q6J("formGroup",n.dhis2ChwsDataForm),e.xp6(21),e.Q6J("ngForOf",n.sitesList),e.xp6(2),e.Q6J("disabled",!n.dhis2ChwsDataForm.valid),e.xp6(4),e.Q6J("ngIf",null!=n.tab6_messages))},dependencies:[m.sg,m.O5,i._Y,i.YN,i.Kr,i.Fj,i.EJ,i.JJ,i.JL,i.sg,i.u,m.Nd],styles:["input[type=checkbox]:checked{filter:invert(90%) hue-rotate(45deg) brightness(1.7);height:18px;width:18px;transform:rotate(-45deg)}input[type=checkbox]{border-color:#f000;height:18px;width:18px}.mat-calendar-body-cell.notSelected{background-color:#4682b4;border-radius:100%;width:50px;height:50px}.mat-calendar-body-cell.selected{background-color:red!important;border-radius:100%;width:50px;height:50px}.results{background-color:#ffebcd;min-height:100px;width:500px}.org-unit-success{padding-left:10px;color:green}.org-unit-error{padding-left:20px;color:red}.borderError{border:solid red 2px}.danger{color:red;font-weight:700}.warning{color:orange;font-weight:700}.infos{color:#8a2be2;font-weight:700}.good{font-weight:700}\n"],encapsulation:2}),a})(),canActivate:[b.a],data:{title:"Sync OrgUnit & Data"}}];let we=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[h.Bz.forChild(Ue),h.Bz]}),a})(),xe=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[m.ez,i.UX,we]}),a})()}}]);