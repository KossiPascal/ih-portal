"use strict";(self.webpackChunkih_portal=self.webpackChunkih_portal||[]).push([[924],{1924:(ft,D,b)=>{b.r(D),b.d(D,{DashboardsModule:()=>ht});var F=b(8692),h=b(92),S=b(3580),x=b(8968),C=b(8239);let q=(()=>{class a{}return a.home_actions_forms=["pcime_c_asc","pcime_c_referral","pcime_c_followup","malnutrition_followup","pregnancy_family_planning","prenatal_followup","postnatal_followup","newborn_followup","home_visit","women_emergency_followup","fp_follow_up_renewal"],a.vaccination_forms=["vaccination"],a.consultations_followup_forms=["pcime_c_asc","pregnancy_family_planning","pcime_c_followup","pcime_c_referral","malnutrition_followup","prenatal_followup","postnatal_followup","newborn_followup","women_emergency_followup","fp_follow_up_renewal"],a.consultations_forms=["pcime_c_asc","pregnancy_family_planning"],a.num_fp_forms=["pregnancy_family_planning","prenatal_followup","postnatal_followup","women_emergency_followup","fp_follow_up_renewal"],a.followup_forms=["pcime_c_followup","pcime_c_referral","malnutrition_followup","prenatal_followup","postnatal_followup","newborn_followup","women_emergency_followup","fp_follow_up_renewal"],a.child_forms=["pcime_c_asc","pcime_c_referral","pcime_c_followup","malnutrition_followup","newborn_followup"],a.child_followup_forms=["pcime_c_followup","newborn_followup","malnutrition_followup"],a.allForms=["pcime_c_asc","vaccination_followup","pregnancy_family_planning","delivery","home_visit","newborn_followup","pcime_c_followup","malnutrition_followup","postnatal_followup","prenatal_followup","pcime_c_referral","fp_follow_up_renewal"],a})();var s=b(8629),t=b(4537),U=b(1815);function L(a,d){if(1&a&&(t.TgZ(0,"div",20),t._UZ(1,"i",21),t.TgZ(2,"div",22),t._uU(3),t.qZA()()),2&a){const e=t.oxw();t.xp6(3),t.hij(" ",e.initMsg,"")}}function O(a,d){if(1&a&&(t.TgZ(0,"option",23),t._uU(1),t.qZA()),2&a){const e=d.$implicit;t.s9C("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function z(a,d){if(1&a&&(t.TgZ(0,"option",23),t._uU(1),t.qZA()),2&a){const e=d.$implicit;t.s9C("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function J(a,d){if(1&a&&(t.TgZ(0,"tr")(1,"td",36),t._uU(2),t.qZA(),t.TgZ(3,"td",36),t._uU(4),t.qZA(),t.TgZ(5,"td",37),t._uU(6),t.qZA(),t.TgZ(7,"td",37),t._uU(8),t.qZA(),t.TgZ(9,"td",38),t._uU(10),t.qZA(),t.TgZ(11,"td",38),t._uU(12),t.qZA(),t.TgZ(13,"td",37),t._uU(14),t.qZA(),t.TgZ(15,"td",37),t._uU(16),t.qZA(),t.TgZ(17,"td",38),t._uU(18),t.qZA(),t.TgZ(19,"td",38),t._uU(20),t.qZA(),t.TgZ(21,"td",39),t._uU(22),t.qZA(),t.TgZ(23,"td",39),t._uU(24),t.qZA(),t.TgZ(25,"td",40)(26,"strong"),t._uU(27),t.qZA()(),t.TgZ(28,"td"),t._uU(29),t.qZA()()),2&a){const e=d.$implicit;t.xp6(2),t.Oqu(e.Code),t.xp6(2),t.Oqu(e.Name),t.xp6(2),t.Oqu(e.Pcime),t.xp6(2),t.Oqu(e.PcimeDhis2),t.xp6(2),t.Oqu(e.MaternellePf),t.xp6(2),t.Oqu(e.MaternellePfDhis2),t.xp6(2),t.Oqu(e.Consultation),t.xp6(2),t.Oqu(e.ConsultationDhis),t.xp6(2),t.Oqu(e.Recherche),t.xp6(2),t.Oqu(e.RechercheDhis),t.xp6(2),t.Oqu(e.Total),t.xp6(2),t.Oqu(e.TotalDhis),t.xp6(3),t.Oqu(e.TotalDiff),t.xp6(1),t.Gre("bg-",e.Ratio.color,""),t.xp6(1),t.hij("",e.Ratio.value," %")}}function M(a,d){if(1&a){const e=t.EpF();t.TgZ(0,"section",24)(1,"div",25)(2,"div",5)(3,"h3",26)(4,"button",27),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.initTable())}),t._uU(5,"Generate Table"),t.qZA()()(),t.TgZ(6,"div",28)(7,"table",29)(8,"thead")(9,"tr",30)(10,"th",31),t._uU(11,"Code ASC"),t.qZA(),t.TgZ(12,"th",32),t._uU(13,"Nom ASC"),t.qZA(),t.TgZ(14,"th",33),t._uU(15,"Pcime"),t.qZA(),t.TgZ(16,"th",33),t._uU(17,"Maternel & PF"),t.qZA(),t.TgZ(18,"th",33),t._uU(19,"Consultation"),t.qZA(),t.TgZ(20,"th",33),t._uU(21,"Recherche"),t.qZA(),t.TgZ(22,"th",33),t._uU(23,"Total"),t.qZA(),t.TgZ(24,"th",31),t._uU(25,"Diff"),t.qZA(),t.TgZ(26,"th",31),t._uU(27,"Ratio"),t.qZA()(),t.TgZ(28,"tr",30)(29,"th",34),t._uU(30,"APPLI"),t.qZA(),t.TgZ(31,"th",34),t._uU(32,"DHIS2"),t.qZA(),t.TgZ(33,"th",34),t._uU(34,"APPLI"),t.qZA(),t.TgZ(35,"th",34),t._uU(36,"DHIS2"),t.qZA(),t.TgZ(37,"th",34),t._uU(38,"APPLI"),t.qZA(),t.TgZ(39,"th",34),t._uU(40,"DHIS2"),t.qZA(),t.TgZ(41,"th",34),t._uU(42,"APPLI"),t.qZA(),t.TgZ(43,"th",34),t._uU(44,"DHIS2"),t.qZA(),t.TgZ(45,"th",34),t._uU(46,"APPLI"),t.qZA(),t.TgZ(47,"th",34),t._uU(48,"DHIS2"),t.qZA()()(),t.TgZ(49,"tbody"),t.YNc(50,J,30,17,"tr",35),t.qZA()()()()()}if(2&a){const e=t.oxw();t.xp6(50),t.Q6J("ngForOf",e.bodyData)("ngForTrackBy",e.identifyBodyData)}}let E=(()=>{class a{constructor(e){this.sync=e,this.bodyData=[],this.ChwsDataFromDb$=[],this.Districts$=[],this.Chws$=[],this.Sites$=[],this.chws$=[],this.sites$=[],this.responseMessage=""}createDataFilterFormGroup(){return new h.cw({start_date:new h.NI(this.initDate.start_date,[h.kI.required,h.kI.minLength(7)]),end_date:new h.NI(this.initDate.end_date,[h.kI.required,h.kI.minLength(7)]),districts:new h.NI(""),sites:new h.NI("")})}identifyBodyData(e,i){return i.Code}ngOnInit(){this.isLoading=!1,this.initDate=s.E.startEnd21and20Date(),this.aggradateDataForm=this.createDataFilterFormGroup(),this.initAllData()}initAllData(){var e=this;return(0,C.Z)(function*(){e.isLoading=!0,e.initMsg="Chargement des Districts ...",e.sync.getDistrictsList().subscribe(function(){var i=(0,C.Z)(function*(r){200==r.status&&(e.Districts$=r.data),e.initMsg="Chargement des Sites ...",e.sync.getSitesList().subscribe(function(){var m=(0,C.Z)(function*(p){200==p.status&&(e.Sites$=p.data),e.genarateSites(),e.initMsg="Chargement des ASC ...",e.sync.getChwsList().subscribe(function(){var u=(0,C.Z)(function*(o){200==o.status&&(e.Chws$=o.data,e.chws$=o.data),e.isLoading=!1});return function(o){return u.apply(this,arguments)}}(),u=>{e.isLoading=!1,console.log(u.error)})});return function(p){return m.apply(this,arguments)}}(),m=>{e.isLoading=!1,console.log(m.error)})});return function(r){return i.apply(this,arguments)}}(),i=>{e.isLoading=!1,console.log(i.error)})})()}genarateSites(){this.sites$=[],this.chws$=[];const e=this.aggradateDataForm.value.districts;if(this.aggradateDataForm.value.sites="",this.aggradateDataForm.value.chws=[],s.F.notNull(e))for(let i=0;i<this.Sites$.length;i++){const r=this.Sites$[i];s.F.notNull(r)&&e.includes(r.district.id)&&this.sites$.push(r)}else this.sites$=[]}genarateChws(){const e=s.F.returnDataAsArray(this.aggradateDataForm.value.sites);if(this.chws$=[],this.aggradateDataForm.value.chws=[],s.F.notNull(e))for(let i=0;i<this.Chws$.length;i++){const r=this.Chws$[i];s.F.notNull(r)&&e.includes(r.site.id)&&this.chws$.push(r)}else this.chws$=this.Chws$}ParamsToFilter(){return{start_date:this.aggradateDataForm.value.start_date,end_date:this.aggradateDataForm.value.end_date,districts:s.F.returnDataAsArray(this.aggradateDataForm.value.districts),sites:s.F.returnDataAsArray(this.aggradateDataForm.value.sites),chws:s.F.returnEmptyArrayIfNul(this.aggradateDataForm.value.chws)}}initDataFilted(e){this.isLoading=!0,this.sync.getAllChwsDataWithParams(e??this.ParamsToFilter()).subscribe(i=>{200==i.status?(this.ChwsDataFromDb$=i.data,this.getAllAboutData(e??this.ParamsToFilter())):(this.isLoading=!1,this.responseMessage=i.data)},i=>{this.isLoading=!1,console.log(i)})}getAllAboutData(e){const{start_date:i,end_date:r,sites:m}=e;var p={};for(let u=0;u<this.chws$.length;u++){const o=this.chws$[u].id;s.F.notNull(o)&&(p.hasOwnProperty(o)||(p[o]={chwId:o,app_total_child_followup:0,dhis_total_child_followup:0,app_total_num_fp_followup:0,dhis_total_num_fp_followup:0,app_total_active_research:0,dhis_total_active_research:0,app_total_consultation_followup:0,dhis_total_consultation_followup:0,app_total_home_visit:0,dhis_total_home_visit:0}))}for(let u=0;u<this.ChwsDataFromDb$.length;u++){const o=this.ChwsDataFromDb$[u];if(null!=o){const l=o.form,w=null!=o.chw&&s.F.notNull(o.chw.id)?o.chw.id:"",v=null!=o.site&&s.F.notNull(o.site.id)?o.site.id:"",f=s.F.notNull(v)&&s.F.notNull(m)&&m?.includes(v)||!s.F.notNull(m),n=!(!s.F.notNull(i)||!s.F.notNull(r))&&s.E.isBetween(`${i}`,o.reported_date,`${r}`);f&&n&&p.hasOwnProperty(w)&&("dhis2"==o.source?("PCIME"===l&&(p[w].dhis_total_child_followup+=1),("Maternelle"===l||"PF"===l)&&(p[w].dhis_total_num_fp_followup+=1),"Recherche"===l&&(p[w].dhis_total_active_research+=1),"Recherche"!==l&&(p[w].dhis_total_consultation_followup+=1),p[w].dhis_total_home_visit+=1):"Tonoudayo"==o.source&&(q.child_forms.includes(l)&&(p[w].app_total_child_followup+=1),q.num_fp_forms.includes(l)&&(p[w].app_total_num_fp_followup+=1),"home_visit"===l&&(p[w].app_total_active_research+=1),q.consultations_followup_forms.includes(l)&&(p[w].app_total_consultation_followup+=1),q.home_actions_forms.includes(l)&&(p[w].app_total_home_visit+=1)))}}this.bodyData=[],Object.entries(p).map(([u,o])=>{const l=o;this.bodyData.push({Code:this.getChwInfos(l.chwId).external_id,Name:this.getChwInfos(l.chwId).name,Pcime:l.app_total_child_followup,PcimeDhis2:l.dhis_total_child_followup,MaternellePf:l.app_total_num_fp_followup,MaternellePfDhis2:l.dhis_total_num_fp_followup,Recherche:l.app_total_active_research,RechercheDhis:l.dhis_total_active_research,Consultation:l.app_total_consultation_followup,ConsultationDhis:l.dhis_total_consultation_followup,Total:l.app_total_home_visit,TotalDhis:l.dhis_total_home_visit,TotalDiff:this.getRatio(l.app_total_home_visit,l.dhis_total_home_visit,!1).value,Ratio:this.getRatio(l.app_total_home_visit,l.dhis_total_home_visit)})}),this.isLoading=!1}getDataValuesElements(e){for(let i=0;i<e.dataValues.length;i++){const r=e.dataValues[i];if(r.dataElement==e.dataElement&&r.value==e.value)return!0}return!1}getRatio(e,i,r=!0){var m=0,p="success",u=e-i;if(r){const o=100*(e>0?u/e:i/100);(m=+(o<0?-1*o:o).toFixed(2))>0&&m<=5&&(p="warning"),m>5&&(p="danger")}else m=+(u<0?-1*u:u).toFixed(2);return{value:m,color:p}}initTable(){initDataTable("compare_data",!1)}getChwInfos(e,i=!1){for(let m=0;m<this.chws$.length;m++){const p=this.chws$[m];if(s.F.notNull(p))if(1==i){if(s.F.notNull(p.external_id)&&p.external_id==e)return p}else if(s.F.notNull(p.id)&&p.id==e)return p}}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(U._))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-dashboard-1"]],decls:40,vars:6,consts:[[1,"content-header"],[1,"container-fluid"],[1,"card","card-info"],[1,"overlay-wrapper"],["class","overlay",4,"ngIf"],[1,"card-header"],["novalidate","",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-sm-2","col-6"],[1,"form-group"],["type","date","formControlName","start_date",1,"form-control"],["type","date","formControlName","end_date",1,"form-control"],["formControlName","districts",1,"form-control",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","sites",1,"form-control",3,"change"],[1,"col-sm-1","col-6"],["type","submit",1,"btn","btn-warning","form-control",3,"disabled"],[1,"fa","fa-floppy-o","fa-right"],["class","content",4,"ngIf"],[1,"overlay"],[1,"fas","fa-3x","fa-sync-alt","fa-spin"],[1,"text-bold","pt-2"],[3,"value"],[1,"content"],[1,"card"],[1,"card-title"],["type","button",3,"click"],[1,"card-body"],["id","compare_data",1,"table","table-bordered","table-hover"],[1,"bg-primary"],["rowspan","2",2,"width","50px"],["rowspan","2",2,"width","150px"],["colspan","2",2,"width","50px"],[2,"width","50px"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"info"],[1,"warning"],[1,"primary"],[1,"final"],[1,""]],template:function(e,i){1&e&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),t.YNc(4,L,4,1,"div",4),t.TgZ(5,"div",5)(6,"form",6),t.NdJ("ngSubmit",function(){return i.initDataFilted()}),t.TgZ(7,"div",7)(8,"div",8)(9,"div",9)(10,"label"),t._uU(11,"Date D\xe9but"),t.qZA(),t._UZ(12,"input",10),t.qZA()(),t.TgZ(13,"div",8)(14,"div",9)(15,"label"),t._uU(16,"Date Fin"),t.qZA(),t._UZ(17,"input",11),t.qZA()(),t.TgZ(18,"div",8)(19,"div",9)(20,"label"),t._uU(21,"District"),t.qZA(),t.TgZ(22,"select",12),t.NdJ("change",function(){return i.genarateSites()}),t._UZ(23,"option",13),t.YNc(24,O,2,2,"option",14),t.qZA()()(),t.TgZ(25,"div",8)(26,"div",9)(27,"label"),t._uU(28,"Site"),t.qZA(),t.TgZ(29,"select",15),t.NdJ("change",function(){return i.genarateChws()}),t._UZ(30,"option",13),t.YNc(31,z,2,2,"option",14),t.qZA()()(),t.TgZ(32,"div",16)(33,"div",9)(34,"label"),t._uU(35,"."),t.qZA(),t.TgZ(36,"button",17),t._uU(37," OK "),t._UZ(38,"span",18),t.qZA()()()()()()()()()(),t.YNc(39,M,51,2,"section",19)),2&e&&(t.xp6(4),t.Q6J("ngIf",i.isLoading),t.xp6(2),t.Q6J("formGroup",i.aggradateDataForm),t.xp6(18),t.Q6J("ngForOf",i.Districts$),t.xp6(7),t.Q6J("ngForOf",i.sites$),t.xp6(5),t.Q6J("disabled",!i.aggradateDataForm.valid),t.xp6(3),t.Q6J("ngIf",i.bodyData.length>0))},dependencies:[F.sg,F.O5,h._Y,h.YN,h.Kr,h.Fj,h.EJ,h.JJ,h.JL,h.sg,h.u],styles:[".info[_ngcontent-%COMP%]{color:#00f;font-weight:bolder}.warning[_ngcontent-%COMP%]{color:orange;font-size:large;font-weight:bolder}.primary[_ngcontent-%COMP%]{color:purple;font-size:large;font-weight:bolder}.final[_ngcontent-%COMP%]{color:green;font-size:large;font-weight:bolder}.line[_ngcontent-%COMP%]{color:#000;font-size:large;font-weight:bolder}"]}),a})();var I=b(8171);function Y(a,d){if(1&a&&(t.TgZ(0,"div",22),t._UZ(1,"i",23),t.TgZ(2,"div",24),t._uU(3),t.qZA()()),2&a){const e=t.oxw();t.xp6(3),t.hij(" ",e.initMsg,"")}}function Q(a,d){if(1&a&&(t.TgZ(0,"option",25),t._uU(1),t.qZA()),2&a){const e=d.$implicit;t.s9C("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function G(a,d){if(1&a&&(t.TgZ(0,"option",25),t._uU(1),t.qZA()),2&a){const e=d.$implicit;t.s9C("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function k(a,d){if(1&a&&(t.TgZ(0,"option",25),t._uU(1),t.qZA()),2&a){const e=d.$implicit;t.s9C("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function j(a,d){if(1&a&&(t.TgZ(0,"select",26),t._UZ(1,"option",11),t.YNc(2,k,2,2,"option",12),t.qZA()),2&a){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.chws$)}}function R(a,d){1&a&&t._UZ(0,"select",27)}function B(a,d){if(1&a&&(t.TgZ(0,"div",14)(1,"div")(2,"div",28)(3,"h3",29),t._uU(4),t.qZA(),t.TgZ(5,"p")(6,"strong"),t._uU(7),t.qZA()()(),t.TgZ(8,"div",30),t._UZ(9,"i"),t.qZA()()()),2&a){const e=d.$implicit;t.xp6(1),t.Gre("small-box ",e.color,""),t.xp6(3),t.Oqu(e.count),t.xp6(3),t.Oqu(e.label),t.xp6(2),t.Gre("ion ",e.icon,"")}}function H(a,d){if(1&a&&(t.TgZ(0,"div",20),t._UZ(1,"i",21),t.TgZ(2,"div",22),t._uU(3),t.qZA()()),2&a){const e=t.oxw();t.xp6(3),t.hij(" ",e.initMsg,"")}}function K(a,d){if(1&a&&(t.TgZ(0,"option",26),t._uU(1),t.qZA()),2&a){const e=d.$implicit;t.s9C("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function X(a,d){if(1&a){const e=t.EpF();t.TgZ(0,"select",23),t.NdJ("change",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.genarateSites())}),t._UZ(1,"option",24),t.YNc(2,K,2,2,"option",25),t.qZA()}if(2&a){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.Districts$)}}function W(a,d){1&a&&t._UZ(0,"select",27)}function P(a,d){if(1&a&&(t.TgZ(0,"option",26),t._uU(1),t.qZA()),2&a){const e=d.$implicit;t.s9C("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function tt(a,d){if(1&a){const e=t.EpF();t.TgZ(0,"select",28),t.NdJ("change",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.genarateChws())}),t._UZ(1,"option",24),t.YNc(2,P,2,2,"option",25),t.qZA()}if(2&a){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.sites$)}}function et(a,d){1&a&&t._UZ(0,"select",27)}function it(a,d){if(1&a&&(t.TgZ(0,"option",26),t._uU(1),t.qZA()),2&a){const e=d.$implicit;t.s9C("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function nt(a,d){if(1&a&&(t.TgZ(0,"select",29),t._UZ(1,"option",24),t.YNc(2,it,2,2,"option",25),t.qZA()),2&a){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.chws$)}}function ot(a,d){1&a&&t._UZ(0,"select",27)}function st(a,d){if(1&a&&(t.TgZ(0,"option",26),t._uU(1),t.qZA()),2&a){const e=d.$implicit;t.s9C("value",e),t.xp6(1),t.hij(" ",e," ")}}function at(a,d){if(1&a&&(t.TgZ(0,"div",8)(1,"div",9)(2,"label"),t._uU(3,"Source"),t.qZA(),t.TgZ(4,"select",30),t._UZ(5,"option",24),t.YNc(6,st,2,2,"option",25),t.qZA()()()),2&a){const e=t.oxw();t.xp6(6),t.Q6J("ngForOf",e.Sources$)}}function _t(a,d){if(1&a&&(t.TgZ(0,"div",33)(1,"div",34)(2,"div",35)(3,"h3",36),t._uU(4),t.qZA(),t.TgZ(5,"p")(6,"strong"),t._uU(7),t.qZA()()(),t.TgZ(8,"div",37),t._UZ(9,"i"),t.qZA()()()),2&a){const e=d.$implicit;t.xp6(1),t.Gre("small-box ",e.color,""),t.xp6(3),t.Oqu(e.count),t.xp6(3),t.Oqu(e.label),t.xp6(2),t.Gre("ion ",e.icon,"")}}function rt(a,d){if(1&a&&(t.TgZ(0,"div",31),t.YNc(1,_t,10,8,"div",32),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.allAggragateData)("ngForTrackBy",e.identifyAggragateData)}}function lt(a,d){if(1&a&&(t.TgZ(0,"div",31)(1,"div",33),t._uU(2),t.qZA()()),2&a){const e=t.oxw();t.xp6(2),t.hij(" ",e.ChwsDataFromDbError," ")}}const mt=[{path:"",redirectTo:"dash1",pathMatch:"full"},{path:"dash1",component:E,canActivate:[x.a],data:{href:"dashboard1",icon:"fa fa-user",label:"Dashboard-1",title:"Dashboard-1"}},{path:"dash2",component:(()=>{class a{constructor(e,i){this.db=e,this.sync=i,this.allAggragateData=[],this.Districts$=[],this.Sites$=[],this.Chws$=[],this.Zones$=[],this.Patients$=[],this.Families$=[],this.chws$=[],this.sites$=[],this.districtsChwsCount=0,this.sitesChwsCount=0,this.zonesChwsCount=0,this.patientsChwsCount=0,this.familiesChwsCount=0,this.chwsCount=0}createDataFilterFormGroup(){return new h.cw({districts:new h.NI(""),sites:new h.NI(""),chws:new h.NI("")})}identifyAggragateData(e,i){return i.label}ngOnInit(){this.isLoading=!1,this.aggradateDataForm=this.createDataFilterFormGroup(),this.initAllData()}initAllData(){var e=this;return(0,C.Z)(function*(){e.isLoading=!0;const i=e.ParamsToFilter();e.initMsg="Chargement des Districts ...",e.sync.getDistrictsList(i).subscribe(function(){var r=(0,C.Z)(function*(m){200==m.status&&(e.Districts$=m.data),e.initMsg="Chargement des Sites ...",e.sync.getSitesList(i).subscribe(function(){var p=(0,C.Z)(function*(u){200==u.status&&(e.Sites$=u.data),e.genarateSites(),e.initMsg="Chargement des Zones ...",e.sync.getZonesList(i).subscribe(function(){var o=(0,C.Z)(function*(l){200==l.status&&(e.Zones$=l.data),e.initMsg="Chargement des ASC ...",e.sync.getChwsList(i).subscribe(function(){var w=(0,C.Z)(function*(v){200==v.status&&(e.Chws$=v.data),e.genarateChws(),e.initMsg="Chargement des Familles ...",e.sync.getFamilyList(i).subscribe(function(){var f=(0,C.Z)(function*(n){200==n.status&&(e.Families$=n.data),e.initMsg="Chargement des Patients ...",e.sync.getPatientsList(i).subscribe(function(){var _=(0,C.Z)(function*(c){200==c.status&&(e.Patients$=c.data),e.initDataFilted(i)});return function(c){return _.apply(this,arguments)}}(),_=>{e.isLoading=!1,console.log(_)})});return function(n){return f.apply(this,arguments)}}(),f=>{e.isLoading=!1,console.log(f.error)})});return function(v){return w.apply(this,arguments)}}(),w=>{e.isLoading=!1,console.log(w.error)})});return function(l){return o.apply(this,arguments)}}(),o=>{e.isLoading=!1,console.log(o.error)})});return function(u){return p.apply(this,arguments)}}(),p=>{e.isLoading=!1,console.log(p.error)})});return function(m){return r.apply(this,arguments)}}(),r=>{e.isLoading=!1,console.log(r.error)})})()}formatHostName(e){return e.replace(".org","").replace("-",".").trim()}genarateSites(){this.sites$=[],this.chws$=[];const e=this.aggradateDataForm.value.districts;if(this.aggradateDataForm.value.sites="",this.aggradateDataForm.value.chws=[],s.F.notNull(e))for(let i=0;i<this.Sites$.length;i++){const r=this.Sites$[i];s.F.notNull(r)&&e.includes(r.district.id)&&this.sites$.push(r)}else this.sites$=[]}genarateChws(){const e=s.F.returnDataAsArray(this.aggradateDataForm.value.sites);if(this.chws$=[],this.aggradateDataForm.value.chws=[],s.F.notNull(e))for(let i=0;i<this.Chws$.length;i++){const r=this.Chws$[i];s.F.notNull(r)&&e.includes(r.site.id)&&this.chws$.push(r)}else this.chws$=[]}ParamsToFilter(){return{districts:s.F.returnDataAsArray(this.aggradateDataForm.value.districts),sites:s.F.returnDataAsArray(this.aggradateDataForm.value.sites),chws:s.F.returnEmptyArrayIfNul(this.aggradateDataForm.value.chws)}}initDataFilted(e){this.isLoading=!0;const{chws:m,sites:p,districts:u}=e??this.ParamsToFilter();this.districtsChwsCount=0,this.sitesChwsCount=0,this.familiesChwsCount=0,this.patientsChwsCount=0,this.zonesChwsCount=0,this.chwsCount=0,this.allAggragateData=[];for(let _=0;_<this.Districts$.length;_++){const c=this.Districts$[_];s.F.notNull(u)?u?.includes(c.id)&&this.districtsChwsCount++:this.districtsChwsCount++}for(let _=0;_<this.Sites$.length;_++){const c=this.Sites$[_];s.F.notNull(u)?u?.includes(c.district.id)&&this.sitesChwsCount++:this.sitesChwsCount++}for(let _=0;_<this.Families$.length;_++){const c=this.Families$[_];s.F.notNull(u)&&s.F.notNull(p)&&s.F.notNull(m)?u?.includes(c.site.district.id)&&p?.includes(c.site.id)&&m?.includes(c.zone.chw_id)&&this.familiesChwsCount++:s.F.notNull(u)&&s.F.notNull(p)&&!s.F.notNull(m)?u?.includes(c.site.district.id)&&p?.includes(c.site.id)&&this.familiesChwsCount++:(!s.F.notNull(u)||s.F.notNull(p)||s.F.notNull(m)||u?.includes(c.site.district.id))&&this.familiesChwsCount++}for(let _=0;_<this.Patients$.length;_++){const c=this.Patients$[_];s.F.notNull(u)&&s.F.notNull(p)&&s.F.notNull(m)?u?.includes(c.site.district.id)&&p?.includes(c.site.id)&&m?.includes(c.zone.chw_id)&&this.patientsChwsCount++:s.F.notNull(u)&&s.F.notNull(p)&&!s.F.notNull(m)?u?.includes(c.site.district.id)&&p?.includes(c.site.id)&&this.patientsChwsCount++:(!s.F.notNull(u)||s.F.notNull(p)||s.F.notNull(m)||u?.includes(c.site.district.id))&&this.patientsChwsCount++}for(let _=0;_<this.Zones$.length;_++){const c=this.Zones$[_];s.F.notNull(u)&&s.F.notNull(p)&&s.F.notNull(m)?u?.includes(c.site.district.id)&&p?.includes(c.site.id)&&m?.includes(c.chw_id)&&this.zonesChwsCount++:s.F.notNull(u)&&s.F.notNull(p)&&!s.F.notNull(m)?u?.includes(c.site.district.id)&&p?.includes(c.site.id)&&this.zonesChwsCount++:(!s.F.notNull(u)||s.F.notNull(p)||s.F.notNull(m)||u?.includes(c.site.district.id))&&this.zonesChwsCount++}for(let _=0;_<this.Chws$.length;_++){const c=this.Chws$[_];s.F.notNull(u)&&s.F.notNull(p)&&s.F.notNull(m)?u?.includes(c.site.district.id)&&p?.includes(c.site.id)&&m?.includes(c.zone.chw_id)&&this.chwsCount++:s.F.notNull(u)&&s.F.notNull(p)&&!s.F.notNull(m)?u?.includes(c.site.district.id)&&p?.includes(c.site.id)&&this.chwsCount++:(!s.F.notNull(u)||s.F.notNull(p)||s.F.notNull(m)||u?.includes(c.site.district.id))&&this.chwsCount++}let o={label:s.F.capitaliseDataGiven("total_site_enregistre","_"," "),count:this.districtsChwsCount,icon:"ion-stats-bars",color:"bg-info",detailUrl:"/dashboards/dash1"},l={label:s.F.capitaliseDataGiven("total_site_enregistre","_"," "),count:this.sitesChwsCount,icon:"ion-stats-bars",color:"bg-success",detailUrl:"/dashboards/dash1"},w={label:s.F.capitaliseDataGiven("total_ASC_enregistre","_"," "),count:this.chwsCount,icon:"ion-person-add",color:"bg-warning",detailUrl:"/dashboards/dash1"},v={label:s.F.capitaliseDataGiven("total_famille_enregistre","_"," "),count:this.familiesChwsCount,icon:"ion-pie-graph",color:"bg-danger",detailUrl:"/dashboards/dash1"},f={label:s.F.capitaliseDataGiven("total_patient_enregistre","_"," "),count:this.patientsChwsCount,icon:"ion-bag",color:"bg-primary",detailUrl:"/dashboards/dash1"},n={label:s.F.capitaliseDataGiven("total_zone_enregistre","_"," "),count:this.zonesChwsCount,icon:"ion-bag",color:"bg-success",detailUrl:"/dashboards/dash1"};this.allAggragateData.push(o),this.allAggragateData.push(l),this.allAggragateData.push(w),this.allAggragateData.push(v),this.allAggragateData.push(f),this.allAggragateData.push(n),this.initMsg="",this.isLoading=!1}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(I.p),t.Y36(U._))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-dashboard-2"]],decls:38,vars:9,consts:[[1,"content"],[1,"container-fluid"],[1,"card","card-warning"],[1,"overlay-wrapper"],["class","overlay",4,"ngIf"],[1,"card-header"],["novalidate","",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-sm-2","col-6"],[1,"form-group"],["formControlName","districts",1,"form-control",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","sites",1,"form-control",3,"change","click"],[1,"col-sm-3","col-6"],["class","form-control","multiple","multiple","formControlName","chws",4,"ngIf"],["class","form-control",4,"ngIf"],[1,"col-sm-1","col-6"],["type","submit",1,"btn","btn-warning","form-control",3,"disabled"],[1,"nav-icon","fas","fa-search"],[1,"row","card-body"],["class","col-sm-3 col-6",4,"ngFor","ngForOf","ngForTrackBy"],[1,"overlay"],[1,"fas","fa-3x","fa-sync-alt","fa-spin"],[1,"text-bold","pt-2"],[3,"value"],["multiple","multiple","formControlName","chws",1,"form-control"],[1,"form-control"],[1,"inner"],[2,"font-size","40px"],[1,"icon"]],template:function(e,i){1&e&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),t.YNc(4,Y,4,1,"div",4),t.TgZ(5,"div",5)(6,"form",6),t.NdJ("ngSubmit",function(){return i.initAllData()}),t.TgZ(7,"div",7)(8,"div",8)(9,"div",9)(10,"label"),t._uU(11,"District"),t.qZA(),t.TgZ(12,"select",10),t.NdJ("change",function(){return i.genarateSites()}),t._UZ(13,"option",11),t.YNc(14,Q,2,2,"option",12),t.qZA()()(),t.TgZ(15,"div",8)(16,"div",9)(17,"label"),t._uU(18,"Site"),t.qZA(),t.TgZ(19,"select",13),t.NdJ("change",function(){return i.genarateChws()})("click",function(){return i.genarateChws()}),t._UZ(20,"option",11),t.YNc(21,G,2,2,"option",12),t.qZA()()(),t.TgZ(22,"div",14)(23,"div",9)(24,"label"),t._uU(25,"ASC"),t.qZA(),t.YNc(26,j,3,1,"select",15),t.YNc(27,R,1,0,"select",16),t.qZA()(),t.TgZ(28,"div",17)(29,"div",9)(30,"label"),t._uU(31,"."),t.qZA(),t.TgZ(32,"button",18),t._UZ(33,"i",19),t.qZA()()()()()()()(),t.TgZ(34,"div",20),t.YNc(35,B,10,8,"div",21),t.qZA(),t._UZ(36,"br")(37,"br"),t.qZA()()),2&e&&(t.xp6(4),t.Q6J("ngIf",i.isLoading),t.xp6(2),t.Q6J("formGroup",i.aggradateDataForm),t.xp6(8),t.Q6J("ngForOf",i.Districts$),t.xp6(7),t.Q6J("ngForOf",i.sites$),t.xp6(5),t.Q6J("ngIf",i.chws$.length>0),t.xp6(1),t.Q6J("ngIf",0==i.chws$.length),t.xp6(5),t.Q6J("disabled",!i.aggradateDataForm.valid),t.xp6(3),t.Q6J("ngForOf",i.allAggragateData)("ngForTrackBy",i.identifyAggragateData))},dependencies:[F.sg,F.O5,h._Y,h.YN,h.Kr,h.EJ,h.K7,h.JJ,h.JL,h.sg,h.u],encapsulation:2}),a})(),canActivate:[x.a],data:{href:"dashboard2",icon:"fa fa-user",label:"Dashboard-2",title:"Dashboard-2"}},{path:"dash3",component:(()=>{class a{constructor(e,i){this.db=e,this.sync=i,this.allAggragateData=[],this.options={Chart:{type:"area",height:700},title:{text:"Donn\xe9es par ASC"},credits:{enabled:!1},xAxis:{categories:["ASC1","ASC2","ASC3","ASC4","ASC5","ASC6","ASC7"],tickmarkPlacement:"on",title:{enabled:!0}},yAxis:{categories:[],max:5268,min:0,tickmarkPlacement:"on",title:{enabled:!1}},series:[{name:"Recherche Active",data:[502,635,809,947,1402,3634,5268]},{name:"Pcime",data:[163,203,276,408,547,729,628]},{name:"Maternel",data:[18,31,54,156,339,818,1201]}]},this.ChwsDataFromDb$=[],this.ChwsDataFromDbError="",this.Sources$=[],this.Districts$=[],this.Sites$=[],this.Chws$=[],this.Zones$=[],this.Patients$=[],this.Families$=[],this.chws$=[],this.sites$=[]}createDataFilterFormGroup(){return new h.cw({start_date:new h.NI(this.initDate.start_date,[h.kI.required,h.kI.minLength(7)]),end_date:new h.NI(this.initDate.end_date,[h.kI.required,h.kI.minLength(7)]),sources:new h.NI(""),districts:new h.NI("",[h.kI.required]),sites:new h.NI(""),chws:new h.NI("")})}identifyAggragateData(e,i){return i.label}ngOnInit(){this.isLoading=!1,this.initDate=s.E.startEnd21and20Date(),this.aggradateDataForm=this.createDataFilterFormGroup(),this.initAllData()}initAllData(){var e=this;return(0,C.Z)(function*(){e.isLoading=!0;const i=e.ParamsToFilter();e.initMsg="Chargement des Districts ...",e.sync.getDistrictsList(i).subscribe(function(){var r=(0,C.Z)(function*(m){200==m.status&&(e.Districts$=m.data),e.initMsg="Chargement des Sites ...",e.sync.getSitesList(i).subscribe(function(){var p=(0,C.Z)(function*(u){200==u.status&&(e.Sites$=u.data),e.genarateSites(),e.initMsg="Chargement des ASC ...",e.sync.getChwsList(i).subscribe(function(){var o=(0,C.Z)(function*(l){200==l.status&&(e.Chws$=l.data),e.genarateChws(),e.isLoading=!1});return function(l){return o.apply(this,arguments)}}(),o=>{e.isLoading=!1,console.log(o.error)})});return function(u){return p.apply(this,arguments)}}(),p=>{e.isLoading=!1,console.log(p.error)})});return function(m){return r.apply(this,arguments)}}(),r=>{e.isLoading=!1,console.log(r.error)})})()}formatHostName(e){return e.replace(".org","").replace("-",".").trim()}genarateSites(){this.sites$=[],this.chws$=[];const e=s.F.returnEmptyArrayIfNul(this.aggradateDataForm.value.districts);if(this.aggradateDataForm.value.sites=[],this.aggradateDataForm.value.chws=[],s.F.notNull(e))for(let i=0;i<this.Sites$.length;i++){const r=this.Sites$[i];s.F.notNull(r)&&e.includes(r.district.id)&&this.sites$.push(r)}else this.sites$=[]}genarateChws(){const e=s.F.returnEmptyArrayIfNul(this.aggradateDataForm.value.sites);if(this.chws$=[],this.aggradateDataForm.value.chws=[],s.F.notNull(e))for(let i=0;i<this.Chws$.length;i++){const r=this.Chws$[i];s.F.notNull(r)&&e.includes(r.site.id)&&this.chws$.push(r)}else this.chws$=[]}ParamsToFilter(){return{start_date:this.aggradateDataForm.value.start_date,end_date:this.aggradateDataForm.value.end_date,sources:s.F.returnEmptyArrayIfNul(this.aggradateDataForm.value.sources),districts:s.F.returnEmptyArrayIfNul(this.aggradateDataForm.value.districts),sites:s.F.returnEmptyArrayIfNul(this.aggradateDataForm.value.sites),chws:s.F.returnEmptyArrayIfNul(this.aggradateDataForm.value.chws)}}returnEmptyArrayIfNul(e){return s.F.notNull(e)?e:[]}initDataFilted(e){this.isLoading=!0;const i=e??this.ParamsToFilter();this.defaultParams?.start_date!=i.start_date||this.defaultParams?.end_date!=i.end_date||this.defaultParams?.districts!=i.districts||this.defaultParams?.sites!=i.sites||this.defaultParams?.chws!=i.chws?(console.log(this.defaultParams?.start_date,i.start_date),console.log(this.defaultParams?.end_date,i.end_date),console.log(this.defaultParams?.districts,i.districts),console.log(this.defaultParams?.sites,i.sites),console.log(this.defaultParams?.chws,i.chws),this.ChwsDataFromDb$=[],this.ChwsDataFromDbError="",this.sync.getAllChwsDataWithParams(i).subscribe(r=>{if(200==r.status){this.ChwsDataFromDb$=r.data;for(let m=0;m<r.data.length;m++){const p=r.data[m];this.Sources$.includes(p.source)||this.Sources$.push(p.source)}this.defaultParams=i,console.log("zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz"),this.getAllAboutData()}else this.isLoading=!1,this.ChwsDataFromDbError=r.data.toString()},r=>{this.isLoading=!1,this.ChwsDataFromDbError=r.toString()})):(console.log("aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"),this.getAllAboutData())}getAllAboutData(){this.initMsg="D\xe9marrage du calcule des indicateurs ...";const{start_date:e,end_date:i,sources:r,districts:m,sites:p,chws:u}=this.ParamsToFilter();if(s.F.notNull(e)&&s.F.notNull(i)){var o={total_home_visit:{},total_pcime_soins:{},total_pcime_suivi:{},total_reference_pcime_suivi:{},total_reference_pcime_soins:{},total_diarrhee_pcime_soins:{},total_paludisme_pcime_soins:{},total_pneumonie_pcime_soins:{},total_malnutrition_pcime_soins:{},prompt_diarrhee_24h_pcime_soins:{},prompt_diarrhee_48h_pcime_soins:{},prompt_diarrhee_72h_pcime_soins:{},prompt_paludisme_24h_pcime_soins:{},prompt_paludisme_48h_pcime_soins:{},prompt_paludisme_72h_pcime_soins:{},prompt_pneumonie_24h_pcime_soins:{},prompt_pneumonie_48h_pcime_soins:{},prompt_pneumonie_72h_pcime_soins:{},total_pregnancy_family_planning:{},total_reference_family_planning_soins:{},total_reference_femme_enceinte_soins:{},total_vad_femme_enceinte_soins:{},total_vad_femme_enceinte_NC_soins:{},total_test_de_grossesse_domicile:{},total_newborn_suivi:{},total_reference_newborn:{},total_malnutrition_suivi:{},total_reference_malnutrition_suivi:{},total_prenatal_suivi:{},total_reference_prenatal_suivi:{},total_postnatal_suivi:{},total_reference_postnatal_suivi:{},total_vad_femme_postpartum_NC:{},total_vad_women_emergency_suivi:{},total_reference_women_emergency_suivi:{},total_femme_enceinte_women_emergency_suivi:{},total_femme_postpartum_women_emergency_suivi:{},total_family_planning_renewal_suivi:{},total_reference_family_planning_renewal_suivi:{},total_vad_family_planning_NC:{}};for(let v=0;v<this.Chws$.length;v++){const f=this.Chws$[v].id;null!=f&&""!=f&&Object.entries(o).map(([n,_])=>{const c=_;c.hasOwnProperty(f)||(c[f]={chwId:f,count:0})})}for(let v=0;v<this.ChwsDataFromDb$.length;v++){const f=this.ChwsDataFromDb$[v];if(null!=f){const n=f.form,_=f.fields,c=null!=f.source&&""!=f.source?f.source:"",y=null!=f.district.id&&null!=f.district.id&&""!=f.district.id?f.district.id:"",Z=null!=f.site&&null!=f.site.id&&""!=f.site.id?f.site.id:"",g=null!=f.chw&&null!=f.chw.id&&""!=f.chw.id?f.chw.id:"",T=s.F.notNull(c)&&s.F.notNull(r)&&r?.includes(c)||!s.F.notNull(r),N=s.F.notNull(y)&&s.F.notNull(m)&&m?.includes(y)||!s.F.notNull(m),A=s.F.notNull(Z)&&s.F.notNull(p)&&p?.includes(Z)||!s.F.notNull(p),$=s.F.notNull(g)&&s.F.notNull(u)&&u?.includes(g)||!s.F.notNull(u);if(s.F.notNull(e)&&s.F.notNull(i)&&s.E.isBetween(`${e}`,f.reported_date,`${i}`)&&T&&N&&A&&$){if("home_visit"===n&&(o.total_home_visit[g].count+=1),"pcime_c_asc"===n&&(o.total_pcime_soins[g].count+=1,"yes"==_["group_review.s_have_you_refer_child"]&&(o.total_reference_pcime_soins[g].count+=1),"true"==_.has_diarrhea&&(o.total_diarrhee_pcime_soins[g].count+=1,"true"==_.within_24h&&(o.prompt_diarrhee_24h_pcime_soins[g].count+=1),("true"==_.within_24h||"true"==_.within_48h)&&(o.prompt_diarrhee_48h_pcime_soins[g].count+=1),("true"==_.within_24h||"true"==_.within_48h||"true"==_.within_72h)&&(o.prompt_diarrhee_72h_pcime_soins[g].count+=1)),"true"==_.fever_with_malaria&&(o.total_paludisme_pcime_soins[g].count+=1,"true"==_.within_24h&&(o.prompt_paludisme_24h_pcime_soins[g].count+=1),("true"==_.within_24h||"true"==_.within_48h)&&(o.prompt_paludisme_48h_pcime_soins[g].count+=1),("true"==_.within_24h||"true"==_.within_48h||"true"==_.within_72h)&&(o.prompt_paludisme_72h_pcime_soins[g].count+=1)),"true"==_.has_pneumonia&&(o.total_pneumonie_pcime_soins[g].count+=1,"true"==_.within_24h&&(o.prompt_pneumonie_24h_pcime_soins[g].count+=1),("true"==_.within_24h||"true"==_.within_48h)&&(o.prompt_pneumonie_48h_pcime_soins[g].count+=1),("true"==_.within_24h||"true"==_.within_48h||"true"==_.within_72h)&&(o.prompt_pneumonie_72h_pcime_soins[g].count+=1)),"true"==_.has_malnutrition&&(o.total_malnutrition_pcime_soins[g].count+=1)),"pcime_c_followup"===n&&(o.total_pcime_suivi[g].count+=1,"yes"==_["group_review.s_have_you_refer_child"]&&(o.total_reference_pcime_suivi[g].count+=1)),"newborn_followup"===n&&(o.total_newborn_suivi[g].count+=1,"yes"==_["group_summary.s_have_you_refer_child"]&&(o.total_reference_newborn[g].count+=1)),"malnutrition_followup"===n&&(o.total_malnutrition_suivi[g].count+=1,"yes"==_["results_page.s_have_you_refer_child"]&&(o.total_reference_malnutrition_suivi[g].count+=1)),"prenatal_followup"===n&&(o.total_prenatal_suivi[g].count+=1,"yes"==_["group_summary.s_have_you_refer_child"]&&(o.total_reference_prenatal_suivi[g].count+=1)),"postnatal_followup"===n&&(o.total_postnatal_suivi[g].count+=1,"yes"==_["group_summary.s_have_you_refer_child"]&&(o.total_reference_postnatal_suivi[g].count+=1),"1"==_.follow_up_count&&(o.total_vad_femme_postpartum_NC[g].count+=1)),"pregnancy_family_planning"===n){o.total_pregnancy_family_planning[g].count+=1;var l="positive"==_["s_reg_pregnancy_screen.s_reg_urine_result"],w="already_pregnant"==_["s_reg_pregnancy_screen.s_reg_why_urine_test_not_done"];"yes"==_["s_reg_pregnancy_screen.s_reg_urine_test"]&&(o.total_test_de_grossesse_domicile[g].count+=1),"yes"==_["s_summary.s_have_you_refer_child"]&&!l&&!w&&(o.total_reference_family_planning_soins[g].count+=1),(l||w)&&(o.total_vad_femme_enceinte_soins[g].count+=1,"fp_followup"!=_["s_reg_mode.s_reg_how_found"]&&(o.total_vad_femme_enceinte_NC_soins[g].count+=1),"yes"==_["s_summary.s_have_you_refer_child"]&&(o.total_reference_femme_enceinte_soins[g].count+=1)),"yes"==_["s_fam_plan_screen.agreed_to_fp"]&&(o.total_vad_family_planning_NC[g].count+=1)}"women_emergency_followup"===n&&(o.total_vad_women_emergency_suivi[g].count+=1,"yes"==_["group_summary.s_have_you_refer_child"]&&(o.total_reference_women_emergency_suivi[g].count+=1),"pregnant"==_["initial.woman_status"]&&(o.total_femme_enceinte_women_emergency_suivi[g].count+=1),"postpartum"==_["initial.woman_status"]&&(o.total_femme_postpartum_women_emergency_suivi[g].count+=1)),"fp_follow_up_renewal"===n&&(o.total_family_planning_renewal_suivi[g].count+=1,"true"==_["check$2.s_refer_for_health_state"]&&(o.total_reference_family_planning_renewal_suivi[g].count+=1))}}}this.transformData(o)}}transformData(e){const{start_date:i,end_date:r}=this.ParamsToFilter();if(s.F.notNull(i)&&s.F.notNull(r)){var l={total_vad:0,total_vad_pcime_c:0,total_suivi_pcime_c:0,total_vad_femmes_enceinte:0,total_vad_femmes_postpartum:0,total_recherche_active:0,total_vad_family_planning:0,reference_femmes_pf:0,reference_pcime:0,reference_femmes_enceinte_postpartum:0,total_diarrhee_pcime_soins:0,total_paludisme_pcime_soins:0,total_pneumonie_pcime_soins:0,total_malnutrition_pcime_soins:0,prompt_diarrhee_24h_pcime_soins:0,prompt_diarrhee_48h_pcime_soins:0,prompt_diarrhee_72h_pcime_soins:0,prompt_paludisme_24h_pcime_soins:0,prompt_paludisme_48h_pcime_soins:0,prompt_paludisme_72h_pcime_soins:0,prompt_pneumonie_24h_pcime_soins:0,prompt_pneumonie_48h_pcime_soins:0,prompt_pneumonie_72h_pcime_soins:0,total_vad_femmes_enceintes_NC:0,total_vad_femme_postpartum_NC:0,total_test_de_grossesse_domicile:0};for(let v=0;v<this.Chws$.length;v++){const n=this.Chws$[v].id,_=e.total_home_visit[n].count+e.total_pcime_soins[n].count+e.total_pregnancy_family_planning[n].count+e.total_pcime_suivi[n].count+e.total_newborn_suivi[n].count+e.total_prenatal_suivi[n].count+e.total_postnatal_suivi[n].count+e.total_malnutrition_suivi[n].count+e.total_vad_women_emergency_suivi[n].count+e.total_family_planning_renewal_suivi[n].count,c=e.total_pcime_soins[n].count+e.total_pcime_suivi[n].count+e.total_newborn_suivi[n].count+e.total_malnutrition_suivi[n].count,y=e.total_pcime_suivi[n].count+e.total_newborn_suivi[n].count+e.total_malnutrition_suivi[n].count,Z=e.total_reference_family_planning_soins[n].count+e.total_reference_family_planning_renewal_suivi[n].count,g=e.total_reference_pcime_soins[n].count+e.total_reference_pcime_suivi[n].count+e.total_reference_newborn[n].count+e.total_reference_malnutrition_suivi[n].count,T=e.total_reference_femme_enceinte_soins[n].count+e.total_reference_prenatal_suivi[n].count+e.total_reference_postnatal_suivi[n].count+e.total_reference_women_emergency_suivi[n].count,N=e.total_vad_femme_enceinte_soins[n].count+e.total_prenatal_suivi[n].count+e.total_femme_enceinte_women_emergency_suivi[n].count,A=e.total_postnatal_suivi[n].count+e.total_femme_postpartum_women_emergency_suivi[n].count,$=_-(c+N+A+e.total_home_visit[n].count);l.total_vad+=_,l.total_vad_pcime_c+=c,l.total_suivi_pcime_c+=y,l.total_vad_femmes_enceinte+=N,l.total_vad_femmes_postpartum+=A,l.total_recherche_active+=e.total_home_visit[n].count,l.total_vad_family_planning=$,l.reference_femmes_pf+=Z,l.reference_pcime+=g,l.reference_femmes_enceinte_postpartum=T,l.total_diarrhee_pcime_soins+=e.total_diarrhee_pcime_soins[n].count,l.total_paludisme_pcime_soins+=e.total_paludisme_pcime_soins[n].count,l.total_pneumonie_pcime_soins+=e.total_pneumonie_pcime_soins[n].count,l.total_malnutrition_pcime_soins+=e.total_malnutrition_pcime_soins[n].count,l.prompt_diarrhee_24h_pcime_soins+=e.prompt_diarrhee_24h_pcime_soins[n].count,l.prompt_diarrhee_48h_pcime_soins+=e.prompt_diarrhee_48h_pcime_soins[n].count,l.prompt_diarrhee_72h_pcime_soins+=e.prompt_diarrhee_72h_pcime_soins[n].count,l.prompt_paludisme_24h_pcime_soins+=e.prompt_paludisme_24h_pcime_soins[n].count,l.prompt_paludisme_48h_pcime_soins+=e.prompt_paludisme_48h_pcime_soins[n].count,l.prompt_paludisme_72h_pcime_soins+=e.prompt_paludisme_72h_pcime_soins[n].count,l.prompt_pneumonie_24h_pcime_soins+=e.prompt_pneumonie_24h_pcime_soins[n].count,l.prompt_pneumonie_48h_pcime_soins+=e.prompt_pneumonie_48h_pcime_soins[n].count,l.prompt_pneumonie_72h_pcime_soins+=e.prompt_pneumonie_72h_pcime_soins[n].count,l.total_vad_femmes_enceintes_NC+=e.total_vad_femme_enceinte_NC_soins[n].count,l.total_vad_femme_postpartum_NC+=e.total_vad_femme_postpartum_NC[n].count,l.total_test_de_grossesse_domicile+=e.total_test_de_grossesse_domicile[n].count}this.allAggragateData=[],Object.entries(l).map(([v,f])=>{let n={label:s.F.capitaliseDataGiven(v,"_"," "),count:0,icon:"ion-stats-bars",color:"bg-info",detailUrl:"/dashboards/dash1"};return n.count=f,this.allAggragateData.push(n),""})}this.initMsg="",this.isLoading=!1}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(I.p),t.Y36(U._))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-dashboard-3"]],decls:48,vars:12,consts:[[1,"content"],[1,"container-fluid"],[1,"card","card-info"],[1,"overlay-wrapper"],["class","overlay",4,"ngIf"],[1,"card-header"],["novalidate","",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-sm-2","col-6"],[1,"form-group"],["type","date","formControlName","start_date",1,"form-control"],["type","date","formControlName","end_date",1,"form-control"],["class","form-control","multiple","multiple","formControlName","districts",3,"change",4,"ngIf"],["class","form-control",4,"ngIf"],["class","form-control","multiple","multiple","formControlName","sites",3,"change",4,"ngIf"],["class","form-control","multiple","multiple","formControlName","chws",4,"ngIf"],["class","col-sm-2 col-6",4,"ngIf"],["type","submit",1,"btn","btn-warning","form-control",3,"disabled"],[1,"fa","fa-floppy-o","fa-right"],["class","row card-body",4,"ngIf"],[1,"overlay"],[1,"fas","fa-3x","fa-sync-alt","fa-spin"],[1,"text-bold","pt-2"],["multiple","multiple","formControlName","districts",1,"form-control",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"form-control"],["multiple","multiple","formControlName","sites",1,"form-control",3,"change"],["multiple","multiple","formControlName","chws",1,"form-control"],["formControlName","sources",1,"form-control"],[1,"row","card-body"],["class","col-sm-3 col-6",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-sm-3","col-6"],[2,"border","1px solid black"],[1,"inner"],[2,"font-size","40px"],[1,"icon"]],template:function(e,i){1&e&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),t.YNc(4,H,4,1,"div",4),t.TgZ(5,"div",5)(6,"form",6),t.NdJ("ngSubmit",function(){return i.initDataFilted()}),t.TgZ(7,"div",7)(8,"div",8)(9,"div",9)(10,"label"),t._uU(11,"Date D\xe9but"),t.qZA(),t._UZ(12,"input",10),t.qZA()(),t.TgZ(13,"div",8)(14,"div",9)(15,"label"),t._uU(16,"Date Fin"),t.qZA(),t._UZ(17,"input",11),t.qZA()(),t.TgZ(18,"div",8)(19,"div",9)(20,"label"),t._uU(21,"District"),t.qZA(),t.YNc(22,X,3,1,"select",12),t.YNc(23,W,1,0,"select",13),t.qZA()(),t.TgZ(24,"div",8)(25,"div",9)(26,"label"),t._uU(27,"Site"),t.qZA(),t.YNc(28,tt,3,1,"select",14),t.YNc(29,et,1,0,"select",13),t.qZA()(),t.TgZ(30,"div",8)(31,"div",9)(32,"label"),t._uU(33,"ASC"),t.qZA(),t.YNc(34,nt,3,1,"select",15),t.YNc(35,ot,1,0,"select",13),t.qZA()(),t.YNc(36,at,7,1,"div",16),t.TgZ(37,"div",8)(38,"div",9)(39,"label"),t._uU(40,"."),t.qZA(),t.TgZ(41,"button",17),t._uU(42," OK "),t._UZ(43,"span",18),t.qZA()()()()()()()(),t.YNc(44,rt,2,2,"div",19),t.YNc(45,lt,3,1,"div",19),t._UZ(46,"br")(47,"br"),t.qZA()()),2&e&&(t.xp6(4),t.Q6J("ngIf",i.isLoading),t.xp6(2),t.Q6J("formGroup",i.aggradateDataForm),t.xp6(16),t.Q6J("ngIf",i.Districts$.length>0),t.xp6(1),t.Q6J("ngIf",0==i.Districts$.length),t.xp6(5),t.Q6J("ngIf",i.sites$.length>0),t.xp6(1),t.Q6J("ngIf",0==i.sites$.length),t.xp6(5),t.Q6J("ngIf",i.chws$.length>0),t.xp6(1),t.Q6J("ngIf",0==i.chws$.length),t.xp6(1),t.Q6J("ngIf",i.Sources$.length>0),t.xp6(5),t.Q6J("disabled",!i.aggradateDataForm.valid),t.xp6(3),t.Q6J("ngIf",i.allAggragateData.length>0),t.xp6(1),t.Q6J("ngIf",i.allAggragateData.length<=0&&""!=i.ChwsDataFromDbError))},dependencies:[F.sg,F.O5,h._Y,h.YN,h.Kr,h.Fj,h.EJ,h.K7,h.JJ,h.JL,h.sg,h.u],encapsulation:2}),a})(),canActivate:[x.a],data:{href:"dashboard3",icon:"fa fa-user",label:"Dashboard-3",title:"Dashboard-3"}},{path:"dash4",component:(()=>{class a{constructor(e,i){this.db=e,this.sync=i,this.allAggragateData=[],this.home_actions_forms=["pcime_c_asc","pcime_c_referral","pcime_c_followup","malnutrition_followup","pregnancy_family_planning","prenatal_followup","postnatal_followup","newborn_followup","home_visit","women_emergency_followup","fp_follow_up_renewal"],this.vaccination_forms=["vaccination"],this.consultations_followup_forms=["pcime_c_asc","pregnancy_family_planning","pcime_c_followup","pcime_c_referral","malnutrition_followup","prenatal_followup","postnatal_followup","newborn_followup","women_emergency_followup","fp_follow_up_renewal"],this.consultations_forms=["pcime_c_asc","pregnancy_family_planning"],this.followup_forms=["pcime_c_followup","pcime_c_referral","malnutrition_followup","prenatal_followup","postnatal_followup","newborn_followup","women_emergency_followup","fp_follow_up_renewal"],this.all_child_forms=["pcime_c_asc","pcime_c_followup","newborn_followup","malnutrition_followup"],this.child_followup_forms=["pcime_c_followup","newborn_followup","malnutrition_followup"],this.allForms=["pcime_c_asc","vaccination_followup","pregnancy_family_planning","delivery","home_visit","newborn_followup","pcime_c_followup","malnutrition_followup","postnatal_followup","prenatal_followup","pcime_c_referral","fp_follow_up_renewal"],this.ChwsDataFromDb$=[],this.sources$=[],this.Chws$=[],this.Sites$=[],this.chws$=[],this.sites$=[],this.Zones$=[],this.Patients$=[],this.Families$=[],this.chwsCount=0,this.sitesChwsCount=0,this.zonesChwsCount=0,this.patientsChwsCount=0,this.familiesChwsCount=0}createDataFilterFormGroup(){return new h.cw({start_date:new h.NI(this.initDate.start_date,[h.kI.required,h.kI.minLength(7)]),end_date:new h.NI(this.initDate.end_date,[h.kI.required,h.kI.minLength(7)]),sites:new h.NI(""),sources:new h.NI("")})}identifyAggragateData(e,i){return i.label}ngOnInit(){this.isLoading=!1,this.initDate=s.E.startEnd21and20Date(),this.aggradateDataForm=this.createDataFilterFormGroup(),this.initAllData()}initAllData(){var e=this;return(0,C.Z)(function*(){e.isLoading=!0,e.initMsg="Chargement des Sites ...",e.sync.getSitesList().subscribe(function(){var i=(0,C.Z)(function*(r){e.Sites$=r;for(let m=0;m<e.Sites$.length;m++){const p=e.Sites$[m].source;null!=p&&""!=p&&!e.sources$.includes(p)&&e.sources$.push(p)}e.initMsg="Chargement des ASC ...",e.sync.getChwsList().subscribe(function(){var m=(0,C.Z)(function*(p){e.Chws$=p,e.initDataFilted()});return function(p){return m.apply(this,arguments)}}(),m=>{e.isLoading=!1,console.log(m.error)})});return function(r){return i.apply(this,arguments)}}(),i=>{e.isLoading=!1,console.log(i.error)})})()}formatHostName(e){return e.replace(".org","").replace("-",".").trim()}genarateSites(){const e=this.aggradateDataForm.value.sources;if(this.sites$=[],this.chws$=[],this.aggradateDataForm.value.sites=[],this.aggradateDataForm.value.chws=[],s.F.notNull(e))for(let i=0;i<this.Sites$.length;i++){const r=this.Sites$[i];s.F.notNull(r)&&e.includes(r.source)&&this.sites$.push(r)}else this.sites$=this.Sites$}genarateChws(){const e=this.aggradateDataForm.value.sites;if(this.chws$=[],this.aggradateDataForm.value.chws=[],s.F.notNull(e))for(let i=0;i<this.Chws$.length;i++){const r=this.Chws$[i];s.F.notNull(r)&&e.includes(r.site.id)&&this.chws$.push(r)}else this.chws$=this.Chws$}returnEmptyArrayIfNul(e){return s.F.notNull(e)?e:[]}initDataFilted(){const e=this.aggradateDataForm.value.start_date,i=this.aggradateDataForm.value.end_date,r=this.returnEmptyArrayIfNul(this.aggradateDataForm.value.chws),m=this.returnEmptyArrayIfNul(this.aggradateDataForm.value.sites);var u={start_date:e,end_date:i,sources:this.returnEmptyArrayIfNul(this.aggradateDataForm.value.sources),chws:r,sites:m,districts:[]};this.isLoading=!0,this.initDate.start_date==e&&this.initDate.end_date==i&&0!=this.ChwsDataFromDb$?.length?this.getAllAboutData(u):(this.initDate.start_date=e,this.initDate.end_date=i,this.initMsg=`Chargement des donn\xe9es du ${s.E.getDateInFormat(u.start_date,0,"fr")} au ${s.E.getDateInFormat(u.end_date,0,"fr")}`,this.sync.getAllChwsDataWithParams(u).subscribe(o=>{this.ChwsDataFromDb$=o,this.getAllAboutData(u)},o=>{this.isLoading=!1,console.log(o.error)}))}getAllAboutData(e){this.initMsg="D\xe9marrage du calcule des indicateurs ...";const{start_date:i,end_date:r,chws:m,sites:p,sources:u}=e;if(s.F.notNull(i)&&s.F.notNull(r)){var o={total_home_visit:{},total_pcime_soins:{},total_pcime_suivi:{},total_reference_pcime_suivi:{},total_reference_pcime_soins:{},total_diarrhee_pcime_soins:{},total_paludisme_pcime_soins:{},total_pneumonie_pcime_soins:{},total_malnutrition_pcime_soins:{},prompt_diarrhee_24h_pcime_soins:{},prompt_diarrhee_48h_pcime_soins:{},prompt_diarrhee_72h_pcime_soins:{},prompt_paludisme_24h_pcime_soins:{},prompt_paludisme_48h_pcime_soins:{},prompt_paludisme_72h_pcime_soins:{},prompt_pneumonie_24h_pcime_soins:{},prompt_pneumonie_48h_pcime_soins:{},prompt_pneumonie_72h_pcime_soins:{},total_pregnancy_family_planning:{},total_reference_family_planning_soins:{},total_reference_femme_enceinte_soins:{},total_vad_femme_enceinte_soins:{},total_vad_femme_enceinte_NC_soins:{},total_test_de_grossesse_domicile:{},total_newborn_suivi:{},total_reference_newborn:{},total_malnutrition_suivi:{},total_reference_malnutrition_suivi:{},total_prenatal_suivi:{},total_reference_prenatal_suivi:{},total_postnatal_suivi:{},total_reference_postnatal_suivi:{},total_vad_femme_postpartum_NC:{},total_vad_women_emergency_suivi:{},total_reference_women_emergency_suivi:{},total_femme_enceinte_women_emergency_suivi:{},total_femme_postpartum_women_emergency_suivi:{},total_family_planning_renewal_suivi:{},total_reference_family_planning_renewal_suivi:{},total_vad_family_planning_NC:{}};for(let v=0;v<this.Chws$.length;v++){const f=this.Chws$[v].id;null!=f&&""!=f&&Object.entries(o).map(([n,_])=>{const c=_;c.hasOwnProperty(f)||(c[f]={chwId:f,count:0})})}for(let v=0;v<this.ChwsDataFromDb$.length;v++){const f=this.ChwsDataFromDb$[v];if(null!=f){const n=f.form,_=f.fields,c=null!=f.chw&&null!=f.chw.id&&""!=f.chw.id?f.chw.id:"",y=null!=f.site&&null!=f.site.id&&""!=f.site.id?f.site.id:"",Z=null!=f.source&&""!=f.source?f.source:"",g=s.F.notNull(c)&&s.F.notNull(m)&&m?.includes(c)||!s.F.notNull(m),T=s.F.notNull(y)&&s.F.notNull(p)&&p?.includes(y)||!s.F.notNull(p),N=s.F.notNull(Z)&&s.F.notNull(u)&&u?.includes(Z)||!s.F.notNull(u),A=!(!s.F.notNull(i)||!s.F.notNull(r))&&s.E.isBetween(`${i}`,f.reported_date,`${r}`);if(g&&T&&A&&N){if("home_visit"===n&&(o.total_home_visit[c].count+=1),"pcime_c_asc"===n&&(o.total_pcime_soins[c].count+=1,"yes"==_["group_review.s_have_you_refer_child"]&&(o.total_reference_pcime_soins[c].count+=1),"true"==_.has_diarrhea&&(o.total_diarrhee_pcime_soins[c].count+=1,"true"==_.within_24h&&(o.prompt_diarrhee_24h_pcime_soins[c].count+=1),("true"==_.within_24h||"true"==_.within_48h)&&(o.prompt_diarrhee_48h_pcime_soins[c].count+=1),("true"==_.within_24h||"true"==_.within_48h||"true"==_.within_72h)&&(o.prompt_diarrhee_72h_pcime_soins[c].count+=1)),"true"==_.fever_with_malaria&&(o.total_paludisme_pcime_soins[c].count+=1,"true"==_.within_24h&&(o.prompt_paludisme_24h_pcime_soins[c].count+=1),("true"==_.within_24h||"true"==_.within_48h)&&(o.prompt_paludisme_48h_pcime_soins[c].count+=1),("true"==_.within_24h||"true"==_.within_48h||"true"==_.within_72h)&&(o.prompt_paludisme_72h_pcime_soins[c].count+=1)),"true"==_.has_pneumonia&&(o.total_pneumonie_pcime_soins[c].count+=1,"true"==_.within_24h&&(o.prompt_pneumonie_24h_pcime_soins[c].count+=1),("true"==_.within_24h||"true"==_.within_48h)&&(o.prompt_pneumonie_48h_pcime_soins[c].count+=1),("true"==_.within_24h||"true"==_.within_48h||"true"==_.within_72h)&&(o.prompt_pneumonie_72h_pcime_soins[c].count+=1)),"true"==_.has_malnutrition&&(o.total_malnutrition_pcime_soins[c].count+=1)),"pcime_c_followup"===n&&(o.total_pcime_suivi[c].count+=1,"yes"==_["group_review.s_have_you_refer_child"]&&(o.total_reference_pcime_suivi[c].count+=1)),"newborn_followup"===n&&(o.total_newborn_suivi[c].count+=1,"yes"==_["group_summary.s_have_you_refer_child"]&&(o.total_reference_newborn[c].count+=1)),"malnutrition_followup"===n&&(o.total_malnutrition_suivi[c].count+=1,"yes"==_["results_page.s_have_you_refer_child"]&&(o.total_reference_malnutrition_suivi[c].count+=1)),"prenatal_followup"===n&&(o.total_prenatal_suivi[c].count+=1,"yes"==_["group_summary.s_have_you_refer_child"]&&(o.total_reference_prenatal_suivi[c].count+=1)),"postnatal_followup"===n&&(o.total_postnatal_suivi[c].count+=1,"yes"==_["group_summary.s_have_you_refer_child"]&&(o.total_reference_postnatal_suivi[c].count+=1),"1"==_.follow_up_count&&(o.total_vad_femme_postpartum_NC[c].count+=1)),"pregnancy_family_planning"===n){o.total_pregnancy_family_planning[c].count+=1;var l="positive"==_["s_reg_pregnancy_screen.s_reg_urine_result"],w="already_pregnant"==_["s_reg_pregnancy_screen.s_reg_why_urine_test_not_done"];"yes"==_["s_reg_pregnancy_screen.s_reg_urine_test"]&&(o.total_test_de_grossesse_domicile[c].count+=1),"yes"==_["s_summary.s_have_you_refer_child"]&&!l&&!w&&(o.total_reference_family_planning_soins[c].count+=1),(l||w)&&(o.total_vad_femme_enceinte_soins[c].count+=1,"fp_followup"!=_["s_reg_mode.s_reg_how_found"]&&(o.total_vad_femme_enceinte_NC_soins[c].count+=1),"yes"==_["s_summary.s_have_you_refer_child"]&&(o.total_reference_femme_enceinte_soins[c].count+=1)),"yes"==_["s_fam_plan_screen.agreed_to_fp"]&&(o.total_vad_family_planning_NC[c].count+=1)}"women_emergency_followup"===n&&(o.total_vad_women_emergency_suivi[c].count+=1,"yes"==_["group_summary.s_have_you_refer_child"]&&(o.total_reference_women_emergency_suivi[c].count+=1),"pregnant"==_["initial.woman_status"]&&(o.total_femme_enceinte_women_emergency_suivi[c].count+=1),"postpartum"==_["initial.woman_status"]&&(o.total_femme_postpartum_women_emergency_suivi[c].count+=1)),"fp_follow_up_renewal"===n&&(o.total_family_planning_renewal_suivi[c].count+=1,"true"==_["check$2.s_refer_for_health_state"]&&(o.total_reference_family_planning_renewal_suivi[c].count+=1))}}}this.transformData(o,e)}}transformData(e,i){const{start_date:r,end_date:m}=i;if(s.F.notNull(r)&&s.F.notNull(m)){var l={total_vad:0,total_vad_pcime_c:0,total_suivi_pcime_c:0,total_vad_femmes_enceinte:0,total_vad_femmes_postpartum:0,total_recherche_active:0,total_vad_family_planning:0,reference_femmes_pf:0,reference_pcime:0,reference_femmes_enceinte_postpartum:0,total_diarrhee_pcime_soins:0,total_paludisme_pcime_soins:0,total_pneumonie_pcime_soins:0,total_malnutrition_pcime_soins:0,prompt_diarrhee_24h_pcime_soins:0,prompt_diarrhee_48h_pcime_soins:0,prompt_diarrhee_72h_pcime_soins:0,prompt_paludisme_24h_pcime_soins:0,prompt_paludisme_48h_pcime_soins:0,prompt_paludisme_72h_pcime_soins:0,prompt_pneumonie_24h_pcime_soins:0,prompt_pneumonie_48h_pcime_soins:0,prompt_pneumonie_72h_pcime_soins:0,total_vad_femmes_enceintes_NC:0,total_vad_femme_postpartum_NC:0,total_test_de_grossesse_domicile:0};for(let v=0;v<this.Chws$.length;v++){const n=this.Chws$[v].id,_=e.total_home_visit[n].count+e.total_pcime_soins[n].count+e.total_pregnancy_family_planning[n].count+e.total_pcime_suivi[n].count+e.total_newborn_suivi[n].count+e.total_prenatal_suivi[n].count+e.total_postnatal_suivi[n].count+e.total_malnutrition_suivi[n].count+e.total_vad_women_emergency_suivi[n].count+e.total_family_planning_renewal_suivi[n].count,c=e.total_pcime_soins[n].count+e.total_pcime_suivi[n].count+e.total_newborn_suivi[n].count+e.total_malnutrition_suivi[n].count,y=e.total_pcime_suivi[n].count+e.total_newborn_suivi[n].count+e.total_malnutrition_suivi[n].count,Z=e.total_reference_family_planning_soins[n].count+e.total_reference_family_planning_renewal_suivi[n].count,g=e.total_reference_pcime_soins[n].count+e.total_reference_pcime_suivi[n].count+e.total_reference_newborn[n].count+e.total_reference_malnutrition_suivi[n].count,T=e.total_reference_femme_enceinte_soins[n].count+e.total_reference_prenatal_suivi[n].count+e.total_reference_postnatal_suivi[n].count+e.total_reference_women_emergency_suivi[n].count,N=e.total_vad_femme_enceinte_soins[n].count+e.total_prenatal_suivi[n].count+e.total_femme_enceinte_women_emergency_suivi[n].count,A=e.total_postnatal_suivi[n].count+e.total_femme_postpartum_women_emergency_suivi[n].count,$=_-(c+N+A+e.total_home_visit[n].count);l.total_vad+=_,l.total_vad_pcime_c+=c,l.total_suivi_pcime_c+=y,l.total_vad_femmes_enceinte+=N,l.total_vad_femmes_postpartum+=A,l.total_recherche_active+=e.total_home_visit[n].count,l.total_vad_family_planning=$,l.reference_femmes_pf+=Z,l.reference_pcime+=g,l.reference_femmes_enceinte_postpartum=T,l.total_diarrhee_pcime_soins+=e.total_diarrhee_pcime_soins[n].count,l.total_paludisme_pcime_soins+=e.total_paludisme_pcime_soins[n].count,l.total_pneumonie_pcime_soins+=e.total_pneumonie_pcime_soins[n].count,l.total_malnutrition_pcime_soins+=e.total_malnutrition_pcime_soins[n].count,l.prompt_diarrhee_24h_pcime_soins+=e.prompt_diarrhee_24h_pcime_soins[n].count,l.prompt_diarrhee_48h_pcime_soins+=e.prompt_diarrhee_48h_pcime_soins[n].count,l.prompt_diarrhee_72h_pcime_soins+=e.prompt_diarrhee_72h_pcime_soins[n].count,l.prompt_paludisme_24h_pcime_soins+=e.prompt_paludisme_24h_pcime_soins[n].count,l.prompt_paludisme_48h_pcime_soins+=e.prompt_paludisme_48h_pcime_soins[n].count,l.prompt_paludisme_72h_pcime_soins+=e.prompt_paludisme_72h_pcime_soins[n].count,l.prompt_pneumonie_24h_pcime_soins+=e.prompt_pneumonie_24h_pcime_soins[n].count,l.prompt_pneumonie_48h_pcime_soins+=e.prompt_pneumonie_48h_pcime_soins[n].count,l.prompt_pneumonie_72h_pcime_soins+=e.prompt_pneumonie_72h_pcime_soins[n].count,l.total_vad_femmes_enceintes_NC+=e.total_vad_femme_enceinte_NC_soins[n].count,l.total_vad_femme_postpartum_NC+=e.total_vad_femme_postpartum_NC[n].count,l.total_test_de_grossesse_domicile+=e.total_test_de_grossesse_domicile[n].count}this.allAggragateData=[],Object.entries(l).map(([v,f])=>{let n={label:s.F.capitaliseDataGiven(v,"_"," "),count:0,icon:"ion-bag",color:"bg-info",detailUrl:"/dashboards/dash1"};return n.count=f,this.allAggragateData.push(n),""})}this.initMsg="",this.isLoading=!1}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(I.p),t.Y36(U._))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-dashboard-4"]],decls:44,vars:0,consts:[[1,"content"],[1,"container-fluid"],[1,"card","card-info"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body","p-0"],[1,"table","table-sm","table-striped",2,"margin-left","auto","margin-right","auto"],[2,"width","10px"],[1,"custom-badge"],[1,"info"],[2,"text-align","center"],[1,"custom-action"],[1,"badge","bg-warning"]],template:function(e,i){1&e&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),t._uU(6,"Condensed Full Width Table"),t.qZA()(),t.TgZ(7,"div",6)(8,"table",7)(9,"thead")(10,"tr")(11,"th",8),t._uU(12,"#"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"Task"),t.qZA(),t.TgZ(15,"th"),t._uU(16,"Label"),t.qZA()()(),t.TgZ(17,"tbody")(18,"tr")(19,"td")(20,"span",9),t._uU(21,"1."),t.qZA()(),t.TgZ(22,"td")(23,"span",9),t._uU(24,"Update software"),t.qZA(),t._UZ(25,"br"),t.TgZ(26,"span",10),t._uU(27,"Action total: "),t.TgZ(28,"strong"),t._uU(29,"275"),t.qZA()()(),t.TgZ(30,"td",11)(31,"span",12),t._uU(32,"55"),t.qZA(),t._UZ(33,"br"),t.TgZ(34,"span",10),t._uU(35,"Actions/Jr"),t.qZA()()(),t.TgZ(36,"tr")(37,"td"),t._uU(38,"2."),t.qZA(),t.TgZ(39,"td"),t._uU(40,"Clean database"),t.qZA(),t.TgZ(41,"td")(42,"span",13),t._uU(43,"70%"),t.qZA()()()()()()()()()())},styles:[".custom-badge[_ngcontent-%COMP%]{font-size:18px;color:#000}.custom-action[_ngcontent-%COMP%]{font-size:25px;color:#000;text-align:center!important}.info[_ngcontent-%COMP%]{text-align:center!important}.box[_ngcontent-%COMP%]{width:600px;height:300px;border:1px solid black;padding:2px 4px;overflow-y:scroll;overflow-x:auto}.log[_ngcontent-%COMP%]{margin-top:8px;font-family:monospace}"]}),a})(),canActivate:[x.a],data:{href:"dashboard4",icon:"fa fa-user",label:"Dashboard-4",title:"Dashboard-4"}}];let ut=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[S.Bz.forChild(mt),S.Bz]}),a})(),ht=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[F.ez,h.UX,ut]}),a})()}}]);