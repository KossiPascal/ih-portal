"use strict";(self.webpackChunkih_portal=self.webpackChunkih_portal||[]).push([[865],{8865:(ue,I,v)=>{v.r(I),v.d(I,{DashboardsModule:()=>me});var A=v(8692),h=v(92),S=v(4032),F=v(8968),C=v(8239),a=v(8629),e=v(4537),q=v(8171),x=v(1815);function D(_,f){if(1&_&&(e.TgZ(0,"div",22),e._UZ(1,"i",23),e.TgZ(2,"div",24),e._uU(3),e.qZA()()),2&_){const t=e.oxw();e.xp6(3),e.hij(" ",t.initMsg,"")}}function O(_,f){if(1&_&&(e.TgZ(0,"option",27),e._uU(1),e.qZA()),2&_){const t=f.$implicit,o=e.oxw(2);e.s9C("value",t),e.xp6(1),e.hij(" ",o.formatHostName(t)," ")}}function L(_,f){if(1&_){const t=e.EpF();e.TgZ(0,"select",25),e.NdJ("change",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.genarateSites())}),e.YNc(1,O,2,2,"option",26),e.qZA()}if(2&_){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.sources$)}}function J(_,f){1&_&&e._UZ(0,"select",28)}function M(_,f){if(1&_&&(e.TgZ(0,"option",27),e._uU(1),e.qZA()),2&_){const t=f.$implicit;e.s9C("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function E(_,f){if(1&_){const t=e.EpF();e.TgZ(0,"select",29),e.NdJ("change",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.genarateChws())}),e.YNc(1,M,2,2,"option",26),e.qZA()}if(2&_){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.sites$)}}function Y(_,f){1&_&&e._UZ(0,"select",28)}function G(_,f){if(1&_&&(e.TgZ(0,"option",27),e._uU(1),e.qZA()),2&_){const t=f.$implicit;e.s9C("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function Q(_,f){if(1&_&&(e.TgZ(0,"select",30),e.YNc(1,G,2,2,"option",26),e.qZA()),2&_){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.chws$)}}function z(_,f){1&_&&e._UZ(0,"select",28)}function k(_,f){if(1&_&&(e.TgZ(0,"div",15)(1,"div")(2,"div",31)(3,"h3",32),e._uU(4),e.qZA(),e.TgZ(5,"p")(6,"strong"),e._uU(7),e.qZA()()(),e.TgZ(8,"div",33),e._UZ(9,"i"),e.qZA()()()),2&_){const t=f.$implicit;e.xp6(1),e.Gre("small-box ",t.color,""),e.xp6(3),e.Oqu(t.count),e.xp6(3),e.Oqu(t.label),e.xp6(2),e.Gre("ion ",t.icon,"")}}function R(_,f){if(1&_&&(e.TgZ(0,"div",18),e._UZ(1,"i",19),e.TgZ(2,"div",20),e._uU(3),e.qZA()()),2&_){const t=e.oxw();e.xp6(3),e.hij(" ",t.initMsg,"")}}function H(_,f){if(1&_&&(e.TgZ(0,"option",21),e._uU(1),e.qZA()),2&_){const t=f.$implicit;e.s9C("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function B(_,f){if(1&_&&(e.TgZ(0,"tr")(1,"td",34),e._uU(2),e.qZA(),e.TgZ(3,"td",34),e._uU(4),e.qZA(),e.TgZ(5,"td",35),e._uU(6),e.qZA(),e.TgZ(7,"td",35),e._uU(8),e.qZA(),e.TgZ(9,"td",36),e._uU(10),e.qZA(),e.TgZ(11,"td",36),e._uU(12),e.qZA(),e.TgZ(13,"td",35),e._uU(14),e.qZA(),e.TgZ(15,"td",35),e._uU(16),e.qZA(),e.TgZ(17,"td",36),e._uU(18),e.qZA(),e.TgZ(19,"td",36),e._uU(20),e.qZA(),e.TgZ(21,"td",37),e._uU(22),e.qZA(),e.TgZ(23,"td",37),e._uU(24),e.qZA(),e.TgZ(25,"td",38)(26,"strong"),e._uU(27),e.qZA()(),e.TgZ(28,"td"),e._uU(29),e.qZA()()),2&_){const t=f.$implicit;e.xp6(2),e.Oqu(t.Code),e.xp6(2),e.Oqu(t.Name),e.xp6(2),e.Oqu(t.Pcime),e.xp6(2),e.Oqu(t.PcimeDhis2),e.xp6(2),e.Oqu(t.MaternellePf),e.xp6(2),e.Oqu(t.MaternellePfDhis2),e.xp6(2),e.Oqu(t.Consultation),e.xp6(2),e.Oqu(t.ConsultationDhis),e.xp6(2),e.Oqu(t.Recherche),e.xp6(2),e.Oqu(t.RechercheDhis),e.xp6(2),e.Oqu(t.Total),e.xp6(2),e.Oqu(t.TotalDhis),e.xp6(3),e.Oqu(t.TotalDiff),e.xp6(1),e.Gre("bg-",t.Ratio.color,""),e.xp6(1),e.hij("",t.Ratio.value," %")}}function K(_,f){if(1&_){const t=e.EpF();e.TgZ(0,"section",22)(1,"div",23)(2,"div",5)(3,"h3",24)(4,"button",25),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.initTable())}),e._uU(5,"Generate Table"),e.qZA()()(),e.TgZ(6,"div",26)(7,"table",27)(8,"thead")(9,"tr",28)(10,"th",29),e._uU(11,"Code ASC"),e.qZA(),e.TgZ(12,"th",30),e._uU(13,"Nom ASC"),e.qZA(),e.TgZ(14,"th",31),e._uU(15,"Pcime"),e.qZA(),e.TgZ(16,"th",31),e._uU(17,"Maternel & PF"),e.qZA(),e.TgZ(18,"th",31),e._uU(19,"Consultation"),e.qZA(),e.TgZ(20,"th",31),e._uU(21,"Recherche"),e.qZA(),e.TgZ(22,"th",31),e._uU(23,"Total"),e.qZA(),e.TgZ(24,"th",29),e._uU(25,"Diff"),e.qZA(),e.TgZ(26,"th",29),e._uU(27,"Ratio"),e.qZA()(),e.TgZ(28,"tr",28)(29,"th",32),e._uU(30,"APPLI"),e.qZA(),e.TgZ(31,"th",32),e._uU(32,"DHIS2"),e.qZA(),e.TgZ(33,"th",32),e._uU(34,"APPLI"),e.qZA(),e.TgZ(35,"th",32),e._uU(36,"DHIS2"),e.qZA(),e.TgZ(37,"th",32),e._uU(38,"APPLI"),e.qZA(),e.TgZ(39,"th",32),e._uU(40,"DHIS2"),e.qZA(),e.TgZ(41,"th",32),e._uU(42,"APPLI"),e.qZA(),e.TgZ(43,"th",32),e._uU(44,"DHIS2"),e.qZA(),e.TgZ(45,"th",32),e._uU(46,"APPLI"),e.qZA(),e.TgZ(47,"th",32),e._uU(48,"DHIS2"),e.qZA()()(),e.TgZ(49,"tbody"),e.YNc(50,B,30,17,"tr",33),e.qZA()()()()()}if(2&_){const t=e.oxw();e.xp6(50),e.Q6J("ngForOf",t.bodyData)("ngForTrackBy",t.identifyBodyData)}}function X(_,f){if(1&_&&(e.TgZ(0,"div",22),e._UZ(1,"i",23),e.TgZ(2,"div",24),e._uU(3),e.qZA()()),2&_){const t=e.oxw();e.xp6(3),e.hij(" ",t.initMsg,"")}}function W(_,f){if(1&_&&(e.TgZ(0,"option",27),e._uU(1),e.qZA()),2&_){const t=f.$implicit,o=e.oxw(2);e.s9C("value",t),e.xp6(1),e.hij(" ",o.formatHostName(t)," ")}}function P(_,f){if(1&_){const t=e.EpF();e.TgZ(0,"select",25),e.NdJ("change",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.genarateSites())}),e.YNc(1,W,2,2,"option",26),e.qZA()}if(2&_){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.sources$)}}function ee(_,f){1&_&&e._UZ(0,"select",28)}function te(_,f){if(1&_&&(e.TgZ(0,"option",27),e._uU(1),e.qZA()),2&_){const t=f.$implicit;e.s9C("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function ie(_,f){if(1&_){const t=e.EpF();e.TgZ(0,"select",29),e.NdJ("change",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.genarateChws())}),e.YNc(1,te,2,2,"option",26),e.qZA()}if(2&_){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.sites$)}}function oe(_,f){1&_&&e._UZ(0,"select",28)}function ne(_,f){if(1&_&&(e.TgZ(0,"option",27),e._uU(1),e.qZA()),2&_){const t=f.$implicit;e.s9C("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function se(_,f){if(1&_&&(e.TgZ(0,"select",30),e.YNc(1,ne,2,2,"option",26),e.qZA()),2&_){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.chws$)}}function _e(_,f){1&_&&e._UZ(0,"select",28)}function ae(_,f){if(1&_&&(e.TgZ(0,"div",15)(1,"div")(2,"div",31)(3,"h3",32),e._uU(4),e.qZA(),e.TgZ(5,"p")(6,"strong"),e._uU(7),e.qZA()()(),e.TgZ(8,"div",33),e._UZ(9,"i"),e.qZA()()()),2&_){const t=f.$implicit;e.xp6(1),e.Gre("small-box ",t.color,""),e.xp6(3),e.Oqu(t.count),e.xp6(3),e.Oqu(t.label),e.xp6(2),e.Gre("ion ",t.icon,"")}}const ce=[{path:"",redirectTo:"dash1",pathMatch:"full"},{path:"dash1",component:(()=>{class _{constructor(t,o){this.db=t,this.sync=o,this.allAggragateData=[],this.sources$=[],this.Chws$=[],this.Sites$=[],this.chws$=[],this.sites$=[],this.Zones$=[],this.Patients$=[],this.Families$=[],this.chwsCount=0,this.sitesChwsCount=0,this.zonesChwsCount=0,this.patientsChwsCount=0,this.familiesChwsCount=0}createDataFilterFormGroup(){return new h.cw({start_date:new h.NI(this.initDate.start_date,[h.kI.required,h.kI.minLength(7)]),end_date:new h.NI(this.initDate.end_date,[h.kI.required,h.kI.minLength(7)]),sites:new h.NI(""),chws:new h.NI(""),sources:new h.NI("")})}identifyAggragateData(t,o){return o.label}ngOnInit(){this.isLoading=!1,this.initDate=a.E.startEnd21and20Date(),this.aggradateDataForm=this.createDataFilterFormGroup(),this.initAllData()}initAllData(){var t=this;return(0,C.Z)(function*(){t.isLoading=!0,t.initMsg="Chargement des Sites ...",t.sync.getSitesList().subscribe(function(){var o=(0,C.Z)(function*(p){t.Sites$=p;for(let m=0;m<t.Sites$.length;m++){const l=t.Sites$[m].source;null!=l&&""!=l&&(t.sources$.includes(l)||t.sources$.push(l))}t.initMsg="Chargement des Zones ...",t.sync.getZoneList().subscribe(m=>{t.Zones$=m,t.initMsg="Chargement des ASC ...",t.sync.getChwsList().subscribe(function(){var l=(0,C.Z)(function*(u){t.Chws$=u,t.initMsg="Chargement des Familles ...",t.sync.getFamilyList().subscribe(s=>{t.Families$=s,t.initMsg="Chargement des Patients ...",t.sync.getPatientsList().subscribe(c=>{t.Patients$=c,t.initDataFilted()},c=>{t.isLoading=!1,console.log(c.error)})},s=>{t.isLoading=!1,console.log(s.error)})});return function(u){return l.apply(this,arguments)}}(),l=>{t.isLoading=!1,console.log(l.error)})},m=>{t.isLoading=!1,console.log(m.error)})});return function(p){return o.apply(this,arguments)}}(),o=>{t.isLoading=!1,console.log(o.error)})})()}formatHostName(t){return t.replace(".org","").replace("-",".").trim()}genarateSites(){const t=this.aggradateDataForm.value.sources;if(this.sites$=[],this.chws$=[],this.aggradateDataForm.value.sites=[],this.aggradateDataForm.value.chws=[],a.F.notNull(t))for(let o=0;o<this.Sites$.length;o++){const p=this.Sites$[o];a.F.notNull(p)&&t.includes(p.source)&&this.sites$.push(p)}else this.sites$=this.Sites$}genarateChws(){const t=this.aggradateDataForm.value.sites;if(this.chws$=[],this.aggradateDataForm.value.chws=[],a.F.notNull(t))for(let o=0;o<this.Chws$.length;o++){const p=this.Chws$[o];a.F.notNull(p)&&t.includes(p.site.id)&&this.chws$.push(p)}else this.chws$=this.Chws$}returnEmptyArrayIfNul(t){return a.F.notNull(t)?t:[]}initDataFilted(){const t=this.aggradateDataForm.value.start_date,o=this.aggradateDataForm.value.end_date,p=this.returnEmptyArrayIfNul(this.aggradateDataForm.value.chws),m=this.returnEmptyArrayIfNul(this.aggradateDataForm.value.sites);var u={start_date:t,end_date:o,sources:this.returnEmptyArrayIfNul(this.aggradateDataForm.value.sources),chws:p,sites:m,district:[]};this.isLoading=!0,this.initDate.start_date=t,this.initDate.end_date=o,this.transformData(u)}transformData(t){const{start_date:o,end_date:p,chws:m,sites:l,sources:u}=t;if(a.F.notNull(o)&&a.F.notNull(p)){this.sitesChwsCount=0,this.familiesChwsCount=0,this.patientsChwsCount=0,this.zonesChwsCount=0,this.chwsCount=0,this.allAggragateData=[];for(let i=0;i<this.Sites$.length;i++){const n=this.Sites$[i];a.F.notNull(u)?u?.includes(n.source)&&this.sitesChwsCount++:this.sitesChwsCount++}for(let i=0;i<this.Families$.length;i++){const n=this.Families$[i];a.F.notNull(l)&&a.F.notNull(m)?a.F.notNull(u)?l?.includes(n.site.id)&&m?.includes(n.zone.chw_id)&&u?.includes(n.site.source)&&this.familiesChwsCount++:l?.includes(n.site.id)&&m?.includes(n.zone.chw_id)&&this.familiesChwsCount++:a.F.notNull(l)&&!a.F.notNull(m)?a.F.notNull(u)?l?.includes(n.site.id)&&u?.includes(n.site.source)&&this.familiesChwsCount++:l?.includes(n.site.id)&&this.familiesChwsCount++:a.F.notNull(u)?u?.includes(n.site.source)&&this.familiesChwsCount++:this.familiesChwsCount++}for(let i=0;i<this.Patients$.length;i++){const n=this.Patients$[i];a.F.notNull(l)&&a.F.notNull(m)?a.F.notNull(u)?l?.includes(n.site.id)&&m?.includes(n.zone.chw_id)&&u?.includes(n.site.source)&&this.patientsChwsCount++:l?.includes(n.site.id)&&m?.includes(n.zone.chw_id)&&this.patientsChwsCount++:a.F.notNull(l)&&!a.F.notNull(m)?a.F.notNull(u)?l?.includes(n.site.id)&&u?.includes(n.site.source)&&this.patientsChwsCount++:l?.includes(n.site.id)&&this.patientsChwsCount++:a.F.notNull(u)?u?.includes(n.site.source)&&this.patientsChwsCount++:this.patientsChwsCount++}for(let i=0;i<this.Zones$.length;i++){const n=this.Zones$[i];a.F.notNull(l)&&a.F.notNull(m)?a.F.notNull(u)?l?.includes(n.site.id)&&m?.includes(n.chw_id)&&u?.includes(n.site.source)&&this.zonesChwsCount++:l?.includes(n.site.id)&&m?.includes(n.chw_id)&&this.zonesChwsCount++:a.F.notNull(l)&&!a.F.notNull(m)?a.F.notNull(u)?l?.includes(n.site.id)&&u?.includes(n.site.source)&&this.zonesChwsCount++:l?.includes(n.site.id)&&this.zonesChwsCount++:a.F.notNull(u)?u?.includes(n.site.source)&&this.zonesChwsCount++:this.zonesChwsCount++}for(let i=0;i<this.Chws$.length;i++){const n=this.Chws$[i];a.F.notNull(l)&&a.F.notNull(m)?a.F.notNull(u)?l?.includes(n.site.id)&&m?.includes(n.zone.chw_id)&&u?.includes(n.site.source)&&this.chwsCount++:l?.includes(n.site.id)&&m?.includes(n.zone.chw_id)&&this.chwsCount++:a.F.notNull(l)&&!a.F.notNull(m)?a.F.notNull(u)?l?.includes(n.site.id)&&u?.includes(n.site.source)&&this.chwsCount++:l?.includes(n.site.id)&&this.chwsCount++:a.F.notNull(u)?u?.includes(n.site.source)&&this.chwsCount++:this.chwsCount++}let s={label:a.F.capitaliseDataGiven("total_site_enregistre","_"," "),count:this.sitesChwsCount,icon:"ion-stats-bars",color:"bg-success",detailUrl:"/dashboards/dash1"},c={label:a.F.capitaliseDataGiven("total_ASC_enregistre","_"," "),count:this.chwsCount,icon:"ion-person-add",color:"bg-warning",detailUrl:"/dashboards/dash1"},w={label:a.F.capitaliseDataGiven("total_famille_enregistre","_"," "),count:this.familiesChwsCount,icon:"ion-pie-graph",color:"bg-danger",detailUrl:"/dashboards/dash1"},g={label:a.F.capitaliseDataGiven("total_patient_enregistre","_"," "),count:this.patientsChwsCount,icon:"ion-bag",color:"bg-primary",detailUrl:"/dashboards/dash1"},d={label:a.F.capitaliseDataGiven("total_zone_enregistre","_"," "),count:this.zonesChwsCount,icon:"ion-bag",color:"bg-success",detailUrl:"/dashboards/dash1"};this.allAggragateData.push(s),this.allAggragateData.push(c),this.allAggragateData.push(w),this.allAggragateData.push(g),this.allAggragateData.push(d)}this.initMsg="",this.isLoading=!1}}return _.\u0275fac=function(t){return new(t||_)(e.Y36(q.p),e.Y36(x._))},_.\u0275cmp=e.Xpm({type:_,selectors:[["app-dashboard-1"]],decls:47,vars:11,consts:[[1,"content"],[1,"container-fluid"],[1,"card","card-warning"],[1,"overlay-wrapper"],["class","overlay",4,"ngIf"],[1,"card-header"],["novalidate","",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-sm-2","col-6"],[1,"form-group"],["type","date","formControlName","start_date",1,"form-control"],["type","date","formControlName","end_date",1,"form-control"],["class","form-control","multiple","multiple","formControlName","sources",3,"change",4,"ngIf"],["class","form-control",4,"ngIf"],["class","form-control","multiple","multiple","formControlName","sites",3,"change",4,"ngIf"],[1,"col-sm-3","col-6"],["class","form-control","multiple","multiple","formControlName","chws",4,"ngIf"],[1,"col-sm-1","col-6"],["type","submit",1,"btn","btn-warning","form-control",3,"disabled"],[1,"fa","fa-floppy-o","fa-right"],[1,"row","card-body"],["class","col-sm-3 col-6",4,"ngFor","ngForOf","ngForTrackBy"],[1,"overlay"],[1,"fas","fa-3x","fa-sync-alt","fa-spin"],[1,"text-bold","pt-2"],["multiple","multiple","formControlName","sources",1,"form-control",3,"change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"form-control"],["multiple","multiple","formControlName","sites",1,"form-control",3,"change"],["multiple","multiple","formControlName","chws",1,"form-control"],[1,"inner"],[2,"font-size","40px"],[1,"icon"]],template:function(t,o){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),e.YNc(4,D,4,1,"div",4),e.TgZ(5,"div",5)(6,"form",6),e.NdJ("ngSubmit",function(){return o.initDataFilted()}),e.TgZ(7,"div",7)(8,"div",8)(9,"div",9)(10,"label"),e._uU(11,"Date D\xe9but"),e.qZA(),e._UZ(12,"input",10),e.qZA()(),e.TgZ(13,"div",8)(14,"div",9)(15,"label"),e._uU(16,"Date Fin"),e.qZA(),e._UZ(17,"input",11),e.qZA()(),e.TgZ(18,"div",8)(19,"div",9)(20,"label"),e._uU(21,"Source"),e.qZA(),e.YNc(22,L,2,1,"select",12),e.YNc(23,J,1,0,"select",13),e.qZA()(),e.TgZ(24,"div",8)(25,"div",9)(26,"label"),e._uU(27,"Site"),e.qZA(),e.YNc(28,E,2,1,"select",14),e.YNc(29,Y,1,0,"select",13),e.qZA()(),e.TgZ(30,"div",15)(31,"div",9)(32,"label"),e._uU(33,"ASC"),e.qZA(),e.YNc(34,Q,2,1,"select",16),e.YNc(35,z,1,0,"select",13),e.qZA()(),e.TgZ(36,"div",17)(37,"div",9)(38,"label"),e._uU(39,"."),e.qZA(),e.TgZ(40,"button",18),e._uU(41," OK "),e._UZ(42,"span",19),e.qZA()()()()()()()(),e.TgZ(43,"div",20),e.YNc(44,k,10,8,"div",21),e.qZA(),e._UZ(45,"br")(46,"br"),e.qZA()()),2&t&&(e.xp6(4),e.Q6J("ngIf",o.isLoading),e.xp6(2),e.Q6J("formGroup",o.aggradateDataForm),e.xp6(16),e.Q6J("ngIf",o.sources$.length>0),e.xp6(1),e.Q6J("ngIf",0==o.sources$.length),e.xp6(5),e.Q6J("ngIf",o.sites$.length>0),e.xp6(1),e.Q6J("ngIf",0==o.sites$.length),e.xp6(5),e.Q6J("ngIf",o.chws$.length>0),e.xp6(1),e.Q6J("ngIf",0==o.chws$.length),e.xp6(5),e.Q6J("disabled",!o.aggradateDataForm.valid),e.xp6(4),e.Q6J("ngForOf",o.allAggragateData)("ngForTrackBy",o.identifyAggragateData))},dependencies:[A.sg,A.O5,h._Y,h.YN,h.Kr,h.Fj,h.K7,h.JJ,h.JL,h.sg,h.u],encapsulation:2}),_})(),canActivate:[F.a],data:{href:"dashboard1",icon:"fa fa-user",label:"Dashboard-1",title:"Dashboard-1"}},{path:"dash2",component:(()=>{class _{constructor(t){this.syncService=t,this.child_forms=["pcime_c_asc","pcime_c_referral","pcime_c_followup","malnutrition_followup","newborn_followup"],this.num_fp_forms=["pregnancy_family_planning","prenatal_followup","postnatal_followup","women_emergency_followup","fp_follow_up_renewal"],this.home_actions_forms=["pcime_c_asc","pcime_c_referral","pcime_c_followup","malnutrition_followup","pregnancy_family_planning","prenatal_followup","postnatal_followup","newborn_followup","home_visit","women_emergency_followup","fp_follow_up_renewal"],this.consultations_followup_forms=["pcime_c_asc","pregnancy_family_planning","pcime_c_followup","pcime_c_referral","malnutrition_followup","prenatal_followup","postnatal_followup","newborn_followup","women_emergency_followup","fp_follow_up_renewal"],this.bodyData=[],this.ChwsDataFromDb$=[],this.Chws$=[],this.Sites$=[],this.source="portal-integratehealth.org.444",this.dhis2Url="dhis2.integratehealth.org/dhis.443"}createDataFilterFormGroup(){return new h.cw({start_date:new h.NI(this.initDate.start_date,[h.kI.required,h.kI.minLength(7)]),end_date:new h.NI(this.initDate.end_date,[h.kI.required,h.kI.minLength(7)]),sites:new h.NI(""),sources:new h.NI("")})}identifyBodyData(t,o){return o.Code}ngOnInit(){this.isLoading=!1,this.initDate=a.E.startEnd21and20Date(),this.aggradateDataForm=this.createDataFilterFormGroup(),this.initAllData()}initAllData(){var t=this;return(0,C.Z)(function*(){t.isLoading=!0,t.initMsg="Chargement des Sites ...",t.syncService.getSitesList({data_source:t.source}).subscribe(o=>{t.Sites$=o,t.initMsg="Chargement des ASC ...",t.syncService.getChwsList({data_source:t.source}).subscribe(p=>{t.Chws$=p,t.initDataFilted()},p=>console.log(p.error))},o=>console.log(o.error))})()}returnEmptyArrayIfNul(t){return a.F.notNull(t)?t:[]}initDataFilted(){this.isLoading=!0;var l={start_date:this.aggradateDataForm.value.start_date,end_date:this.aggradateDataForm.value.end_date,sites:this.aggradateDataForm.value.sites,data_source:["portal-integratehealth.org.444","dhis2.integratehealth.org/dhis.443"]};this.syncService.getAllData(l).subscribe(u=>{this.ChwsDataFromDb$=u,this.getAllAboutData(l)},u=>{this.isLoading=!1,console.log(u.error)})}getAllAboutData(t){const{start_date:o,end_date:p,sites:m}=t;var l={};for(let u=0;u<this.Chws$.length;u++){const s=this.Chws$[u].id;a.F.notNull(s)&&(l.hasOwnProperty(s)||(l[s]={chwId:s,app_total_child_followup:0,dhis_total_child_followup:0,app_total_num_fp_followup:0,dhis_total_num_fp_followup:0,app_total_active_research:0,dhis_total_active_research:0,app_total_consultation_followup:0,dhis_total_consultation_followup:0,app_total_home_visit:0,dhis_total_home_visit:0}))}for(let u=0;u<this.ChwsDataFromDb$.length;u++){const s=this.ChwsDataFromDb$[u];if(null!=s){const c=s.form,w=null!=s.chw&&a.F.notNull(s.chw.id)?s.chw.id:"",g=null!=s.site&&a.F.notNull(s.site.id)?s.site.id:"",d=a.F.notNull(g)&&a.F.notNull(m)&&m?.includes(g)||!a.F.notNull(m),i=!(!a.F.notNull(o)||!a.F.notNull(p))&&a.E.isBetween(`${o}`,s.reported_date,`${p}`);d&&i&&l.hasOwnProperty(w)&&(s.source==this.dhis2Url?("PCIME"===c&&(l[w].dhis_total_child_followup+=1),("Maternelle"===c||"PF"===c)&&(l[w].dhis_total_num_fp_followup+=1),"Recherche"===c&&(l[w].dhis_total_active_research+=1),"Recherche"!==c&&(l[w].dhis_total_consultation_followup+=1),l[w].dhis_total_home_visit+=1):(this.child_forms.includes(c)&&(l[w].app_total_child_followup+=1),this.num_fp_forms.includes(c)&&(l[w].app_total_num_fp_followup+=1),"home_visit"===c&&(l[w].app_total_active_research+=1),this.consultations_followup_forms.includes(c)&&(l[w].app_total_consultation_followup+=1),this.home_actions_forms.includes(c)&&(l[w].app_total_home_visit+=1)))}}this.bodyData=[],Object.entries(l).map(([u,s])=>{const c=s;this.bodyData.push({Code:this.getChwInfos(c.chwId).external_id,Name:this.getChwInfos(c.chwId).name,Pcime:c.app_total_child_followup,PcimeDhis2:c.dhis_total_child_followup,MaternellePf:c.app_total_num_fp_followup,MaternellePfDhis2:c.dhis_total_num_fp_followup,Recherche:c.app_total_active_research,RechercheDhis:c.dhis_total_active_research,Consultation:c.app_total_consultation_followup,ConsultationDhis:c.dhis_total_consultation_followup,Total:c.app_total_home_visit,TotalDhis:c.dhis_total_home_visit,TotalDiff:this.getRatio(c.app_total_home_visit,c.dhis_total_home_visit,!1).value,Ratio:this.getRatio(c.app_total_home_visit,c.dhis_total_home_visit)})}),this.isLoading=!1}getDataValuesElements(t){for(let o=0;o<t.dataValues.length;o++){const p=t.dataValues[o];if(p.dataElement==t.dataElement&&p.value==t.value)return!0}return!1}getRatio(t,o,p=!0){var m=0,l="success",u=t-o;if(p){const s=100*(t>0?u/t:o/100);(m=+(s<0?-1*s:s).toFixed(2))>0&&m<=5&&(l="warning"),m>5&&(l="danger")}else m=+(u<0?-1*u:u).toFixed(2);return{value:m,color:l}}initTable(){initDataTable("compare_data",!1)}getChwInfos(t,o=!1){for(let m=0;m<this.Chws$.length;m++){const l=this.Chws$[m];if(a.F.notNull(l))if(1==o){if(a.F.notNull(l.external_id)&&l.external_id==t)return l}else if(a.F.notNull(l.id)&&l.id==t)return l}}}return _.\u0275fac=function(t){return new(t||_)(e.Y36(x._))},_.\u0275cmp=e.Xpm({type:_,selectors:[["app-dashboard-2"]],decls:32,vars:5,consts:[[1,"content-header"],[1,"container-fluid"],[1,"card","card-info"],[1,"overlay-wrapper"],["class","overlay",4,"ngIf"],[1,"card-header"],["novalidate","",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-sm-2","col-6"],[1,"form-group"],["type","date","formControlName","start_date",1,"form-control"],["type","date","formControlName","end_date",1,"form-control"],["formControlName","sites",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],[1,"col-sm-1","col-6"],["type","submit",1,"btn","btn-warning","form-control",3,"disabled"],[1,"fa","fa-floppy-o","fa-right"],["class","content",4,"ngIf"],[1,"overlay"],[1,"fas","fa-3x","fa-sync-alt","fa-spin"],[1,"text-bold","pt-2"],[3,"value"],[1,"content"],[1,"card"],[1,"card-title"],["type","button",3,"click"],[1,"card-body"],["id","compare_data",1,"table","table-bordered","table-hover"],[1,"bg-primary"],["rowspan","2",2,"width","50px"],["rowspan","2",2,"width","150px"],["colspan","2",2,"width","50px"],[2,"width","50px"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"info"],[1,"warning"],[1,"primary"],[1,"final"],[1,""]],template:function(t,o){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),e.YNc(4,R,4,1,"div",4),e.TgZ(5,"div",5)(6,"form",6),e.NdJ("ngSubmit",function(){return o.initDataFilted()}),e.TgZ(7,"div",7)(8,"div",8)(9,"div",9)(10,"label"),e._uU(11,"Date D\xe9but"),e.qZA(),e._UZ(12,"input",10),e.qZA()(),e.TgZ(13,"div",8)(14,"div",9)(15,"label"),e._uU(16,"Date Fin"),e.qZA(),e._UZ(17,"input",11),e.qZA()(),e.TgZ(18,"div",8)(19,"div",9)(20,"label"),e._uU(21,"Site"),e.qZA(),e.TgZ(22,"select",12),e.YNc(23,H,2,2,"option",13),e.qZA()()(),e.TgZ(24,"div",14)(25,"div",9)(26,"label"),e._uU(27,"."),e.qZA(),e.TgZ(28,"button",15),e._uU(29," OK "),e._UZ(30,"span",16),e.qZA()()()()()()()()()(),e.YNc(31,K,51,2,"section",17)),2&t&&(e.xp6(4),e.Q6J("ngIf",o.isLoading),e.xp6(2),e.Q6J("formGroup",o.aggradateDataForm),e.xp6(17),e.Q6J("ngForOf",o.Sites$),e.xp6(5),e.Q6J("disabled",!o.aggradateDataForm.valid),e.xp6(3),e.Q6J("ngIf",o.bodyData.length>0))},dependencies:[A.sg,A.O5,h._Y,h.YN,h.Kr,h.Fj,h.EJ,h.JJ,h.JL,h.sg,h.u],styles:[".info[_ngcontent-%COMP%]{color:#00f;font-weight:bolder}.warning[_ngcontent-%COMP%]{color:orange;font-size:large;font-weight:bolder}.primary[_ngcontent-%COMP%]{color:purple;font-size:large;font-weight:bolder}.final[_ngcontent-%COMP%]{color:green;font-size:large;font-weight:bolder}.line[_ngcontent-%COMP%]{color:#000;font-size:large;font-weight:bolder}"]}),_})(),canActivate:[F.a],data:{href:"dashboard2",icon:"fa fa-user",label:"Dashboard-2",title:"Dashboard-2"}},{path:"dash3",component:(()=>{class _{constructor(t,o){this.db=t,this.sync=o,this.allAggragateData=[],this.options={Chart:{type:"area",height:700},title:{text:"Donn\xe9es par ASC"},credits:{enabled:!1},xAxis:{categories:["ASC1","ASC2","ASC3","ASC4","ASC5","ASC6","ASC7"],tickmarkPlacement:"on",title:{enabled:!0}},yAxis:{categories:[],max:5268,min:0,tickmarkPlacement:"on",title:{enabled:!1}},series:[{name:"Recherche Active",data:[502,635,809,947,1402,3634,5268]},{name:"Pcime",data:[163,203,276,408,547,729,628]},{name:"Maternel",data:[18,31,54,156,339,818,1201]}]},this.home_actions_forms=["pcime_c_asc","pcime_c_referral","pcime_c_followup","malnutrition_followup","pregnancy_family_planning","prenatal_followup","postnatal_followup","newborn_followup","home_visit","women_emergency_followup","fp_follow_up_renewal"],this.vaccination_forms=["vaccination"],this.consultations_followup_forms=["pcime_c_asc","pregnancy_family_planning","pcime_c_followup","pcime_c_referral","malnutrition_followup","prenatal_followup","postnatal_followup","newborn_followup","women_emergency_followup","fp_follow_up_renewal"],this.consultations_forms=["pcime_c_asc","pregnancy_family_planning"],this.followup_forms=["pcime_c_followup","pcime_c_referral","malnutrition_followup","prenatal_followup","postnatal_followup","newborn_followup","women_emergency_followup","fp_follow_up_renewal"],this.all_child_forms=["pcime_c_asc","pcime_c_followup","newborn_followup","malnutrition_followup"],this.child_followup_forms=["pcime_c_followup","newborn_followup","malnutrition_followup"],this.allForms=["pcime_c_asc","vaccination_followup","pregnancy_family_planning","delivery","home_visit","newborn_followup","pcime_c_followup","malnutrition_followup","postnatal_followup","prenatal_followup","pcime_c_referral","fp_follow_up_renewal"],this.ChwsDataFromDb$=[],this.sources$=[],this.Chws$=[],this.Sites$=[],this.chws$=[],this.sites$=[],this.Zones$=[],this.Patients$=[],this.Families$=[],this.chwsCount=0,this.sitesChwsCount=0,this.zonesChwsCount=0,this.patientsChwsCount=0,this.familiesChwsCount=0}createDataFilterFormGroup(){return new h.cw({start_date:new h.NI(this.initDate.start_date,[h.kI.required,h.kI.minLength(7)]),end_date:new h.NI(this.initDate.end_date,[h.kI.required,h.kI.minLength(7)]),sites:new h.NI(""),chws:new h.NI(""),sources:new h.NI("")})}identifyAggragateData(t,o){return o.label}ngOnInit(){this.isLoading=!1,this.initDate=a.E.startEnd21and20Date(),this.aggradateDataForm=this.createDataFilterFormGroup(),this.initAllData()}initAllData(){var t=this;return(0,C.Z)(function*(){t.isLoading=!0,t.initMsg="Chargement des Sites ...",t.sync.getSitesList().subscribe(function(){var o=(0,C.Z)(function*(p){t.Sites$=p;for(let m=0;m<t.Sites$.length;m++){const l=t.Sites$[m].source;null!=l&&""!=l&&(t.sources$.includes(l)||t.sources$.push(l))}t.initMsg="Chargement des ASC ...",t.sync.getChwsList().subscribe(function(){var m=(0,C.Z)(function*(l){t.Chws$=l,t.initDataFilted()});return function(l){return m.apply(this,arguments)}}(),m=>{t.isLoading=!1,console.log(m.error)})});return function(p){return o.apply(this,arguments)}}(),o=>{t.isLoading=!1,console.log(o.error)})})()}formatHostName(t){return t.replace(".org","").replace("-",".").trim()}genarateSites(){const t=this.aggradateDataForm.value.sources;if(this.sites$=[],this.chws$=[],this.aggradateDataForm.value.sites=[],this.aggradateDataForm.value.chws=[],a.F.notNull(t))for(let o=0;o<this.Sites$.length;o++){const p=this.Sites$[o];a.F.notNull(p)&&t.includes(p.source)&&this.sites$.push(p)}else this.sites$=this.Sites$}genarateChws(){const t=this.aggradateDataForm.value.sites;if(this.chws$=[],this.aggradateDataForm.value.chws=[],a.F.notNull(t))for(let o=0;o<this.Chws$.length;o++){const p=this.Chws$[o];a.F.notNull(p)&&t.includes(p.site.id)&&this.chws$.push(p)}else this.chws$=this.Chws$}returnEmptyArrayIfNul(t){return a.F.notNull(t)?t:[]}initDataFilted(){const t=this.aggradateDataForm.value.start_date,o=this.aggradateDataForm.value.end_date,p=this.returnEmptyArrayIfNul(this.aggradateDataForm.value.chws),m=this.returnEmptyArrayIfNul(this.aggradateDataForm.value.sites);var u={start_date:t,end_date:o,sources:this.returnEmptyArrayIfNul(this.aggradateDataForm.value.sources),chws:p,sites:m,district:[]};this.isLoading=!0,this.initDate.start_date==t&&this.initDate.end_date==o&&0!=this.ChwsDataFromDb$?.length?this.getAllAboutData(u):(this.initDate.start_date=t,this.initDate.end_date=o,this.initMsg=`Chargement des donn\xe9es du ${a.E.getDateInFormat(u.start_date,0,"fr")} au ${a.E.getDateInFormat(u.end_date,0,"fr")}`,this.sync.getAllData(u).subscribe(s=>{this.ChwsDataFromDb$=s,this.getAllAboutData(u)},s=>{this.isLoading=!1,console.log(s.error)}))}getAllAboutData(t){this.initMsg="D\xe9marrage du calcule des indicateurs ...";const{start_date:o,end_date:p,chws:m,sites:l,sources:u}=t;if(a.F.notNull(o)&&a.F.notNull(p)){var s={total_home_visit:{},total_pcime_soins:{},total_pcime_suivi:{},total_reference_pcime_suivi:{},total_reference_pcime_soins:{},total_diarrhee_pcime_soins:{},total_paludisme_pcime_soins:{},total_pneumonie_pcime_soins:{},total_malnutrition_pcime_soins:{},prompt_diarrhee_24h_pcime_soins:{},prompt_diarrhee_48h_pcime_soins:{},prompt_diarrhee_72h_pcime_soins:{},prompt_paludisme_24h_pcime_soins:{},prompt_paludisme_48h_pcime_soins:{},prompt_paludisme_72h_pcime_soins:{},prompt_pneumonie_24h_pcime_soins:{},prompt_pneumonie_48h_pcime_soins:{},prompt_pneumonie_72h_pcime_soins:{},total_pregnancy_family_planning:{},total_reference_family_planning_soins:{},total_reference_femme_enceinte_soins:{},total_vad_femme_enceinte_soins:{},total_vad_femme_enceinte_NC_soins:{},total_test_de_grossesse_domicile:{},total_newborn_suivi:{},total_reference_newborn:{},total_malnutrition_suivi:{},total_reference_malnutrition_suivi:{},total_prenatal_suivi:{},total_reference_prenatal_suivi:{},total_postnatal_suivi:{},total_reference_postnatal_suivi:{},total_vad_femme_postpartum_NC:{},total_vad_women_emergency_suivi:{},total_reference_women_emergency_suivi:{},total_femme_enceinte_women_emergency_suivi:{},total_femme_postpartum_women_emergency_suivi:{},total_family_planning_renewal_suivi:{},total_reference_family_planning_renewal_suivi:{},total_vad_family_planning_NC:{}};for(let g=0;g<this.Chws$.length;g++){const d=this.Chws$[g].id;null!=d&&""!=d&&Object.entries(s).map(([i,n])=>{const r=n;r.hasOwnProperty(d)||(r[d]={chwId:d,count:0})})}for(let g=0;g<this.ChwsDataFromDb$.length;g++){const d=this.ChwsDataFromDb$[g];if(null!=d){const i=d.form,n=d.fields,r=null!=d.chw&&null!=d.chw.id&&""!=d.chw.id?d.chw.id:"",y=null!=d.site&&null!=d.site.id&&""!=d.site.id?d.site.id:"",b=null!=d.source&&""!=d.source?d.source:"",$=a.F.notNull(r)&&a.F.notNull(m)&&m?.includes(r)||!a.F.notNull(m),T=a.F.notNull(y)&&a.F.notNull(l)&&l?.includes(y)||!a.F.notNull(l),Z=a.F.notNull(b)&&a.F.notNull(u)&&u?.includes(b)||!a.F.notNull(u),N=!(!a.F.notNull(o)||!a.F.notNull(p))&&a.E.isBetween(`${o}`,d.reported_date,`${p}`);if($&&T&&N&&Z){if("home_visit"===i&&(s.total_home_visit[r].count+=1),"pcime_c_asc"===i&&(s.total_pcime_soins[r].count+=1,"yes"==n["group_review.s_have_you_refer_child"]&&(s.total_reference_pcime_soins[r].count+=1),"true"==n.has_diarrhea&&(s.total_diarrhee_pcime_soins[r].count+=1,"true"==n.within_24h&&(s.prompt_diarrhee_24h_pcime_soins[r].count+=1),("true"==n.within_24h||"true"==n.within_48h)&&(s.prompt_diarrhee_48h_pcime_soins[r].count+=1),("true"==n.within_24h||"true"==n.within_48h||"true"==n.within_72h)&&(s.prompt_diarrhee_72h_pcime_soins[r].count+=1)),"true"==n.fever_with_malaria&&(s.total_paludisme_pcime_soins[r].count+=1,"true"==n.within_24h&&(s.prompt_paludisme_24h_pcime_soins[r].count+=1),("true"==n.within_24h||"true"==n.within_48h)&&(s.prompt_paludisme_48h_pcime_soins[r].count+=1),("true"==n.within_24h||"true"==n.within_48h||"true"==n.within_72h)&&(s.prompt_paludisme_72h_pcime_soins[r].count+=1)),"true"==n.has_pneumonia&&(s.total_pneumonie_pcime_soins[r].count+=1,"true"==n.within_24h&&(s.prompt_pneumonie_24h_pcime_soins[r].count+=1),("true"==n.within_24h||"true"==n.within_48h)&&(s.prompt_pneumonie_48h_pcime_soins[r].count+=1),("true"==n.within_24h||"true"==n.within_48h||"true"==n.within_72h)&&(s.prompt_pneumonie_72h_pcime_soins[r].count+=1)),"true"==n.has_malnutrition&&(s.total_malnutrition_pcime_soins[r].count+=1)),"pcime_c_followup"===i&&(s.total_pcime_suivi[r].count+=1,"yes"==n["group_review.s_have_you_refer_child"]&&(s.total_reference_pcime_suivi[r].count+=1)),"newborn_followup"===i&&(s.total_newborn_suivi[r].count+=1,"yes"==n["group_summary.s_have_you_refer_child"]&&(s.total_reference_newborn[r].count+=1)),"malnutrition_followup"===i&&(s.total_malnutrition_suivi[r].count+=1,"yes"==n["results_page.s_have_you_refer_child"]&&(s.total_reference_malnutrition_suivi[r].count+=1)),"prenatal_followup"===i&&(s.total_prenatal_suivi[r].count+=1,"yes"==n["group_summary.s_have_you_refer_child"]&&(s.total_reference_prenatal_suivi[r].count+=1)),"postnatal_followup"===i&&(s.total_postnatal_suivi[r].count+=1,"yes"==n["group_summary.s_have_you_refer_child"]&&(s.total_reference_postnatal_suivi[r].count+=1),"1"==n.follow_up_count&&(s.total_vad_femme_postpartum_NC[r].count+=1)),"pregnancy_family_planning"===i){s.total_pregnancy_family_planning[r].count+=1;var c="positive"==n["s_reg_pregnancy_screen.s_reg_urine_result"],w="already_pregnant"==n["s_reg_pregnancy_screen.s_reg_why_urine_test_not_done"];"yes"==n["s_reg_pregnancy_screen.s_reg_urine_test"]&&(s.total_test_de_grossesse_domicile[r].count+=1),"yes"==n["s_summary.s_have_you_refer_child"]&&!c&&!w&&(s.total_reference_family_planning_soins[r].count+=1),(c||w)&&(s.total_vad_femme_enceinte_soins[r].count+=1,"fp_followup"!=n["s_reg_mode.s_reg_how_found"]&&(s.total_vad_femme_enceinte_NC_soins[r].count+=1),"yes"==n["s_summary.s_have_you_refer_child"]&&(s.total_reference_femme_enceinte_soins[r].count+=1)),"yes"==n["s_fam_plan_screen.agreed_to_fp"]&&(s.total_vad_family_planning_NC[r].count+=1)}"women_emergency_followup"===i&&(s.total_vad_women_emergency_suivi[r].count+=1,"yes"==n["group_summary.s_have_you_refer_child"]&&(s.total_reference_women_emergency_suivi[r].count+=1),"pregnant"==n["initial.woman_status"]&&(s.total_femme_enceinte_women_emergency_suivi[r].count+=1),"postpartum"==n["initial.woman_status"]&&(s.total_femme_postpartum_women_emergency_suivi[r].count+=1)),"fp_follow_up_renewal"===i&&(s.total_family_planning_renewal_suivi[r].count+=1,"true"==n["check$2.s_refer_for_health_state"]&&(s.total_reference_family_planning_renewal_suivi[r].count+=1))}}}this.transformData(s,t)}}transformData(t,o){const{start_date:p,end_date:m}=o;if(a.F.notNull(p)&&a.F.notNull(m)){var c={total_vad:0,total_vad_pcime_c:0,total_suivi_pcime_c:0,total_vad_femmes_enceinte:0,total_vad_femmes_postpartum:0,total_recherche_active:0,total_vad_family_planning:0,reference_femmes_pf:0,reference_pcime:0,reference_femmes_enceinte_postpartum:0,total_diarrhee_pcime_soins:0,total_paludisme_pcime_soins:0,total_pneumonie_pcime_soins:0,total_malnutrition_pcime_soins:0,prompt_diarrhee_24h_pcime_soins:0,prompt_diarrhee_48h_pcime_soins:0,prompt_diarrhee_72h_pcime_soins:0,prompt_paludisme_24h_pcime_soins:0,prompt_paludisme_48h_pcime_soins:0,prompt_paludisme_72h_pcime_soins:0,prompt_pneumonie_24h_pcime_soins:0,prompt_pneumonie_48h_pcime_soins:0,prompt_pneumonie_72h_pcime_soins:0,total_vad_femmes_enceintes_NC:0,total_vad_femme_postpartum_NC:0,total_test_de_grossesse_domicile:0};for(let g=0;g<this.Chws$.length;g++){const i=this.Chws$[g].id,n=t.total_home_visit[i].count+t.total_pcime_soins[i].count+t.total_pregnancy_family_planning[i].count+t.total_pcime_suivi[i].count+t.total_newborn_suivi[i].count+t.total_prenatal_suivi[i].count+t.total_postnatal_suivi[i].count+t.total_malnutrition_suivi[i].count+t.total_vad_women_emergency_suivi[i].count+t.total_family_planning_renewal_suivi[i].count,r=t.total_pcime_soins[i].count+t.total_pcime_suivi[i].count+t.total_newborn_suivi[i].count+t.total_malnutrition_suivi[i].count,y=t.total_pcime_suivi[i].count+t.total_newborn_suivi[i].count+t.total_malnutrition_suivi[i].count,b=t.total_reference_family_planning_soins[i].count+t.total_reference_family_planning_renewal_suivi[i].count,$=t.total_reference_pcime_soins[i].count+t.total_reference_pcime_suivi[i].count+t.total_reference_newborn[i].count+t.total_reference_malnutrition_suivi[i].count,T=t.total_reference_femme_enceinte_soins[i].count+t.total_reference_prenatal_suivi[i].count+t.total_reference_postnatal_suivi[i].count+t.total_reference_women_emergency_suivi[i].count,Z=t.total_vad_femme_enceinte_soins[i].count+t.total_prenatal_suivi[i].count+t.total_femme_enceinte_women_emergency_suivi[i].count,N=t.total_postnatal_suivi[i].count+t.total_femme_postpartum_women_emergency_suivi[i].count,U=n-(r+Z+N+t.total_home_visit[i].count);c.total_vad+=n,c.total_vad_pcime_c+=r,c.total_suivi_pcime_c+=y,c.total_vad_femmes_enceinte+=Z,c.total_vad_femmes_postpartum+=N,c.total_recherche_active+=t.total_home_visit[i].count,c.total_vad_family_planning=U,c.reference_femmes_pf+=b,c.reference_pcime+=$,c.reference_femmes_enceinte_postpartum=T,c.total_diarrhee_pcime_soins+=t.total_diarrhee_pcime_soins[i].count,c.total_paludisme_pcime_soins+=t.total_paludisme_pcime_soins[i].count,c.total_pneumonie_pcime_soins+=t.total_pneumonie_pcime_soins[i].count,c.total_malnutrition_pcime_soins+=t.total_malnutrition_pcime_soins[i].count,c.prompt_diarrhee_24h_pcime_soins+=t.prompt_diarrhee_24h_pcime_soins[i].count,c.prompt_diarrhee_48h_pcime_soins+=t.prompt_diarrhee_48h_pcime_soins[i].count,c.prompt_diarrhee_72h_pcime_soins+=t.prompt_diarrhee_72h_pcime_soins[i].count,c.prompt_paludisme_24h_pcime_soins+=t.prompt_paludisme_24h_pcime_soins[i].count,c.prompt_paludisme_48h_pcime_soins+=t.prompt_paludisme_48h_pcime_soins[i].count,c.prompt_paludisme_72h_pcime_soins+=t.prompt_paludisme_72h_pcime_soins[i].count,c.prompt_pneumonie_24h_pcime_soins+=t.prompt_pneumonie_24h_pcime_soins[i].count,c.prompt_pneumonie_48h_pcime_soins+=t.prompt_pneumonie_48h_pcime_soins[i].count,c.prompt_pneumonie_72h_pcime_soins+=t.prompt_pneumonie_72h_pcime_soins[i].count,c.total_vad_femmes_enceintes_NC+=t.total_vad_femme_enceinte_NC_soins[i].count,c.total_vad_femme_postpartum_NC+=t.total_vad_femme_postpartum_NC[i].count,c.total_test_de_grossesse_domicile+=t.total_test_de_grossesse_domicile[i].count}this.allAggragateData=[],Object.entries(c).map(([g,d])=>{let i={label:a.F.capitaliseDataGiven(g,"_"," "),count:0,icon:"ion-bag",color:"bg-info",detailUrl:"/dashboards/dash1"};return i.count=d,this.allAggragateData.push(i),""})}this.initMsg="",this.isLoading=!1}}return _.\u0275fac=function(t){return new(t||_)(e.Y36(q.p),e.Y36(x._))},_.\u0275cmp=e.Xpm({type:_,selectors:[["app-dashboard-3"]],decls:47,vars:11,consts:[[1,"content"],[1,"container-fluid"],[1,"card","card-info"],[1,"overlay-wrapper"],["class","overlay",4,"ngIf"],[1,"card-header"],["novalidate","",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-sm-2","col-6"],[1,"form-group"],["type","date","formControlName","start_date",1,"form-control"],["type","date","formControlName","end_date",1,"form-control"],["class","form-control","multiple","multiple","formControlName","sources",3,"change",4,"ngIf"],["class","form-control",4,"ngIf"],["class","form-control","multiple","multiple","formControlName","sites",3,"change",4,"ngIf"],[1,"col-sm-3","col-6"],["class","form-control","multiple","multiple","formControlName","chws",4,"ngIf"],[1,"col-sm-1","col-6"],["type","submit",1,"btn","btn-warning","form-control",3,"disabled"],[1,"fa","fa-floppy-o","fa-right"],[1,"row","card-body"],["class","col-sm-3 col-6",4,"ngFor","ngForOf","ngForTrackBy"],[1,"overlay"],[1,"fas","fa-3x","fa-sync-alt","fa-spin"],[1,"text-bold","pt-2"],["multiple","multiple","formControlName","sources",1,"form-control",3,"change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"form-control"],["multiple","multiple","formControlName","sites",1,"form-control",3,"change"],["multiple","multiple","formControlName","chws",1,"form-control"],[1,"inner"],[2,"font-size","40px"],[1,"icon"]],template:function(t,o){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),e.YNc(4,X,4,1,"div",4),e.TgZ(5,"div",5)(6,"form",6),e.NdJ("ngSubmit",function(){return o.initDataFilted()}),e.TgZ(7,"div",7)(8,"div",8)(9,"div",9)(10,"label"),e._uU(11,"Date D\xe9but"),e.qZA(),e._UZ(12,"input",10),e.qZA()(),e.TgZ(13,"div",8)(14,"div",9)(15,"label"),e._uU(16,"Date Fin"),e.qZA(),e._UZ(17,"input",11),e.qZA()(),e.TgZ(18,"div",8)(19,"div",9)(20,"label"),e._uU(21,"Source"),e.qZA(),e.YNc(22,P,2,1,"select",12),e.YNc(23,ee,1,0,"select",13),e.qZA()(),e.TgZ(24,"div",8)(25,"div",9)(26,"label"),e._uU(27,"Site"),e.qZA(),e.YNc(28,ie,2,1,"select",14),e.YNc(29,oe,1,0,"select",13),e.qZA()(),e.TgZ(30,"div",15)(31,"div",9)(32,"label"),e._uU(33,"ASC"),e.qZA(),e.YNc(34,se,2,1,"select",16),e.YNc(35,_e,1,0,"select",13),e.qZA()(),e.TgZ(36,"div",17)(37,"div",9)(38,"label"),e._uU(39,"."),e.qZA(),e.TgZ(40,"button",18),e._uU(41," OK "),e._UZ(42,"span",19),e.qZA()()()()()()()(),e.TgZ(43,"div",20),e.YNc(44,ae,10,8,"div",21),e.qZA(),e._UZ(45,"br")(46,"br"),e.qZA()()),2&t&&(e.xp6(4),e.Q6J("ngIf",o.isLoading),e.xp6(2),e.Q6J("formGroup",o.aggradateDataForm),e.xp6(16),e.Q6J("ngIf",o.sources$.length>0),e.xp6(1),e.Q6J("ngIf",0==o.sources$.length),e.xp6(5),e.Q6J("ngIf",o.sites$.length>0),e.xp6(1),e.Q6J("ngIf",0==o.sites$.length),e.xp6(5),e.Q6J("ngIf",o.chws$.length>0),e.xp6(1),e.Q6J("ngIf",0==o.chws$.length),e.xp6(5),e.Q6J("disabled",!o.aggradateDataForm.valid),e.xp6(4),e.Q6J("ngForOf",o.allAggragateData)("ngForTrackBy",o.identifyAggragateData))},dependencies:[A.sg,A.O5,h._Y,h.YN,h.Kr,h.Fj,h.K7,h.JJ,h.JL,h.sg,h.u],encapsulation:2}),_})(),canActivate:[F.a],data:{href:"dashboard3",icon:"fa fa-user",label:"Dashboard-3",title:"Dashboard-3"}},{path:"dash4",component:(()=>{class _{constructor(t,o){this.db=t,this.sync=o,this.allAggragateData=[],this.home_actions_forms=["pcime_c_asc","pcime_c_referral","pcime_c_followup","malnutrition_followup","pregnancy_family_planning","prenatal_followup","postnatal_followup","newborn_followup","home_visit","women_emergency_followup","fp_follow_up_renewal"],this.vaccination_forms=["vaccination"],this.consultations_followup_forms=["pcime_c_asc","pregnancy_family_planning","pcime_c_followup","pcime_c_referral","malnutrition_followup","prenatal_followup","postnatal_followup","newborn_followup","women_emergency_followup","fp_follow_up_renewal"],this.consultations_forms=["pcime_c_asc","pregnancy_family_planning"],this.followup_forms=["pcime_c_followup","pcime_c_referral","malnutrition_followup","prenatal_followup","postnatal_followup","newborn_followup","women_emergency_followup","fp_follow_up_renewal"],this.all_child_forms=["pcime_c_asc","pcime_c_followup","newborn_followup","malnutrition_followup"],this.child_followup_forms=["pcime_c_followup","newborn_followup","malnutrition_followup"],this.allForms=["pcime_c_asc","vaccination_followup","pregnancy_family_planning","delivery","home_visit","newborn_followup","pcime_c_followup","malnutrition_followup","postnatal_followup","prenatal_followup","pcime_c_referral","fp_follow_up_renewal"],this.ChwsDataFromDb$=[],this.sources$=[],this.Chws$=[],this.Sites$=[],this.chws$=[],this.sites$=[],this.Zones$=[],this.Patients$=[],this.Families$=[],this.chwsCount=0,this.sitesChwsCount=0,this.zonesChwsCount=0,this.patientsChwsCount=0,this.familiesChwsCount=0}createDataFilterFormGroup(){return new h.cw({start_date:new h.NI(this.initDate.start_date,[h.kI.required,h.kI.minLength(7)]),end_date:new h.NI(this.initDate.end_date,[h.kI.required,h.kI.minLength(7)]),sites:new h.NI(""),sources:new h.NI("")})}identifyAggragateData(t,o){return o.label}ngOnInit(){this.isLoading=!1,this.initDate=a.E.startEnd21and20Date(),this.aggradateDataForm=this.createDataFilterFormGroup(),this.initAllData()}initAllData(){var t=this;return(0,C.Z)(function*(){t.isLoading=!0,t.initMsg="Chargement des Sites ...",t.sync.getSitesList().subscribe(function(){var o=(0,C.Z)(function*(p){t.Sites$=p;for(let m=0;m<t.Sites$.length;m++){const l=t.Sites$[m].source;null!=l&&""!=l&&!t.sources$.includes(l)&&t.sources$.push(l)}t.initMsg="Chargement des ASC ...",t.sync.getChwsList().subscribe(function(){var m=(0,C.Z)(function*(l){t.Chws$=l,t.initDataFilted()});return function(l){return m.apply(this,arguments)}}(),m=>{t.isLoading=!1,console.log(m.error)})});return function(p){return o.apply(this,arguments)}}(),o=>{t.isLoading=!1,console.log(o.error)})})()}formatHostName(t){return t.replace(".org","").replace("-",".").trim()}genarateSites(){const t=this.aggradateDataForm.value.sources;if(this.sites$=[],this.chws$=[],this.aggradateDataForm.value.sites=[],this.aggradateDataForm.value.chws=[],a.F.notNull(t))for(let o=0;o<this.Sites$.length;o++){const p=this.Sites$[o];a.F.notNull(p)&&t.includes(p.source)&&this.sites$.push(p)}else this.sites$=this.Sites$}genarateChws(){const t=this.aggradateDataForm.value.sites;if(this.chws$=[],this.aggradateDataForm.value.chws=[],a.F.notNull(t))for(let o=0;o<this.Chws$.length;o++){const p=this.Chws$[o];a.F.notNull(p)&&t.includes(p.site.id)&&this.chws$.push(p)}else this.chws$=this.Chws$}returnEmptyArrayIfNul(t){return a.F.notNull(t)?t:[]}initDataFilted(){const t=this.aggradateDataForm.value.start_date,o=this.aggradateDataForm.value.end_date,p=this.returnEmptyArrayIfNul(this.aggradateDataForm.value.chws),m=this.returnEmptyArrayIfNul(this.aggradateDataForm.value.sites);var u={start_date:t,end_date:o,sources:this.returnEmptyArrayIfNul(this.aggradateDataForm.value.sources),chws:p,sites:m,district:[]};this.isLoading=!0,this.initDate.start_date==t&&this.initDate.end_date==o&&0!=this.ChwsDataFromDb$?.length?this.getAllAboutData(u):(this.initDate.start_date=t,this.initDate.end_date=o,this.initMsg=`Chargement des donn\xe9es du ${a.E.getDateInFormat(u.start_date,0,"fr")} au ${a.E.getDateInFormat(u.end_date,0,"fr")}`,this.sync.getAllData(u).subscribe(s=>{this.ChwsDataFromDb$=s,this.getAllAboutData(u)},s=>{this.isLoading=!1,console.log(s.error)}))}getAllAboutData(t){this.initMsg="D\xe9marrage du calcule des indicateurs ...";const{start_date:o,end_date:p,chws:m,sites:l,sources:u}=t;if(a.F.notNull(o)&&a.F.notNull(p)){var s={total_home_visit:{},total_pcime_soins:{},total_pcime_suivi:{},total_reference_pcime_suivi:{},total_reference_pcime_soins:{},total_diarrhee_pcime_soins:{},total_paludisme_pcime_soins:{},total_pneumonie_pcime_soins:{},total_malnutrition_pcime_soins:{},prompt_diarrhee_24h_pcime_soins:{},prompt_diarrhee_48h_pcime_soins:{},prompt_diarrhee_72h_pcime_soins:{},prompt_paludisme_24h_pcime_soins:{},prompt_paludisme_48h_pcime_soins:{},prompt_paludisme_72h_pcime_soins:{},prompt_pneumonie_24h_pcime_soins:{},prompt_pneumonie_48h_pcime_soins:{},prompt_pneumonie_72h_pcime_soins:{},total_pregnancy_family_planning:{},total_reference_family_planning_soins:{},total_reference_femme_enceinte_soins:{},total_vad_femme_enceinte_soins:{},total_vad_femme_enceinte_NC_soins:{},total_test_de_grossesse_domicile:{},total_newborn_suivi:{},total_reference_newborn:{},total_malnutrition_suivi:{},total_reference_malnutrition_suivi:{},total_prenatal_suivi:{},total_reference_prenatal_suivi:{},total_postnatal_suivi:{},total_reference_postnatal_suivi:{},total_vad_femme_postpartum_NC:{},total_vad_women_emergency_suivi:{},total_reference_women_emergency_suivi:{},total_femme_enceinte_women_emergency_suivi:{},total_femme_postpartum_women_emergency_suivi:{},total_family_planning_renewal_suivi:{},total_reference_family_planning_renewal_suivi:{},total_vad_family_planning_NC:{}};for(let g=0;g<this.Chws$.length;g++){const d=this.Chws$[g].id;null!=d&&""!=d&&Object.entries(s).map(([i,n])=>{const r=n;r.hasOwnProperty(d)||(r[d]={chwId:d,count:0})})}for(let g=0;g<this.ChwsDataFromDb$.length;g++){const d=this.ChwsDataFromDb$[g];if(null!=d){const i=d.form,n=d.fields,r=null!=d.chw&&null!=d.chw.id&&""!=d.chw.id?d.chw.id:"",y=null!=d.site&&null!=d.site.id&&""!=d.site.id?d.site.id:"",b=null!=d.source&&""!=d.source?d.source:"",$=a.F.notNull(r)&&a.F.notNull(m)&&m?.includes(r)||!a.F.notNull(m),T=a.F.notNull(y)&&a.F.notNull(l)&&l?.includes(y)||!a.F.notNull(l),Z=a.F.notNull(b)&&a.F.notNull(u)&&u?.includes(b)||!a.F.notNull(u),N=!(!a.F.notNull(o)||!a.F.notNull(p))&&a.E.isBetween(`${o}`,d.reported_date,`${p}`);if($&&T&&N&&Z){if("home_visit"===i&&(s.total_home_visit[r].count+=1),"pcime_c_asc"===i&&(s.total_pcime_soins[r].count+=1,"yes"==n["group_review.s_have_you_refer_child"]&&(s.total_reference_pcime_soins[r].count+=1),"true"==n.has_diarrhea&&(s.total_diarrhee_pcime_soins[r].count+=1,"true"==n.within_24h&&(s.prompt_diarrhee_24h_pcime_soins[r].count+=1),("true"==n.within_24h||"true"==n.within_48h)&&(s.prompt_diarrhee_48h_pcime_soins[r].count+=1),("true"==n.within_24h||"true"==n.within_48h||"true"==n.within_72h)&&(s.prompt_diarrhee_72h_pcime_soins[r].count+=1)),"true"==n.fever_with_malaria&&(s.total_paludisme_pcime_soins[r].count+=1,"true"==n.within_24h&&(s.prompt_paludisme_24h_pcime_soins[r].count+=1),("true"==n.within_24h||"true"==n.within_48h)&&(s.prompt_paludisme_48h_pcime_soins[r].count+=1),("true"==n.within_24h||"true"==n.within_48h||"true"==n.within_72h)&&(s.prompt_paludisme_72h_pcime_soins[r].count+=1)),"true"==n.has_pneumonia&&(s.total_pneumonie_pcime_soins[r].count+=1,"true"==n.within_24h&&(s.prompt_pneumonie_24h_pcime_soins[r].count+=1),("true"==n.within_24h||"true"==n.within_48h)&&(s.prompt_pneumonie_48h_pcime_soins[r].count+=1),("true"==n.within_24h||"true"==n.within_48h||"true"==n.within_72h)&&(s.prompt_pneumonie_72h_pcime_soins[r].count+=1)),"true"==n.has_malnutrition&&(s.total_malnutrition_pcime_soins[r].count+=1)),"pcime_c_followup"===i&&(s.total_pcime_suivi[r].count+=1,"yes"==n["group_review.s_have_you_refer_child"]&&(s.total_reference_pcime_suivi[r].count+=1)),"newborn_followup"===i&&(s.total_newborn_suivi[r].count+=1,"yes"==n["group_summary.s_have_you_refer_child"]&&(s.total_reference_newborn[r].count+=1)),"malnutrition_followup"===i&&(s.total_malnutrition_suivi[r].count+=1,"yes"==n["results_page.s_have_you_refer_child"]&&(s.total_reference_malnutrition_suivi[r].count+=1)),"prenatal_followup"===i&&(s.total_prenatal_suivi[r].count+=1,"yes"==n["group_summary.s_have_you_refer_child"]&&(s.total_reference_prenatal_suivi[r].count+=1)),"postnatal_followup"===i&&(s.total_postnatal_suivi[r].count+=1,"yes"==n["group_summary.s_have_you_refer_child"]&&(s.total_reference_postnatal_suivi[r].count+=1),"1"==n.follow_up_count&&(s.total_vad_femme_postpartum_NC[r].count+=1)),"pregnancy_family_planning"===i){s.total_pregnancy_family_planning[r].count+=1;var c="positive"==n["s_reg_pregnancy_screen.s_reg_urine_result"],w="already_pregnant"==n["s_reg_pregnancy_screen.s_reg_why_urine_test_not_done"];"yes"==n["s_reg_pregnancy_screen.s_reg_urine_test"]&&(s.total_test_de_grossesse_domicile[r].count+=1),"yes"==n["s_summary.s_have_you_refer_child"]&&!c&&!w&&(s.total_reference_family_planning_soins[r].count+=1),(c||w)&&(s.total_vad_femme_enceinte_soins[r].count+=1,"fp_followup"!=n["s_reg_mode.s_reg_how_found"]&&(s.total_vad_femme_enceinte_NC_soins[r].count+=1),"yes"==n["s_summary.s_have_you_refer_child"]&&(s.total_reference_femme_enceinte_soins[r].count+=1)),"yes"==n["s_fam_plan_screen.agreed_to_fp"]&&(s.total_vad_family_planning_NC[r].count+=1)}"women_emergency_followup"===i&&(s.total_vad_women_emergency_suivi[r].count+=1,"yes"==n["group_summary.s_have_you_refer_child"]&&(s.total_reference_women_emergency_suivi[r].count+=1),"pregnant"==n["initial.woman_status"]&&(s.total_femme_enceinte_women_emergency_suivi[r].count+=1),"postpartum"==n["initial.woman_status"]&&(s.total_femme_postpartum_women_emergency_suivi[r].count+=1)),"fp_follow_up_renewal"===i&&(s.total_family_planning_renewal_suivi[r].count+=1,"true"==n["check$2.s_refer_for_health_state"]&&(s.total_reference_family_planning_renewal_suivi[r].count+=1))}}}this.transformData(s,t)}}transformData(t,o){const{start_date:p,end_date:m}=o;if(a.F.notNull(p)&&a.F.notNull(m)){var c={total_vad:0,total_vad_pcime_c:0,total_suivi_pcime_c:0,total_vad_femmes_enceinte:0,total_vad_femmes_postpartum:0,total_recherche_active:0,total_vad_family_planning:0,reference_femmes_pf:0,reference_pcime:0,reference_femmes_enceinte_postpartum:0,total_diarrhee_pcime_soins:0,total_paludisme_pcime_soins:0,total_pneumonie_pcime_soins:0,total_malnutrition_pcime_soins:0,prompt_diarrhee_24h_pcime_soins:0,prompt_diarrhee_48h_pcime_soins:0,prompt_diarrhee_72h_pcime_soins:0,prompt_paludisme_24h_pcime_soins:0,prompt_paludisme_48h_pcime_soins:0,prompt_paludisme_72h_pcime_soins:0,prompt_pneumonie_24h_pcime_soins:0,prompt_pneumonie_48h_pcime_soins:0,prompt_pneumonie_72h_pcime_soins:0,total_vad_femmes_enceintes_NC:0,total_vad_femme_postpartum_NC:0,total_test_de_grossesse_domicile:0};for(let g=0;g<this.Chws$.length;g++){const i=this.Chws$[g].id,n=t.total_home_visit[i].count+t.total_pcime_soins[i].count+t.total_pregnancy_family_planning[i].count+t.total_pcime_suivi[i].count+t.total_newborn_suivi[i].count+t.total_prenatal_suivi[i].count+t.total_postnatal_suivi[i].count+t.total_malnutrition_suivi[i].count+t.total_vad_women_emergency_suivi[i].count+t.total_family_planning_renewal_suivi[i].count,r=t.total_pcime_soins[i].count+t.total_pcime_suivi[i].count+t.total_newborn_suivi[i].count+t.total_malnutrition_suivi[i].count,y=t.total_pcime_suivi[i].count+t.total_newborn_suivi[i].count+t.total_malnutrition_suivi[i].count,b=t.total_reference_family_planning_soins[i].count+t.total_reference_family_planning_renewal_suivi[i].count,$=t.total_reference_pcime_soins[i].count+t.total_reference_pcime_suivi[i].count+t.total_reference_newborn[i].count+t.total_reference_malnutrition_suivi[i].count,T=t.total_reference_femme_enceinte_soins[i].count+t.total_reference_prenatal_suivi[i].count+t.total_reference_postnatal_suivi[i].count+t.total_reference_women_emergency_suivi[i].count,Z=t.total_vad_femme_enceinte_soins[i].count+t.total_prenatal_suivi[i].count+t.total_femme_enceinte_women_emergency_suivi[i].count,N=t.total_postnatal_suivi[i].count+t.total_femme_postpartum_women_emergency_suivi[i].count,U=n-(r+Z+N+t.total_home_visit[i].count);c.total_vad+=n,c.total_vad_pcime_c+=r,c.total_suivi_pcime_c+=y,c.total_vad_femmes_enceinte+=Z,c.total_vad_femmes_postpartum+=N,c.total_recherche_active+=t.total_home_visit[i].count,c.total_vad_family_planning=U,c.reference_femmes_pf+=b,c.reference_pcime+=$,c.reference_femmes_enceinte_postpartum=T,c.total_diarrhee_pcime_soins+=t.total_diarrhee_pcime_soins[i].count,c.total_paludisme_pcime_soins+=t.total_paludisme_pcime_soins[i].count,c.total_pneumonie_pcime_soins+=t.total_pneumonie_pcime_soins[i].count,c.total_malnutrition_pcime_soins+=t.total_malnutrition_pcime_soins[i].count,c.prompt_diarrhee_24h_pcime_soins+=t.prompt_diarrhee_24h_pcime_soins[i].count,c.prompt_diarrhee_48h_pcime_soins+=t.prompt_diarrhee_48h_pcime_soins[i].count,c.prompt_diarrhee_72h_pcime_soins+=t.prompt_diarrhee_72h_pcime_soins[i].count,c.prompt_paludisme_24h_pcime_soins+=t.prompt_paludisme_24h_pcime_soins[i].count,c.prompt_paludisme_48h_pcime_soins+=t.prompt_paludisme_48h_pcime_soins[i].count,c.prompt_paludisme_72h_pcime_soins+=t.prompt_paludisme_72h_pcime_soins[i].count,c.prompt_pneumonie_24h_pcime_soins+=t.prompt_pneumonie_24h_pcime_soins[i].count,c.prompt_pneumonie_48h_pcime_soins+=t.prompt_pneumonie_48h_pcime_soins[i].count,c.prompt_pneumonie_72h_pcime_soins+=t.prompt_pneumonie_72h_pcime_soins[i].count,c.total_vad_femmes_enceintes_NC+=t.total_vad_femme_enceinte_NC_soins[i].count,c.total_vad_femme_postpartum_NC+=t.total_vad_femme_postpartum_NC[i].count,c.total_test_de_grossesse_domicile+=t.total_test_de_grossesse_domicile[i].count}this.allAggragateData=[],Object.entries(c).map(([g,d])=>{let i={label:a.F.capitaliseDataGiven(g,"_"," "),count:0,icon:"ion-bag",color:"bg-info",detailUrl:"/dashboards/dash1"};return i.count=d,this.allAggragateData.push(i),""})}this.initMsg="",this.isLoading=!1}}return _.\u0275fac=function(t){return new(t||_)(e.Y36(q.p),e.Y36(x._))},_.\u0275cmp=e.Xpm({type:_,selectors:[["app-dashboard-4"]],decls:44,vars:0,consts:[[1,"content"],[1,"container-fluid"],[1,"card","card-info"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body","p-0"],[1,"table","table-sm","table-striped",2,"margin-left","auto","margin-right","auto"],[2,"width","10px"],[1,"custom-badge"],[1,"info"],[2,"text-align","center"],[1,"custom-action"],[1,"badge","bg-warning"]],template:function(t,o){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),e._uU(6,"Condensed Full Width Table"),e.qZA()(),e.TgZ(7,"div",6)(8,"table",7)(9,"thead")(10,"tr")(11,"th",8),e._uU(12,"#"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Task"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Label"),e.qZA()()(),e.TgZ(17,"tbody")(18,"tr")(19,"td")(20,"span",9),e._uU(21,"1."),e.qZA()(),e.TgZ(22,"td")(23,"span",9),e._uU(24,"Update software"),e.qZA(),e._UZ(25,"br"),e.TgZ(26,"span",10),e._uU(27,"Action total: "),e.TgZ(28,"strong"),e._uU(29,"275"),e.qZA()()(),e.TgZ(30,"td",11)(31,"span",12),e._uU(32,"55"),e.qZA(),e._UZ(33,"br"),e.TgZ(34,"span",10),e._uU(35,"Actions/Jr"),e.qZA()()(),e.TgZ(36,"tr")(37,"td"),e._uU(38,"2."),e.qZA(),e.TgZ(39,"td"),e._uU(40,"Clean database"),e.qZA(),e.TgZ(41,"td")(42,"span",13),e._uU(43,"70%"),e.qZA()()()()()()()()()())},styles:[".custom-badge[_ngcontent-%COMP%]{font-size:18px;color:#000}.custom-action[_ngcontent-%COMP%]{font-size:25px;color:#000;text-align:center!important}.info[_ngcontent-%COMP%]{text-align:center!important}"]}),_})(),canActivate:[F.a],data:{href:"dashboard4",icon:"fa fa-user",label:"Dashboard-4",title:"Dashboard-4"}}];let pe=(()=>{class _{}return _.\u0275fac=function(t){return new(t||_)},_.\u0275mod=e.oAB({type:_}),_.\u0275inj=e.cJS({imports:[S.Bz.forChild(ce),S.Bz]}),_})(),me=(()=>{class _{}return _.\u0275fac=function(t){return new(t||_)},_.\u0275mod=e.oAB({type:_}),_.\u0275inj=e.cJS({imports:[A.ez,h.UX,pe]}),_})()}}]);