<!-- views/chws.ejs -->

<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Documentation</title>
  <style>
    * {
      font-size: 20px;
    }

    body {
      font-family: Arial, sans-serif;
      line-height: 1.6;
      margin: 0px auto;
      padding: 30px;
    }

    footer,
    header {
      background-color: #f2f2f2;
      padding: 20px;
      text-align: center;
      margin-top: 20px;
    }

    footer p {
      margin: 5px;
    }

    header h1 {
      margin: 5px;
      font-size: 40px;
    }

    h1 {
      margin-top: 20px;
      font-size: 30px !important;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }

    th,
    td {
      padding: 10px;
      border-bottom: 1px solid #ddd;
      text-align: left;
    }

    th:first-child,
    td:first-child {
      font-weight: bold;
    }

    thead th {
      background-color: #f2f2f2;
    }

    tbody tr:hover {
      background-color: #f5f5f5;
    }

    a {
      display: block;
      margin-top: 20px;
      text-decoration: none;
      color: blue;
    }

    a:hover {
      text-decoration: underline;
    }

    #structure-exemple,
    #structure-exemple li ul,
    #structure-exemple li ul li ul,
    #structure-exemple li ul li ul li ul,
    #structure-exemple li ul li ul li ul li ul,
    #valid-path,
    #valid-path li ul,
    #valid-path li ul li ul {
      list-style: none;
    }
  </style>
</head>

<body>
  <header>
    <h1>API DOCUMENTATIONS</h1>
  </header>

  <h1>Liens disponibles</h1>

  <ul id="valid-path">
    <li>validPaths = [
      <ul>
        <li>/api/documentations</li>
        <li>/api/chws-meg</li>
        <li>/api/chws-meg.json</li>
        <br>
        <li>/api/districts</li>
        <li>/api/districts.json</li>
        <br>
        <li>/api/sites</li>
        <li>/api/sites.json</li>
        <br>
        <li>/api/zones</li>
        <li>/api/zones.json</li>
        <br>
        <li>/api/chws</li>
        <li>/api/chws.json</li>
      </ul>
      ];
    </li>
  </ul>

  <h1>Paramètres</h1>
  <table>
    <thead>
      <tr>
        <th>Paramètre</th>
        <th>Type</th>
        <th>Exemple 1</th>
        <th>Exemple 2</th>
        <th>required</th>
        <th>assert</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>api_access_key</td>
        <td>string</td>
        <td>api_access_key=myapiaccesskey</td>
        <td>api_access_key='myapiaccesskey'</td>
        <td>Yes for all api</td>
        <td>If not provided</td>
      </tr>
      <tr>
        <td>year</td>
        <td>string</td>
        <td>year=2023</td>
        <td>year='2023'</td>
        <td>Yes only for '/api/chws-meg'</td>
        <td>If not provided</td>
      </tr>
      <tr>
        <td>month</td>
        <td>string</td>
        <td>month=12</td>
        <td>month='12'</td>
        <td>Yes only for '/api/chws-meg'</td>
        <td>If not provided</td>
      </tr>
      <tr>
        <td>districts</td>
        <td>string | Array</td>
        <td>districts=id_district</td>
        <td>districts=[id_district1, id_district2, ...]</td>
        <td>Yes only for '/api/chws-meg'</td>
        <td>If not provided</td>
      </tr>
      <tr>
        <td>sites</td>
        <td>string | Array</td>
        <td>sites=id_site</td>
        <td>sites=[id_site1, id_site2, ...]</td>
        <td>Yes only for '/api/chws-meg'</td>
        <td>If not provided</td>
      </tr>
      <tr>
        <td>chws</td>
        <td>string | Array</td>
        <td>chws=id_chw</td>
        <td>chws=[id_chw1, id_chw2, ...]</td>
        <td>No</td>
        <td>If (districts, sites, chws) are null</td>
      </tr>
      <tr>
        <td>zones</td>
        <td>string | Array</td>
        <td>zones=id_zone</td>
        <td>zones=[id_zone1, id_zone2, ...]</td>
        <td>No</td>
        <td>No</td>
      </tr>
    </tbody>
  </table>

  <h1>Exemple</h1>
  <ul>
    <li><strong>Host:</strong> &nbsp;&nbsp; <%= host %>
    </li>
    <li><strong>API Access Key:</strong> &nbsp;&nbsp; <%= api_access_key %>
    </li>
    <li><strong>Year:</strong> &nbsp;&nbsp; <%= year %>
    </li>
    <li><strong>Month:</strong> &nbsp;&nbsp; <%= month %>
    </li>
    <li><strong>Districts:</strong> &nbsp;&nbsp; <%= districts %>
    </li>
    <li><strong>Sites:</strong> &nbsp;&nbsp; <%= sites %>
    </li>
    <li><strong>CHWs:</strong> &nbsp;&nbsp; <%= chws %>
    </li>
  </ul>

  <h1>Exemple URL complet</h1>
  <% if (typeof full_url !=='undefined' ) { %>
    <a href="<%= full_url %>">
      <%= full_url %>
    </a>
    <% } else { %>
      <p>URL complet non disponible</p>
      <% } %>
        <h1>Structure données MEG: ( exempe de: Albendazole 400mg cp ) </h1>
        <ul id="structure-exemple">
          <li>{
            <ul>
              <li>length: 1,
                <ul>
                  <li>CHWS_MEG:[
                    <ul>
                      <li>{
                        <ul>
                          <li>Albendazole_400_mg_cp_1: {
                            <ul>
                              <li>month_quantity_beginning: 0,</li>
                              <li>month_quantity_received: 0,</li>
                              <li>month_total_quantity: 0,</li>
                              <li>month_consumption: 0,</li>
                              <li>theoretical_quantity: 0,</li>
                              <li>inventory_quantity: 0,</li>
                              <li>inventory_variance: 0,</li>
                              <li>year_chw_cmm: 0,</li>
                              <li>theoretical_quantity_to_order: 0,</li>
                              <li>quantity_to_order: 0,</li>
                              <li>quantity_validated: 0,</li>
                              <li>delivered_quantity: 0,</li>
                              <li>lending: "",</li>
                              <li>lending_quantity: 0,</li>
                              <li>lending_chws_code: "",</li>
                              <li>borrowing: "",</li>
                              <li>borrowing_quantity: 0,</li>
                              <li>borrowing_chws_code: "",</li>
                              <li>quantity_loss: 0,</li>
                              <li>quantity_damaged: 0,</li>
                              <li>quantity_broken: 0,</li>
                              <li>quantity_expired: 0,</li>
                              <li>other_quantity: 0,</li>
                              <li>comments: "Commentaire de l'ASC",</li>
                              <li>observations: "Commentaire su suprviseur",</li>
                            </ul>
                            }
                          </li>
                        </ul>
                        }
                      </li>
                    </ul>
                    ]
                  </li>
                </ul>
              </li>
            </ul>
            }
          </li>
        </ul>

        <footer>
          <p>© Copyright <strong>2024</strong>. Made with love by <strong>Kossi TSOLEGNAGBO</strong></p>
        </footer>

</body>

</html>